{"version":3,"sources":["components/routes/listItems.js","components/routes/ChildListItems.js","components/routes/ParentListItems.js","components/layout/Footer.js","components/api/OKTA.js","components/api/enitity.crud.js","components/context/UserContext.js","components/layout/Layout.js","components/okta/Home.js","components/okta/OktaSignInWidget.js","components/okta/Login.js","components/entity/TestAutocomplete.js","components/entity/AddEntity.js","components/api/attachment.js","components/entity/ComplianceTaskList.js","components/entity/ContactList.js","components/attachment/AttachmentTable.js","components/api/message.js","components/message/AdminSendMessageForm.js","components/message/SendMessageForm.js","components/message/AllMessages.js","components/message/NewChatPanel.js","components/entity/ChildDetailedPage.js","components/dashboard/Dashboard.js","components/entity/EntityDetailedPage.js","components/message/MainChatApp.js","components/entity/SelfDetailedPage.js","components/api/contact.crud.js","components/contact/AddContactForm.js","components/attachment/Attachments.js","components/contact/Contacts.js","components/attachment/AddAttachmentForm.js","components/privacy/Privacy.js","components/entity/ExampleTable.js","components/attachment/AdminAttachmentForm.js","components/message/MessageLog.js","components/routes/AppWithRouterAccess.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","link","color","textDecoration","MainListItems","classes","className","to","ListItem","button","ListItemIcon","ListItemText","primary","ChildListItems","ParentListItems","Footer","Typography","variant","align","Link","href","Date","getFullYear","fetchUserProfile","sub","a","fetch","process","headers","Accept","Authorization","response","Promise","resolve","json","ENTITY","entityList","token","JSON","parse","localStorage","getItem","checkRole","eid","bit","tokenOKTA","okta","accessToken","entityDetail","entity","selfEntityDetail","ContactTypeList","email","EntityList","EntitytypesList","StateRegionList","createEntity","data","method","body","lorexFileUpload","UserContext","createContext","drawerState","role","title","profile","attributes","loading","errorList","currentEntity","userMessages","Consumer","withOktaAuth","props","useOktaAuth","authState","authService","useState","setTitle","setDrawerState","setToken","setProfile","setAttributes","appLoader","setAppLoader","setErrorList","setCurrentEntity","setUserMessages","setRole","outerThreads","setOuterThreads","React","useEffect","undefined","initialUtliz","length","map","value","index","setTimeout","removeError","removeItem","getToken","getUserProfile","result_profile","getUserAttributes","result_attributes","getUserRole","setInterval","tokenResult","getUser","UserData","AllAttributes","organization_parent","toLowerCase","organization","get_role","status","setItem","addError","message","array","splice","Provider","addTitle","changeDrawer","updateCurrentEntity","setUserMessagesForInbox","addMessage","UserRole","currentUser","id","Math","floor","random","newDate","moment","format","from_eid","elementsIndex","findIndex","element","Subject","subject","newArray","child","toString","entity_id","fromEid","from","gid","sendTime","manageOuterThreads","children","theme","root","display","toolbar","paddingRight","backgroundColor","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","chevronLeftIcon","flexGrow","textTransform","fontSize","drawerPaper","position","whiteSpace","breakpoints","up","flexShrink","drawerPaperClose","overflowX","spacing","appBarSpacer","content","height","overflow","container","paddingTop","paddingBottom","paper","flexDirection","fixedHeight","listColor","useContext","matches","useMediaQuery","maxWidth","useHistory","timerToClearSomewhere","useRef","current","clear","logout","clearTimeout","mobileOpen","setMobileOpen","anchorEl","setAnchorEl","openMenu","Boolean","maxSnack","CssBaseline","AppBar","clsx","Toolbar","IconButton","edge","aria-label","onClick","component","noWrap","event","currentTarget","name","anchorOrigin","vertical","horizontal","keepMounted","open","onClose","TransitionComponent","Fade","getContentAnchorEl","MenuItem","Drawer","ModalProps","Divider","List","Container","Box","pt","size","login","bind","this","isPending","isAuthenticated","Component","OktaSignInWidget","el","ReactDOM","findDOMNode","widget","OktaSignIn","baseUrl","features","showPasswordToggleOnSignInPage","clientId","redirectUri","authScheme","logo","authParams","issuer","responseType","scopes","authorizeUrl","renderEl","onSuccess","onError","remove","Copyright","paperContainer","marginTop","avatar","margin","palette","secondary","main","form","submit","Login","res","redirect","sessionToken","session","err","console","log","pathname","style","mt","withStyles","smartyStreetsSharedCredentials","SmartyStreetsSDK","SharedCredentials","autoCompleteClient","ClientBuilder","buildUsAutocompleteClient","IntegrationDownshift","left","right","chip","inputRoot","flexWrap","inputInput","divider","suggestions","setSuggestions","setValue","getFinal","setGetFinal","sendDatatoParent","resetState","reset","addressObject","smartyHandler","Lookup","target","lookup","send","then","add","result","selectedItem","onStateChange","changes","hasOwnProperty","newObject","find","text","inputValue","getInputProps","getItemProps","getLabelProps","getMenuProps","highlightedIndex","isOpen","clearSelection","getRootProps","onInputValueChange","placeholder","onBlur","onFocus","inputProps","disabled","error","required","helperText","InputProps","ref","other","TextField","onChange","inputRef","input","renderInput","fullWidth","label","InputLabelProps","shrink","Paper","square","showEmpty","deburr","trim","inputLength","count","filter","suggestion","keep","slice","getSuggestions","suggestionProps","itemProps","isHighlighted","isSelected","indexOf","selected","key","fontWeight","renderSuggestion","item","client","buildUsStreetApiClient","useStylesFacebook","top","bottom","animationDuration","backButton","instructions","marginBottom","adjustment","companyinfo","listStyle","minHeight","listItem","textField","textFieldOther","textFieldCity","textFieldtwofield","selectField","dense","checkbox","fileUpapiLoading","submitButton","float","restButton","loader","success","green","fileError","dark","info","warning","amber","icon","iconVariant","opacity","paddingLeft","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","MySnackbarContentWrapper","Icon","SnackbarContent","elevation","aria-describedby","action","setOpen","userAgree","setUserAgree","setAddressObject","addressValue","setAddressValue","addressReset","setAddressReset","setIsValidAddress","apiLoading","setApiLoading","setError","setContactType","FillingStructureData","setFillingStructureData","StateRegion","setStateRegion","successMessage","setSuccessMessage","fiscal","inputName","setInputName","inputComplianceOnly","setInputComplianceOnly","inputFillingState","setInputFillingState","inputFillingStructure","setInputFillingStructure","inputFormationDate","setInputFormationDate","inputFiscalDate","setInputFiscalDate","inputNotificationEmail","setInputNotificationEmail","inputNotificationPhone","setInputNotificationPhone","inputNotificationAddress","setInputNotificationAddress","inputEIN","setInputEIN","inputNotificationCity","setInputNotificationCity","inputNotificationState","setInputNotificationState","inputNotificationZip","setInputNotificationZip","inputFiling","setInputFiling","inputBusinessPurpose","setInputBusinessPurpose","inputForeign","setInputForeign","inputFileName","setInputFileName","inputFileSize","setInputFileSize","handleClose","iAgree","handleOnSubmit","FacebookProgress","CircularProgress","thickness","disableShrink","city","state","fetchDataforDropdownsContactTypeList","fetchDataforDropdownsFillingStructureData","fetchDataforDropdownsStateRegion","ContactTypeListLocal","stringify","EntitytypesListLocal","StateRegionListLocal","fileChange","e","files","formData","FormData","append","filename","record_id","file_size","file","resetForm","addressCheck","lookup1","street","streetLine","zipCode","valid","utils","isValid","lookups","createEntitysubmit","userResponse","preventDefault","formsubmit","parseInt","zip","type","window","location","reload","field_error","Object","keys","forEach","scrollTo","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","Grid","onSubmit","noValidate","autoComplete","FormGroup","row","FormControlLabel","checked","control","Checkbox","labelPlacement","FormControl","InputLabel","htmlFor","Select","anObjectMapped","code","FormHelperText","CustomFileInput","File","invalid","AttachmentsList","zoho_id","attachFiles","taskUpdate","table","minWidth","ComplianceTaskList","setLoading","setStatus","taskID","setTaskID","taskUpdateController","update","xs","isLoading","actions","rowData","tooltip","options","selection","actionsColumnIndex","columns","withRouter","history","isFreeAction","push","url","sorting","fileId","search","sendMessageAPI","TemplateList","getTemplate","FetchThreads","sendMessageFormChat","FetchMessageLogs","subjectDense","baseColor","textAlign","AdminSendMessageForm","match","params","setContent","setSubject","sendasEmail","setSendasEmail","messageType","setMessageType","templates","setTemplates","note","phone","mail","noteType","noteChosen","setNoteChosen","getTemplateList","results","sendMessageSubmission","resetFormError","toast","POSITION","BOTTOM_LEFT","handleTemplateListing","newValue","Autocomplete","getOptionLabel","option","entries","val","disable","editor","ClassicEditor","onReady","getData","SendMessageForm","background","inline","viewButton","SkeletonLoading","skeletonWidth","skeletonStyle","AllMessages","threads","setThreads","getAllMessageThreads","stripHTML","myString","replace","truncate","str","no_words","split","join","lastMessage","threadInfo","lastChild","ListItemAvatar","Skeleton","animation","Fragment","openmodal","Avatar","alt","src","entityName","HtmlToReactParser","require","Parser","NewChatPanel","createRef","IncomingIDFromAllMessages","inComingThreadID","setActiveThread","chosenThread","setChosenThread","updateThread","setUpdateThread","setMessage","obj","o","scrollToBottom","animateScroll","containerId","delay","smooth","onClickThread","threadID","getInitials","string","names","initials","substring","toUpperCase","sendMessage","convertHTML","htmlInput","messageOrientation","namePicker","isHTML","aria-hidden","onKeyPress","errorMessage","breadcrumbsDiv","breadcrumbsInner","listInner","messageSection","messageTitle","rootDrawer","entitydetail","setEntitydetail","contactList","setContactList","attachmentList","setAttachmentList","taskList","setTaskList","compliance","setComplainace","componentLoading","setComponentLoading","setState","modalIsOpen","setIsOpen","fetchDetailedProfile","detailedView","reject","contacts","attachments","tasks","errors","detail","updateComplianceTable","contactData","field","taskData","attachmentData","editable","toggleDrawer","anchor","sm","Card","CardHeader","gutterBottom","CardContent","stateId","formationDate","expirationDate","subheader","registerAgent","fileAs","address","address2","zipcode","shippingStreet","shippingCity","shippingState","shippingCode","parentSelector","document","querySelector","onAfterOpen","onRequestClose","contentLabel","overlay","entitydata","setEntityData","asyncDataFetch","fetchData","parentChildData","rows","parentId","sideColor","appBarTitle","skeletonItem","Breadcrumbs","goBack","createContact","fileUpcomponentLoading","contactType","inputContactFirstName","setInputContactFirstName","inputContactLastName","setInputLastName","inputContactEmail","inputContactPhone","inputContactStreet","inputContactType","setInputNotificationContactType","inputContactCity","inputContactState","inputContactZipcode","isValidAddress","setErrorMessage","addressValueChangeHandler","contactsCreate","updateStates","native","fetchAttachmentData","documents","dummyData","listcontacts","setListcontacts","dummyDataa","fileUploading","formStyle","uploadCustom","privacyBody","privacyLogo","Privacy","bigData","createMuiTheme","direction","i","d","surname","round","isMarried","birthDate","birthCity","sex","insertDateTime","time","ExampleTable","birthYear","removable","34","63","handlePreviewIcon","fileObject","iconProps","image","startsWith","Theaters","Description","PictureAsPdf","AttachFile","backdrop","setFiles","counter","entityId","setEntityId","setEntityList","setKey","fileIndex","entitylisitingLoader","EntityListLocal","prevState","account_name","getPreviewIcon","filesLimit","showPreviews","showPreviewsInDropzone","useChipsForPreview","previewGridProps","previewChipProps","previewChip","previewText","acceptedFiles","disableRejectionFeedback","clearOnUnmount","getFileAddedMessage","fileName","searchButton","MessageLog","date","setDate","date2","setDate2","onAuthRequired","origin","pkce","exact","path","Dashboard","Home","SelfDetailedPage","EntityDetailedPage","AddEntity","AddContactForm","Attachments","Contacts","AddAttachmentForm","AdminAddAttachmentForm","render","LoginCallback","App","hostname","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.b8570ffe.chunk.js","sourcesContent":["import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport Attachment from '@material-ui/icons/Attachment';\r\nimport {Link} from 'react-router-dom';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport ContactPhoneOutlinedIcon from '@material-ui/icons/ContactPhoneOutlined';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    link: {\r\n        color: 'white',\r\n        textDecoration: 'none'\r\n\r\n\r\n    }\r\n\r\n}))\r\n\r\nexport default function MainListItems() {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Link className={classes.link} to='/'>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <DashboardIcon color=\"primary\"/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Dashboard\"/>\r\n                </ListItem>\r\n            </Link>\r\n            {/*<Link className={classes.link} to='/entity/new/add'>*/}\r\n            {/*    <ListItem button>*/}\r\n            {/*        <ListItemIcon>*/}\r\n            {/*            <PeopleIcon color=\"primary\"/>*/}\r\n            {/*        </ListItemIcon>*/}\r\n            {/*        <ListItemText primary=\"Add entity\"/>*/}\r\n            {/*    </ListItem>*/}\r\n            {/*</Link>*/}\r\n            <Link className={classes.link} to='/attachments'>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <Attachment color=\"primary\"/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Attachments\"/>\r\n                </ListItem>\r\n            </Link>\r\n\r\n            <Link className={classes.link} to='/admin/attachments'>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <Attachment color=\"primary\"/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Bulk Attachments\"/>\r\n                </ListItem>\r\n            </Link>\r\n\r\n            <Link className={classes.link} to='/contacts'>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <ContactPhoneOutlinedIcon color=\"primary\"/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Contacts\"/>\r\n                </ListItem>\r\n            </Link>\r\n\r\n            <Link className={classes.link} to='/message/logs'>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <ContactPhoneOutlinedIcon color=\"primary\"/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Message Log\"/>\r\n                </ListItem>\r\n            </Link>\r\n\r\n        </div>)\r\n};\r\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Attachment from '@material-ui/icons/Attachment';\nimport {Link} from 'react-router-dom';\nimport {makeStyles} from '@material-ui/core/styles';\nimport ContactPhoneOutlinedIcon from '@material-ui/icons/ContactPhoneOutlined';\n\nconst useStyles = makeStyles(() => ({\n    link: {\n        color: 'white',\n        textDecoration: 'none'\n\n\n    }\n\n}))\n\nexport default function ChildListItems() {\n\n    const classes = useStyles();\n    return (\n        <div>\n            <Link className={classes.link} to='/'>\n                <ListItem button>\n                    <ListItemIcon>\n                        <DashboardIcon color=\"primary\"/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"Dashboard\"/>\n                </ListItem>\n            </Link>\n            {/*<Link className={classes.link} to='/entity/new/add'>*/}\n            {/*    <ListItem button>*/}\n            {/*        <ListItemIcon>*/}\n            {/*            <PeopleIcon color=\"primary\"/>*/}\n            {/*        </ListItemIcon>*/}\n            {/*        <ListItemText primary=\"Add entity\"/>*/}\n            {/*    </ListItem>*/}\n            {/*</Link>*/}\n            {/*<Link className={classes.link} to='/attachments'>*/}\n            {/*    <ListItem button>*/}\n            {/*        <ListItemIcon>*/}\n            {/*            <Attachment color=\"primary\"/>*/}\n            {/*        </ListItemIcon>*/}\n            {/*        <ListItemText primary=\"Attachments\"/>*/}\n            {/*    </ListItem>*/}\n            {/*</Link>*/}\n            {/*<Link className={classes.link} to='/contacts'>*/}\n            {/*    <ListItem button>*/}\n            {/*        <ListItemIcon>*/}\n            {/*            <ContactPhoneOutlinedIcon color=\"primary\"/>*/}\n            {/*        </ListItemIcon>*/}\n            {/*        <ListItemText primary=\"Contacts\"/>*/}\n            {/*    </ListItem>*/}\n            {/*</Link>*/}\n\n        </div>)\n};\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Attachment from '@material-ui/icons/Attachment';\nimport {Link} from 'react-router-dom';\nimport {makeStyles} from '@material-ui/core/styles';\nimport ContactPhoneOutlinedIcon from '@material-ui/icons/ContactPhoneOutlined';\n\nconst useStyles = makeStyles(() => ({\n    link: {\n        color: 'white',\n        textDecoration: 'none'\n\n\n    }\n\n}))\n\nexport default function ParentListItems() {\n\n    const classes = useStyles();\n    return (\n        <div>\n            <Link className={classes.link} to='/'>\n                <ListItem button>\n                    <ListItemIcon>\n                        <DashboardIcon color=\"primary\"/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"Dashboard\"/>\n                </ListItem>\n            </Link>\n            <Link className={classes.link} to='/entity/new/add'>\n                <ListItem button>\n                    <ListItemIcon>\n                        <PeopleIcon color=\"primary\"/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"Add entity\"/>\n                </ListItem>\n            </Link>\n            <Link className={classes.link} to='/attachments'>\n                <ListItem button>\n                    <ListItemIcon>\n                        <Attachment color=\"primary\"/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"Attachments\"/>\n                </ListItem>\n            </Link>\n            <Link className={classes.link} to='/contacts'>\n                <ListItem button>\n                    <ListItemIcon>\n                        <ContactPhoneOutlinedIcon color=\"primary\"/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"Contacts\"/>\n                </ListItem>\n            </Link>\n\n        </div>)\n};\n","import Typography from \"@material-ui/core/Typography\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport React from \"react\";\r\n\r\nexport default function Footer() {\r\n\r\n\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"/\">\r\n                AgentAdmin\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'. '}\r\n            <Link color=\"inherit\" href=\"/privacy-policy\">\r\n                Privacy Policy\r\n            </Link>\r\n        </Typography>\r\n    );\r\n}\r\n","export const fetchUserProfile = async (sub) => {\r\n\r\n    const response = await fetch(process.env.REACT_APP_OKTA_BASE_URL + `api/v1/users/${sub}`, {\r\n        headers: {\r\n            'Access-Control-Allow-Origin': '*',\r\n            Accept: 'application/json',\r\n            Authorization: `SSWS ${process.env.REACT_APP_OKTA_API_TOKEN}`,\r\n        }\r\n    });\r\n    return Promise.resolve(response.json());\r\n\r\n\r\n}\r\n","\r\nconst HOST = process.env.REACT_APP_SERVER_API_URL;\r\n\r\nconst LOREX_TOKEN = process.env.REACT_APP_LOREX_TOKEN;\r\nconst LOREX_API_HOST = process.env.REACT_APP_LOREX_API_HOST;\r\n\r\n\r\n\r\n// const LOREX_TOKEN = '3cJe5YXiSBGUAqYd0uFC2cKYvgfBIUswmXTudN3HQfvzIGvddfVYjPmakGOkGVM9g5YRKJR2FF9iYuZQ0GsbGw';\r\n// const LOREX_API_HOST = 'https://lorax-api-sandbox.filemystuff.com';\r\nexport const LOGIN_URL = \"api/auth/login\";\r\nexport const REGISTER_URL = \"api/auth/register\";\r\nexport const REQUEST_PASSWORD_URL = \"api/auth/forgot-password\";\r\nexport const ENTITY = HOST;\r\n\r\n\r\n\r\nexport const ME_URL = \"api/me\";\r\n\r\nexport const entityList = async (token) => {\r\n\r\n\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/Entity/getChildAccount`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': token,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\nexport const checkRole = async (eid,bit, tokenOKTA) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    var response = '';\r\n    if(okta) {\r\n        if(bit === 1) {\r\n           response = await fetch(`${ENTITY}/entity/role?eid=${eid}&bit=${bit}`, {\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*',\r\n                    'Authorization': okta.accessToken.accessToken,\r\n\r\n                }\r\n            });\r\n        }\r\n        if(bit === 0) {\r\n         response = await fetch(`${ENTITY}/entity/role?eid=${eid}`, {\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*',\r\n                    'Authorization': okta.accessToken.accessToken,\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const checkAdmin = async (zoho_id, email) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/admin_api/checkadmin/?zoho_id=${zoho_id}&email=${email}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const taskUpdate = async (eid, data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/Tasks/completeTaskInZoho/${eid}`, {\r\n            method: 'put',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n            body: data\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\nexport const entityDetail = async (entity) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/entity/entityview/?eid=${entity}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const selfEntityDetail = async () => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/entity/entityview`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const ContactTypeList = async (eid, email) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/ContactTypes/list?eid=${eid}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const EntityList = async (eid, email) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/entity/comboList`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\nexport const EntitytypesList = async (eid, email) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/EntityTypes/list?eid=${eid}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization':okta.accessToken.accessToken,\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const StateRegionList = async (eid, email) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/States/list?eid=${eid}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const createEntity = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/entity/create`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n            },\r\n            body: data\r\n        })\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\nexport const lorexFileUpload = async (data) => {\r\n\r\n\r\n    // console.log('LOREX_TOKEN',LOREX_TOKEN);\r\n    // console.log('LOREX_URL',`${LOREX_API_HOST}/api/v1/upload`);\r\n    // console.log('LOREX_URL',HOST);\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${LOREX_API_HOST}/api/v1/upload`, {\r\n            method: 'post',\r\n            headers: {\r\n                'authorization': LOREX_TOKEN,\r\n            },\r\n            body: data\r\n        })\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const testcall = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch('https://apidev.youragentservices.com/api/entity/add', {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n            },\r\n            body: data\r\n        })\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import React, {createContext, useState} from 'react'\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport {useOktaAuth} from \"@okta/okta-react\";\r\nimport {fetchUserProfile} from \"../api/OKTA\";\r\nimport {checkRole} from '../api/enitity.crud';\r\nimport moment from \"moment\";\r\n\r\n\r\nexport const UserContext = createContext(\r\n    {\r\n        drawerState: true,\r\n        role: '',\r\n        title: '',\r\n        token: '',\r\n        profile: '',\r\n        attributes: [],\r\n        loading: false,\r\n        errorList: [],\r\n        currentEntity: [],\r\n        userMessages: []\r\n    }\r\n);\r\n\r\nexport const UserConsumer = UserContext.Consumer;\r\n\r\nfunction UserContextProvider(props) {\r\n    const {authState, authService} = useOktaAuth();\r\n    const [title, setTitle] = useState('');\r\n    const [drawerState, setDrawerState] = useState(true);\r\n    const [token, setToken] = useState('');\r\n    const [profile, setProfile] = useState([]);\r\n    const [attributes, setAttributes] = useState([]);\r\n    const [appLoader, setAppLoader] = useState({loading: false});\r\n    const [errorList, setErrorList] = useState([]);\r\n    const [currentEntity, setCurrentEntity] = useState([]);\r\n    const [userMessages, setUserMessages] = useState([]);\r\n    const [role, setRole] = useState({});\r\n    const [outerThreads, setOuterThreads] = useState(false);\r\n    React.useEffect(() => {\r\n        const okta = localStorage.getItem('okta-token-storage');\r\n        if (okta !== '{}' && okta !== null && okta !== undefined) {\r\n            initialUtliz();\r\n        }\r\n    }, []);\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (errorList !== undefined || errorList.length !== 0) {\r\n            errorList.map((value, index) => {\r\n                setTimeout(() => {\r\n                    removeError(index);\r\n                }, 6000)\r\n            })\r\n        }\r\n\r\n    }, [errorList])\r\n\r\n\r\n    const initialUtliz = async () => {\r\n        localStorage.removeItem('role');\r\n        const tokenOKTA = await getToken();\r\n        // if(tokenOKTA === null){\r\n        //  authService.logout('/');\r\n        // }\r\n        const result_profile = await getUserProfile();\r\n        const result_attributes = await getUserAttributes(result_profile);\r\n        if (result_attributes) {\r\n            await getUserRole(result_attributes.profile, tokenOKTA);\r\n        }\r\n\r\n        setInterval(() => {\r\n            setAppLoader({...appLoader, loading: true});\r\n        }, 4000)\r\n\r\n\r\n    }\r\n\r\n\r\n    const getToken = async () => {\r\n        const tokenResult = await authState.accessToken;\r\n        setToken(tokenResult);\r\n        return Promise.resolve(tokenResult);\r\n    }\r\n\r\n\r\n    const getUserProfile = async () => {\r\n\r\n        const tokenResult = await authService.getUser();\r\n        if (tokenResult) {\r\n            await setProfile({...profile, profile: tokenResult});\r\n        }\r\n        return Promise.resolve(tokenResult);\r\n    }\r\n\r\n\r\n    const getUserAttributes = async (UserData) => {\r\n        if (UserData) {\r\n            const AllAttributes = await fetchUserProfile(UserData.sub);\r\n            if (AllAttributes) {\r\n                await setAttributes({...attributes, attributes: AllAttributes.profile})\r\n            }\r\n            return Promise.resolve(AllAttributes);\r\n        }\r\n    }\r\n\r\n    const getUserRole = async (profile, tokenOKTA) => {\r\n        var organization_parent = '';\r\n        if (profile.organization_parent) {\r\n            const bit = profile.organization_parent.toLowerCase();\r\n            if (bit === 'yes') {\r\n                organization_parent = 1;\r\n            }\r\n        }\r\n        try {\r\n            const get_role = await checkRole(profile.organization, organization_parent ? organization_parent : 0, tokenOKTA);\r\n\r\n            if (get_role) {\r\n                if (get_role.status === true) {\r\n                    await localStorage.setItem('role', get_role.data.role);\r\n                    return Promise.resolve(setRole({...role, role: get_role.data.role}));\r\n                }\r\n                if (get_role.status === false) {\r\n                    return Promise.resolve(addError(get_role.message));\r\n                }\r\n            }\r\n\r\n            // if(get_role.type === 'error'){\r\n            //     window.location.reload();\r\n            // }\r\n            //\r\n            // if(get_role.status === 401){\r\n            //     window.location.reload();\r\n            // }\r\n\r\n\r\n            if (get_role.message) {\r\n                addError(get_role.message)\r\n            }\r\n\r\n\r\n        } catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const addError = (data) => {\r\n        setErrorList(errorList => [...errorList, data])\r\n    }\r\n\r\n    const addTitle = (data) => {\r\n        setTitle(data);\r\n    }\r\n\r\n    const updateCurrentEntity = (data) => {\r\n        setCurrentEntity(data)\r\n    }\r\n\r\n\r\n    const removeError = (index) => {\r\n        var array = [...errorList]; // make a separate copy of the array\r\n        if (index !== -1) {\r\n            array.splice(index, 1);\r\n            setErrorList(array)\r\n        }\r\n\r\n    }\r\n\r\n    const changeDrawer = (data) => {\r\n        setDrawerState(data);\r\n    }\r\n\r\n\r\n    const setUserMessagesForInbox = (data) => {\r\n        setUserMessages(data);\r\n    }\r\n    const manageOuterThreads = (data) => {\r\n        setOuterThreads(data);\r\n    }\r\n\r\n    const addMessage = (data, message, UserRole, currentUser) => {\r\n        const id = Math.floor((Math.random() * 10) + 1);\r\n        let newDate = moment().format(\"YYYY-MM-DD hh:mm:ss\");\r\n        const from_eid = UserRole === 'Administrator' ? '0' : currentUser;\r\n\r\n        const elementsIndex = userMessages.findIndex(element => element.id === data.id)\r\n        const Subject = 'RE: '+userMessages[elementsIndex].subject;\r\n\r\n        let newArray = [...userMessages];\r\n        newArray[elementsIndex] = {\r\n            ...newArray[elementsIndex], child: [...newArray[elementsIndex].child, {\r\n                id: id.toString(),\r\n                entity_id: data.entity_id,\r\n                fromEid: from_eid,\r\n                from: \"najm@mts.youragentservices.com\",\r\n                gid: data.id,\r\n                message: message,\r\n                sendTime: newDate,\r\n                status: \"delivered\",\r\n                subject: Subject,\r\n                to: \"najm.a@allshorestaffing.com\",\r\n\r\n            }]\r\n        }\r\n        setUserMessages(newArray);\r\n    }\r\n\r\n\r\n    return (\r\n        <UserContext.Provider\r\n            value={{\r\n                ...token,\r\n                ...profile,\r\n                ...attributes,\r\n                ...appLoader,\r\n                ...role,\r\n                title,\r\n                errorList,\r\n                addError,\r\n                addTitle,\r\n                drawerState,\r\n                changeDrawer,\r\n                removeError,\r\n                updateCurrentEntity,\r\n                currentEntity,\r\n                setUserMessagesForInbox,\r\n                userMessages,\r\n                addMessage,\r\n                outerThreads,\r\n                manageOuterThreads\r\n            }}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n\r\n}\r\n\r\nexport default withOktaAuth(UserContextProvider);\r\n","import React, {useContext, useRef} from 'react';\r\nimport {useMediaQuery} from 'react-responsive'\r\nimport clsx from 'clsx';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Container from '@material-ui/core/Container';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport MainListItems from '../routes/listItems';\r\nimport ChildListItems from '../routes/ChildListItems';\r\nimport ParentListItems from '../routes/ParentListItems';\r\nimport Footer from './Footer';\r\nimport Box from \"@material-ui/core/Box\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {SnackbarProvider} from 'notistack';\r\n// import {createMuiTheme} from '@material-ui/core/styles';\r\nimport {useOktaAuth, withOktaAuth} from \"@okta/okta-react\";\r\n\r\nimport {SemipolarLoading} from 'react-loadingg';\r\nimport {ToastContainer} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst drawerWidth = 240;\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    toolbar: {\r\n        paddingRight: 24, // keep right padding when drawer closed\r\n        backgroundColor: '#1e1e2d'\r\n    },\r\n    toolbarIcon: {\r\n        // color: '#434d6b',\r\n        // backgroundColor: '#434d6b',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        padding: '0 8px',\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        color: '#ffffff',\r\n        // backgroundColor: '#ffffff',\r\n        marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n        display: 'none',\r\n    },\r\n\r\n    chevronLeftIcon: {\r\n        color: '#ffffff'\r\n    },\r\n\r\n    title: {\r\n        marginLeft: 10,\r\n        flexGrow: 1,\r\n        color: 'white'\r\n    },\r\n\r\n    button: {\r\n        textTransform: \"none\",\r\n        fontSize: 14\r\n    },\r\n    drawerPaper: {\r\n\r\n        backgroundColor: '#1e1e2d',\r\n        position: 'relative',\r\n        whiteSpace: 'nowrap',\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n\r\n    drawer: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: drawerWidth,\r\n            flexShrink: 0,\r\n        },\r\n    },\r\n\r\n    drawerPaperClose: {\r\n        overflowX: 'hidden',\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        width: theme.spacing(7),\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(9),\r\n        },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n        backgroundColor: '#f0f0f6'\r\n    },\r\n    container: {\r\n        paddingTop: theme.spacing(4),\r\n        paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 240,\r\n    },\r\n\r\n    listColor: {\r\n        color: \"#ffffff\"\r\n    }\r\n\r\n\r\n}));\r\n\r\nexport default withOktaAuth(function Layout(props) {\r\n    const {authState} = useOktaAuth();\r\n    const {role, title, drawerState, changeDrawer, profile} = useContext(UserContext);\r\n    let timer;\r\n    let flag = 1;\r\n    // const theme = useTheme();\r\n    const classes = useStyles();\r\n    const matches = useMediaQuery({maxWidth: 767});\r\n    // const matches = useMediaQuery(theme.breakpoints.up('sm'));\r\n    const history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        // if (!matches) {\r\n        //     changeDrawer(true);\r\n        // }\r\n        if (matches) {\r\n            changeDrawer(false);\r\n        }\r\n    }, [matches]);\r\n    const timerToClearSomewhere = useRef();\r\n\r\n\r\n    const ClearSession = () => {\r\n        localStorage.clear();\r\n        props.authService.logout('/');\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (typeof role === \"undefined\") {\r\n            timerToClearSomewhere.current = setTimeout(function () {\r\n                ClearSession()\r\n            }, 40000);\r\n        } else {\r\n            clearTimeout(timerToClearSomewhere.current);\r\n        }\r\n\r\n    }, [role]);\r\n\r\n\r\n    const handleDrawerOpen = () => {\r\n        changeDrawer(true);\r\n    };\r\n    const handleDrawerClose = () => {\r\n        changeDrawer(false);\r\n    };\r\n\r\n\r\n    // const OKTAClearanceFunction = setTimeout(() => {\r\n    //             if(flag === 1) {\r\n    //                 localStorage.clear();\r\n    //                 props.authService.logout('/');\r\n    //             }\r\n    //     }, 40000);\r\n    //\r\n    //\r\n    // const myStopFunction = () => {\r\n    //     flag = 2;\r\n    //     console.log('timeout');\r\n    //     console.log(flag)\r\n    //     clearTimeout(OKTAClearanceFunction);\r\n    // }\r\n\r\n    const [mobileOpen, setMobileOpen] = React.useState(false);\r\n\r\n    const handleDrawerToggle = () => {\r\n        setMobileOpen(!mobileOpen);\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const openMenu = Boolean(anchorEl);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            {role ?\r\n                <>\r\n\r\n                    <SnackbarProvider maxSnack={3}>\r\n                        <div className={classes.root}>\r\n                            <CssBaseline/>\r\n                            <AppBar position=\"absolute\"\r\n                                    className={clsx(classes.appBar, drawerState && classes.appBarShift)}>\r\n\r\n                                <Toolbar className={classes.toolbar}>\r\n                                    <IconButton\r\n                                        edge=\"start\"\r\n                                        aria-label=\"open drawer\"\r\n                                        onClick={handleDrawerOpen}\r\n                                        className={clsx(classes.menuButton, drawerState && classes.menuButtonHidden)}\r\n                                    >\r\n\r\n                                        <MenuIcon/>\r\n                                    </IconButton>\r\n                                    <Typography component=\"h1\" variant=\"h6\" noWrap className={classes.title}>\r\n                                        {title}\r\n                                    </Typography>\r\n                                    {/*<IconButton color=\"inherit\">*/}\r\n                                    {/*    <Badge badgeContent={4} color=\"secondary\">*/}\r\n                                    {/*        <NotificationsIcon/>*/}\r\n                                    {/*    </Badge>*/}\r\n                                    {/*</IconButton>*/}\r\n\r\n                                    <IconButton color=\"inherit\" onClick={handleClick}>\r\n                                        <Typography variant=\"h5\" className={clsx(classes.title, classes.button)}>\r\n                                            Hi, {profile.name ? profile.name : ''}\r\n                                        </Typography>\r\n                                    </IconButton>\r\n                                    <Menu\r\n                                        anchorOrigin={{\r\n                                            vertical: \"bottom\",\r\n                                            horizontal: \"right\"\r\n                                        }}\r\n                                        id=\"menu-list-grow\"\r\n                                        anchorEl={anchorEl}\r\n                                        keepMounted\r\n                                        open={openMenu}\r\n                                        onClose={handleClose}\r\n                                        TransitionComponent={Fade}\r\n                                        getContentAnchorEl={null}\r\n                                    >\r\n                                        <MenuItem onClick={() => {\r\n                                            props.authService.logout('/');\r\n                                        }}>Logout</MenuItem>\r\n                                    </Menu>\r\n\r\n\r\n                                </Toolbar>\r\n                            </AppBar>\r\n                            <Drawer\r\n                                variant=\"permanent\"\r\n                                classes={{\r\n                                    paper: clsx(classes.drawerPaper, !drawerState && classes.drawerPaperClose),\r\n                                }}\r\n                                open={drawerState}\r\n                                onClose={handleDrawerToggle}\r\n                                ModalProps={{\r\n                                    keepMounted: true, // Better open performance on mobile.\r\n                                }}\r\n                            >\r\n                                <div className={classes.toolbarIcon}>\r\n                                    <Typography component=\"h3\" variant=\"h6\" color=\"inherit\" noWrap\r\n                                                className={classes.title}>\r\n                                        AgentAdmin\r\n                                    </Typography>\r\n                                    <IconButton onClick={handleDrawerClose}>\r\n                                        <ChevronLeftIcon className={classes.chevronLeftIcon}/>\r\n                                    </IconButton>\r\n                                </div>\r\n                                <Divider/>\r\n                                {role === 'Administrator' ?\r\n                                    <List className={classes.listColor}><MainListItems/></List> : ''}\r\n\r\n                                {role === 'Child Entity' ?\r\n                                    <List className={classes.listColor}><ChildListItems/></List> : ''}\r\n\r\n                                {role === 'Parent Organization' ?\r\n                                    <List className={classes.listColor}><ParentListItems/></List> : ''}\r\n\r\n                            </Drawer>\r\n                            <main className={classes.content}>\r\n                                <div className={classes.appBarSpacer}/>\r\n                                <Container maxWidth=\"lg\" className={classes.container}>\r\n\r\n                                    {props.children}\r\n\r\n                                    <Box pt={4}>\r\n                                        <Footer/>\r\n                                    </Box>\r\n                                </Container>\r\n                            </main>\r\n                        </div>\r\n                    </SnackbarProvider>\r\n                    <ToastContainer/>\r\n                </>\r\n                : <><SemipolarLoading className={'Test'} size={'large'} color={'#1e1e2d'}/></>}\r\n\r\n        </>\r\n\r\n    );\r\n});\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport Layout from \"../layout/Layout\";\r\n\r\nexport default withOktaAuth(class Home extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.login = this.login.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n\r\n    async login() {\r\n        this.props.authService.login();\r\n    }\r\n\r\n    async logout() {\r\n        this.props.authService.logout('/');\r\n    }\r\n\r\n    render() {\r\n        if (this.props.authState.isPending) return null;\r\n\r\n        const button = this.props.authState.isAuthenticated ?\r\n            <button onClick={this.logout}>Logout</button> :\r\n            <button onClick={this.login}>Login</button>;\r\n\r\n        return (\r\n            <Layout>\r\n            <div>\r\n                <Link to='/'>Home</Link><br/>\r\n                <Link to='/protected'>Protected</Link><br/>\r\n                <Link to='/dashboard'>Dashboard</Link><br/>\r\n                {button}\r\n            </div>\r\n            </Layout>\r\n        );\r\n    }\r\n});\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport OktaSignIn from '@okta/okta-signin-widget';\r\nimport '@okta/okta-signin-widget/dist/css/okta-sign-in.min.css';\r\n\r\nexport default class OktaSignInWidget extends Component {\r\n    componentDidMount() {\r\n        const el = ReactDOM.findDOMNode(this);\r\n        this.widget = new OktaSignIn({\r\n            baseUrl: process.env.REACT_APP_OKTA_BASE_URL,\r\n            features: {\r\n                // idpDiscovery: true,\r\n                showPasswordToggleOnSignInPage: true\r\n            },\r\n            // idps: [\r\n            //     {type: process.env.REACT_APP_OKTA_IDPS_TYPE, id: process.env.REACT_APP_OKTA_IDPS_ID},\r\n            // ],\r\n            clientId: process.env.REACT_APP_OKTA_CLIENT_ID,\r\n            redirectUri: process.env.REACT_APP_OKTA_REDIRECT_URI,\r\n            authScheme: 'OAUTH2',\r\n            logo: '/media/agentadmin/logo/aa_full.png',\r\n            authParams: {\r\n                issuer: process.env.REACT_APP_OKTA_BASE_URL + 'oauth2/default',\r\n                display: 'page',\r\n                responseType: ['id_token', 'token'],\r\n                scopes: ['openid', 'email', 'profile', 'address', 'phone'],\r\n                authorizeUrl: process.env.REACT_APP_OKTA_BASE_URL + 'oauth2/default/v1/authorize',\r\n            },\r\n\r\n        });\r\n        this.widget.renderEl({el}, this.props.onSuccess, this.props.onError);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.widget.remove();\r\n    }\r\n\r\n    render() {\r\n        return <div/>;\r\n    }\r\n};\r\n","import React, {Component} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport OktaSignInWidget from './OktaSignInWidget';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {withStyles} from '@material-ui/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Particles from 'react-particles-js';\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography className={'copyright'} variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"/\">\r\n                AgentAdmin\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'. '}\r\n            <Link color=\"inherit\" href=\"/privacy-policy\">\r\n                Privacy Policy\r\n            </Link>\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    paperContainer: {\r\n        backgroundColor: '#000000'\r\n    },\r\n\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSuccess = this.onSuccess.bind(this);\r\n        this.onError = this.onError.bind(this);\r\n    }\r\n\r\n    onSuccess(res) {\r\n        if (res.status === 'SUCCESS') {\r\n            return this.props.authService.redirect({\r\n                sessionToken: res.session.token\r\n            });\r\n        } else {\r\n            // The user can be in another authentication state that requires further action.\r\n            // For more information about these states, see:\r\n            //   https://github.com/okta/okta-signin-widget#rendereloptions-success-error\r\n        }\r\n    }\r\n\r\n    onError(err) {\r\n        console.log('error logging in', err);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {classes} = this.props;\r\n        if (this.props.authState.isPending && this.props.authState.isAuthenticated) return null;\r\n        return this.props.authState.isAuthenticated ?\r\n            <Redirect to={{pathname: '/'}}/> :\r\n\r\n            <div className={'paperContainer'}>\r\n                <Particles   style={{\r\n                    width: '100%',\r\n                    position:'absolute'\r\n                }} className={'particles'} />\r\n                <Container component=\"main\" maxWidth=\"xs\">\r\n                    <CssBaseline/>\r\n                    <div className={classes.paper}>\r\n                        <Box className={'okta-custom'} mt={3}>\r\n                            <OktaSignInWidget\r\n                                baseUrl={this.props.baseUrl}\r\n                                onSuccess={this.onSuccess}\r\n                                onError={this.onError}/>\r\n                        </Box>\r\n                    </div>\r\n                    <Box>\r\n                        <Copyright/>\r\n                    </Box>\r\n                </Container>\r\n\r\n            </div>\r\n\r\n    }\r\n};\r\n\r\nLogin.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(useStyles)(withOktaAuth(Login));\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport deburr from 'lodash.deburr';\r\nimport Downshift from 'downshift';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport * as SmartyStreetsSDK from \"smartystreets-javascript-sdk\";\r\n\r\nconst smartyStreetsSharedCredentials = new SmartyStreetsSDK.core.SharedCredentials(process.env.REACT_APP_SMARTYSTREET_KEY);\r\nconst autoCompleteClientBuilder = new SmartyStreetsSDK.core.ClientBuilder(smartyStreetsSharedCredentials);\r\nconst autoCompleteClient = autoCompleteClientBuilder.buildUsAutocompleteClient();\r\n\r\n\r\n\r\n\r\nexport default function IntegrationDownshift(props) {\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        container: {\r\n            flexGrow: 1,\r\n            position: 'relative',\r\n        },\r\n        paper: {\r\n            position: 'absolute',\r\n            zIndex: 1,\r\n            marginTop: theme.spacing(1),\r\n            left: 0,\r\n            right: 0,\r\n            width: props.width ?? props.width,\r\n        },\r\n        chip: {\r\n            margin: theme.spacing(0.5, 0.25),\r\n        },\r\n        inputRoot: {\r\n            flexWrap: 'wrap',\r\n        },\r\n        inputInput: {\r\n            width: 'auto',\r\n            flexGrow: 1,\r\n        },\r\n        divider: {\r\n            height: theme.spacing(2),\r\n        },\r\n    }));\r\n    const [suggestions, setSuggestions] = React.useState([]);\r\n    const [value, setValue] = React.useState('');\r\n    const [getFinal, setGetFinal] = React.useState([]);\r\n\r\n\r\n    React.useEffect(() => {\r\n        sendDatatoParent();\r\n    },[getFinal,value])\r\n\r\n    React.useEffect(() => {\r\n        resetState();\r\n    },[props.reset])\r\n\r\n    const resetState = () => {\r\n        if(props.reset === 'reset') {\r\n            setValue('');\r\n            setGetFinal([]);\r\n        }\r\n    }\r\n\r\n    const sendDatatoParent = () => {\r\n        // if(props.reset == 'reset') {\r\n        //     setSuggestions([]);\r\n        //     setValue('');\r\n        //     setGetFinal([]);\r\n        // }\r\n        // const [addressobject, addressvalue] = props;\r\n        if(getFinal !== undefined && getFinal.length !== 0) {\r\n            props.addressObject(getFinal)\r\n        } else {\r\n            props.addressObject(value)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const handleStateChange = changes => {\r\n        if (changes.hasOwnProperty('selectedItem')) {\r\n            setValue(changes.selectedItem);\r\n            const value = changes.selectedItem;\r\n            const newObject = suggestions.find((value) => value.text === changes.selectedItem);\r\n            setGetFinal(newObject);\r\n        } else if (changes.hasOwnProperty('inputValue')) {\r\n            setGetFinal([]);\r\n            setValue(changes.inputValue);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const smartyHandler = async (event) => {\r\n        const lookup = await new SmartyStreetsSDK.usAutocomplete.Lookup(event.target.value);\r\n        autoCompleteClient.send(lookup)\r\n            .then(response => {\r\n                const add = response.result\r\n                setSuggestions(add);\r\n            })\r\n    }\r\n\r\n\r\n    function renderInput(inputProps) {\r\n        const {disabled, required, error, className, helperText} = props\r\n        const {InputProps, classes, ref, ...other} = inputProps;\r\n        return (\r\n            <TextField\r\n\r\n                className={className}\r\n                disabled={disabled}\r\n                required\r\n                error={error}\r\n                helperText={helperText}\r\n                onChange={(event) => smartyHandler(event)}\r\n                InputProps={{\r\n                    inputRef: ref,\r\n                    classes: {\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput,\r\n                    },\r\n                    ...InputProps,\r\n                }}\r\n                {...other}\r\n            />\r\n        );\r\n    }\r\n\r\n    function renderSuggestion(suggestionProps) {\r\n\r\n        const {suggestion, index, itemProps, highlightedIndex, selectedItem} = suggestionProps;\r\n        const isHighlighted = highlightedIndex === index;\r\n        const isSelected = (selectedItem || '').indexOf(suggestion.label) > -1;\r\n        return (\r\n            <MenuItem\r\n\r\n                {...itemProps}\r\n                selected={isHighlighted}\r\n                key={suggestion.text}\r\n                component=\"div\"\r\n                style={{fontWeight: isSelected ? 500 : 400,}}>\r\n                {suggestion.text}\r\n            </MenuItem>\r\n        );\r\n    }\r\n\r\n    function getSuggestions(value, {showEmpty = false} = {}) {\r\n        const inputValue = deburr(value.trim()).toLowerCase();\r\n        const inputLength = inputValue.length;\r\n\r\n        let count = 0;\r\n\r\n        return inputLength === 0 && !showEmpty\r\n            ? inputValue\r\n            : suggestions.filter(suggestion => {\r\n                const keep =\r\n                    count < 5 && suggestion.text.slice(0, inputLength).toLowerCase() === inputValue;\r\n                if (keep) {\r\n                    count += 1;\r\n                }\r\n                return keep;\r\n            });\r\n\r\n    }\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <div   className={classes.root}>\r\n            <Downshift selectedItem={value} onStateChange={handleStateChange} id=\"downshift-simple\">\r\n                {({\r\n                      getInputProps,\r\n                      getItemProps,\r\n                      getLabelProps,\r\n                      getMenuProps,\r\n                      highlightedIndex,\r\n                      inputValue,\r\n                      isOpen,\r\n                      selectedItem,\r\n                      clearSelection,\r\n                      getRootProps,\r\n                      onInputValueChange,\r\n                  }) => {\r\n                    const {onBlur, onFocus, ...inputProps} = getInputProps({\r\n                        placeholder: 'Address',\r\n                    });\r\n                    return (\r\n                        <div className={classes.container}>\r\n                            {renderInput({\r\n                                fullWidth: true,\r\n                                classes,\r\n                                label: 'Address',\r\n                                InputLabelProps: getLabelProps({shrink: true}),\r\n                                InputProps: {onBlur, onFocus},\r\n                                inputProps,\r\n                            })}\r\n\r\n                            <div {...getMenuProps()}>\r\n                                {isOpen ? (\r\n                                    <Paper className={classes.paper} square>\r\n                                        {inputValue !== '' ? getSuggestions(inputValue)?.map((suggestion, index) =>\r\n                                            renderSuggestion({\r\n                                                suggestion,\r\n                                                index,\r\n                                                itemProps: getItemProps({item: suggestion.text, index}),\r\n                                                highlightedIndex,\r\n                                                selectedItem,\r\n\r\n                                            }),\r\n                                        ) : null}\r\n                                    </Paper>\r\n                                ) : null}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }}\r\n            </Downshift>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Layout from \"../layout/Layout\";\r\nimport clsx from 'clsx';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Autocomplete from \"../entity/TestAutocomplete\";\r\nimport CustomFileInput from \"reactstrap/es/CustomFileInput\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n// import Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport {\r\n    ContactTypeList,\r\n    EntitytypesList,\r\n    StateRegionList,\r\n    createEntity,\r\n    lorexFileUpload\r\n} from \"../api/enitity.crud\";\r\n\r\nimport utils from \"smartystreets-javascript-sdk-utils\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport * as SmartyStreetsSDK from \"smartystreets-javascript-sdk\";\r\nimport {UserContext} from '../context/UserContext';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\n\r\nconst Lookup = SmartyStreetsSDK.usStreet.Lookup;\r\nconst smartyStreetsSharedCredentials = new SmartyStreetsSDK.core.SharedCredentials(process.env.REACT_APP_SMARTYSTREET_KEY);\r\nconst clientBuilder = new SmartyStreetsSDK.core.ClientBuilder(smartyStreetsSharedCredentials);\r\nlet client = clientBuilder.buildUsStreetApiClient();\r\n\r\nconst useStylesFacebook = makeStyles({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    top: {\r\n        color: '#eef3fd',\r\n    },\r\n    bottom: {\r\n        color: '#6798e5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n    textField: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldOther: {\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldCity: {\r\n\r\n        marginTop: 3,\r\n    },\r\n\r\n\r\n    textFieldtwofield: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n\r\n    selectField: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        marginTop: 16,\r\n    },\r\n\r\n    label: {\r\n        fontSize: 14\r\n    },\r\n\r\n    dense: {\r\n        marginTop: 16,\r\n        fontSize: 14\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    checkbox: {\r\n        marginTop: 30\r\n    },\r\n\r\n    fileUpapiLoading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n\r\n    fileError: {\r\n        color: '#fd397a'\r\n    },\r\n\r\n\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    paper: {\r\n        paddingTop: 30,\r\n        paddingBottom: 30,\r\n        paddingLeft:10,\r\n        paddingRight:10\r\n    }\r\n\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6}\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\n\r\nfunction AddEntity() {\r\n    const classes = useStyles();\r\n\r\n\r\n    const {attributes,addTitle, loading, role } = useContext(UserContext);\r\n\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n    const [userAgree, setUserAgree] = React.useState(false);\r\n\r\n    const [addressObject, setAddressObject] = React.useState([]);\r\n    const [addressValue, setAddressValue] = React.useState('');\r\n    const [addressReset, setAddressReset] = React.useState('');\r\n    const [isValidAddress, setIsValidAddress] = React.useState(false);\r\n    const [apiLoading, setApiLoading] = React.useState(false)\r\n    const [error, setError] = React.useState(false)\r\n    const [contactType, setContactType] = React.useState([]);\r\n    const [FillingStructureData, setFillingStructureData] = React.useState([])\r\n    const [StateRegion, setStateRegion] = React.useState([])\r\n    const [successMessage, setSuccessMessage] = React.useState(false);\r\n    var d = new Date();\r\n    const fiscal = d.getFullYear() + '-12-31'\r\n\r\n    //form state\r\n    const [inputName, setInputName] = React.useState({value: '', error: ' ',});\r\n    const [inputComplianceOnly, setInputComplianceOnly] = React.useState({value: false, error: ' '});\r\n    const [inputFillingState, setInputFillingState] = React.useState({value: '', error: ' '});\r\n    const [inputFillingStructure, setInputFillingStructure] = React.useState({value: '', error: ' '});\r\n    const [inputFormationDate, setInputFormationDate] = React.useState({value: '', error: ' '});\r\n    const [inputFiscalDate, setInputFiscalDate] = React.useState({value: fiscal, error: ' '});\r\n\r\n\r\n    const [inputNotificationEmail, setInputNotificationEmail] = React.useState({value: '', error: ' '});\r\n    const [inputNotificationPhone, setInputNotificationPhone] = React.useState({value: '', error: ' '});\r\n    const [inputNotificationAddress, setInputNotificationAddress] = React.useState({value: '', error: ' '});\r\n    const [inputEIN, setInputEIN] = React.useState({value: '', error: ' '});\r\n    const [inputNotificationCity, setInputNotificationCity] = React.useState({value: '', error: ' '});\r\n    const [inputNotificationState, setInputNotificationState] = React.useState({value: '', error: ' '});\r\n    const [inputNotificationZip, setInputNotificationZip] = React.useState({value: '', error: ' '});\r\n    const [inputFiling, setInputFiling] = React.useState({value: '', error: ' ', success: ' '});\r\n    const [inputBusinessPurpose, setInputBusinessPurpose] = React.useState({value: '', error: ' '});\r\n    const [inputForeign, setInputForeign] = React.useState({value: false, error: ' '});\r\n    const [inputFileName, setInputFileName] = React.useState({value: '', error: ' '});\r\n    const [inputFileSize, setInputFileSize] = React.useState({value: '', error: ' ', success: ' '});\r\n\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setApiLoading(false);\r\n        setUserAgree(false);\r\n        setOpen(false);\r\n    };\r\n\r\n    const iAgree = async (event) => {\r\n        Promise.resolve(setTimeout(() => {\r\n            setUserAgree(true);\r\n        }, 3000));\r\n        Promise.resolve(setOpen(false));\r\n        handleOnSubmit(event, true)\r\n\r\n    };\r\n\r\n\r\n    function FacebookProgress(props) {\r\n        const classes = useStylesFacebook();\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <CircularProgress\r\n\r\n                    variant=\"determinate\"\r\n                    value={100}\r\n                    className={classes.top}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n                <CircularProgress\r\n                    variant=\"indeterminate\"\r\n                    disableShrink\r\n                    className={classes.bottom}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        if (addressObject) {\r\n            if (typeof addressObject === 'object') {\r\n                console.log('City', addressObject.city);\r\n                console.log('State', addressObject.state);\r\n                setInputNotificationCity({...inputNotificationCity, error: ' ', value: addressObject.city})\r\n                setInputNotificationState({...inputNotificationState, error: ' ', value: addressObject.state})\r\n            }\r\n        }\r\n\r\n    }, [addressObject, addressValue])\r\n\r\n\r\n    React.useEffect(() => {\r\n        if(loading === true) {\r\n            addTitle('Add New Entity');\r\n            fetchDataforDropdownsContactTypeList()\r\n            fetchDataforDropdownsFillingStructureData();\r\n            fetchDataforDropdownsStateRegion();\r\n        }\r\n    }, [loading]);\r\n\r\n\r\n    const fetchDataforDropdownsContactTypeList = async () => {\r\n        var ContactTypeListLocal = await JSON.parse(localStorage.getItem(\"ContactTypeList\"));\r\n        if (ContactTypeListLocal) {\r\n            setContactType(ContactTypeListLocal);\r\n        } else {\r\n            if (attributes) {\r\n                const response = await ContactTypeList(attributes.organization, attributes.email);\r\n                localStorage.setItem(\"ContactTypeList\", JSON.stringify(response.data));\r\n                setContactType(response.data);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const fetchDataforDropdownsFillingStructureData = async () => {\r\n\r\n        var EntitytypesListLocal = await JSON.parse(localStorage.getItem(\"EntitytypesList\"));\r\n        if (EntitytypesListLocal) {\r\n            setFillingStructureData(EntitytypesListLocal);\r\n        } else {\r\n            if (attributes) {\r\n                const response = await EntitytypesList(attributes.organization, attributes.email);\r\n                localStorage.setItem(\"EntitytypesList\", JSON.stringify(response.data));\r\n                setFillingStructureData(response.data);\r\n            }\r\n        }\r\n    }\r\n\r\n    const fetchDataforDropdownsStateRegion = async () => {\r\n        var StateRegionListLocal = await JSON.parse(localStorage.getItem(\"StateRegionList\"));\r\n        if (StateRegionListLocal) {\r\n            setStateRegion(StateRegionListLocal);\r\n        } else {\r\n            if (attributes) {\r\n                const response = await StateRegionList(attributes.organization, attributes.email);\r\n                localStorage.setItem(\"StateRegionList\", JSON.stringify(response.data));\r\n                setStateRegion(response.data);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const addressObjectChangeHandler = (value) => {\r\n        setAddressObject(value);\r\n    }\r\n\r\n    const addressValueChangeHandler = (value) => {\r\n        setAddressValue(value);\r\n    }\r\n\r\n\r\n    const fileChange = async (e) => {\r\n        if (e.target.files[0]) {\r\n            setApiLoading(true);\r\n            setInputFiling({...inputFiling, value: '', success: ' '});\r\n            setInputFileSize({...inputFileSize, value: ''});\r\n            setInputFileName({...inputFileName, value: ''});\r\n            let formData = new FormData();\r\n            formData.append('file', e.target.files[0]);\r\n            const filename = e.target.files[0].name;\r\n            const response = await lorexFileUpload(formData);\r\n            if (response.error === false) {\r\n                setInputFiling({...inputFiling, value: response.record_id, success: 'uploaded'});\r\n                setInputFileSize({...inputFileSize, value: response.file_size});\r\n\r\n                if (filename) {\r\n                    setInputFileName({...inputFileName, value: filename});\r\n                    setApiLoading(false);\r\n                }\r\n            } else {\r\n                setInputFiling({...inputFiling, error: response.message.file[0]});\r\n                setApiLoading(false);\r\n            }\r\n        } else {\r\n            setInputFiling({...inputFiling, value: '', success: ' '});\r\n            setInputFileSize({...inputFileSize, value: ''});\r\n            setInputFileName({...inputFileName, value: ''});\r\n        }\r\n    }\r\n\r\n\r\n    const resetForm = async () => {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve();\r\n\r\n                setInputComplianceOnly({value: false, error: ' '})\r\n                setInputFillingState({value: '', error: ' '});\r\n                setInputFillingStructure({value: '', error: ' '});\r\n                setInputFormationDate({value: '', error: ' '});\r\n                setInputFiscalDate({value: fiscal, error: ' '});\r\n                setInputName({value: '', error: ' '});\r\n                setInputNotificationEmail({value: '', error: ' '});\r\n                setInputNotificationPhone({value: '', error: ' '});\r\n                setInputNotificationAddress({value: '', error: ' '});\r\n                setInputNotificationCity({value: '', error: ' '});\r\n                setInputNotificationState({value: '', error: ' '});\r\n                setInputNotificationZip({value: '', error: ' '});\r\n                setInputEIN({value: '', error: ' ', success: ' '});\r\n                setInputFiling({value: '', error: ' ', success: ' '})\r\n                setInputBusinessPurpose({value: '', error: ' '})\r\n                setInputForeign({value: false, error: ' '});\r\n                setInputFileName({value: '', error: ' ', success: ' '});\r\n                setInputFileSize({value: '', error: ' ', success: ' '});\r\n\r\n                setAddressObject('');\r\n                setAddressReset('reset')\r\n                setAddressValue('');\r\n            }, 600);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    const addressCheck = async (event) => {\r\n\r\n\r\n        var valid;\r\n        let lookup1 = new Lookup();\r\n        lookup1.street = addressObject.streetLine ? addressObject.streetLine : addressObject;\r\n        lookup1.city = inputNotificationCity.value;\r\n        lookup1.state = inputNotificationState.value;\r\n        lookup1.zipCode = inputNotificationZip.value;\r\n        const responseFromSmarty = client.send(lookup1).then(response => {\r\n            valid = utils.isValid(response.lookups[0]);\r\n            setIsValidAddress(valid);\r\n            // response.lookups.map(lookup => console.log(lookup.result));\r\n\r\n            // // Is lookup1 valid?\r\n            // console.log('Is lookup1 valid?', utils.isValid(response.lookups[0]));\r\n            //\r\n            // // Is lookup1 invalid?\r\n            // console.log('Is lookup1 invalid?', utils.isInvalid(response.lookups[0]));\r\n            //\r\n            // // Is lookup1 ambiguous?\r\n            // console.log('// Is lookup1 ambiguous?', utils.isAmbiguous(response.lookups[0]));\r\n            //\r\n            // // Is lookup1 missing a secondary address?\r\n            // console.log('// Is lookup1 missing a secondary address?', utils.isMissingSecondary(response.lookups[0]));\r\n            if (valid === false) {\r\n                setOpen(true);\r\n            }\r\n\r\n            if (valid === true) {\r\n                createEntitysubmit(event, false);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    const handleOnSubmit = async (event, userResponse = false) => {\r\n        event.preventDefault();\r\n        setApiLoading(true);\r\n        setAddressReset('');\r\n        var formsubmit = true;\r\n        if (inputEIN.value) {\r\n            var value = parseInt(inputEIN.value)\r\n            if (typeof value === 'number') {\r\n                if (value.toString().length === 9) {\r\n                    formsubmit = true;\r\n                } else {\r\n                    setApiLoading(false);\r\n                    formsubmit = false;\r\n                    setInputEIN({...inputEIN, error: \"Please enter 9 digits number\"})\r\n                }\r\n            } else {\r\n                setApiLoading(false);\r\n                formsubmit = false;\r\n                setInputEIN({...inputEIN, error: \"Please enter 9 digits number\"})\r\n            }\r\n        }\r\n\r\n\r\n        if (inputNotificationZip.value) {\r\n            var zip = parseInt(inputNotificationZip.value);\r\n            if (typeof zip === 'number') {\r\n                if (zip.toString().length === 5) {\r\n                    formsubmit = true;\r\n                } else {\r\n                    setApiLoading(false);\r\n                    formsubmit = false;\r\n                    setInputNotificationZip({...inputNotificationZip, error: \"Please enter 5 digits zip code\"})\r\n                }\r\n            } else {\r\n                setApiLoading(false);\r\n                formsubmit = false;\r\n                setInputNotificationZip({...inputNotificationZip, error: \"Please enter 5 digits zip code\"})\r\n            }\r\n        }\r\n\r\n\r\n        if (formsubmit === true) {\r\n            if (userAgree === false && userResponse === false) {\r\n                if ((addressObject || addressObject.streetLine) && inputNotificationCity.value && inputNotificationState.value && inputNotificationZip.value !== '') {\r\n                    formsubmit = false;\r\n                    const response = addressCheck(event);\r\n\r\n                }\r\n            }\r\n        }\r\n        if (formsubmit === true) {\r\n            createEntitysubmit(event, userResponse);\r\n        }\r\n    }\r\n\r\n\r\n    const createEntitysubmit = async (event) => {\r\n\r\n        setApiLoading(true);\r\n        setAddressReset('');\r\n        setInputFiling({...inputFiling, value: '', success: ' ', error: ' '});\r\n        setInputFileSize({...inputFileSize, value: ''});\r\n        setInputFileName({...inputFileName, value: ''});\r\n        setInputName({...inputName, error: ' '})\r\n        setInputComplianceOnly({...inputComplianceOnly, error: ' '})\r\n        setInputFillingState({...inputFillingState, error: ' '})\r\n        // setInputFirstName({...inputFirstName, error: ' '})\r\n        // setInputLastName({...inputLastName, error: ' '})\r\n        setInputFillingStructure({...inputFillingStructure, error: ' '})\r\n        setInputFormationDate({...inputFormationDate, error: ' '})\r\n        setInputFiscalDate({...inputFiscalDate, error: ' '})\r\n        setInputNotificationEmail({...inputNotificationEmail, error: ' '})\r\n        setInputNotificationPhone({...inputNotificationPhone, error: ' '})\r\n        setInputNotificationAddress({...inputNotificationAddress, error: ' '})\r\n        setInputNotificationCity({...inputNotificationCity, error: ' '})\r\n        setInputNotificationState({...inputNotificationState, error: ' '})\r\n        setInputNotificationZip({...inputNotificationZip, error: ' '})\r\n        setInputBusinessPurpose({...inputBusinessPurpose, error: ' '})\r\n        setInputEIN({...inputEIN, error: ' '})\r\n        setInputForeign({...inputForeign, error: ' '});\r\n        setInputFileSize({...inputFileSize, error: ' '})\r\n        let formData = new FormData();\r\n\r\n        formData.append('inputName', inputName.value)\r\n        formData.append('inputComplianceOnly', inputComplianceOnly.value)\r\n        formData.append('inputForeign', inputForeign.value)\r\n        formData.append('inputFillingState', inputFillingState.value)\r\n        formData.append('inputFillingStructure', inputFillingStructure.value)\r\n        formData.append('inputFormationDate', inputFormationDate.value)\r\n        formData.append('inputFiscalDate', inputFiscalDate.value)\r\n        // formData.append('inputFirstName', inputFirstName.value)\r\n        // formData.append('inputLastName', inputLastName.value)\r\n        formData.append('inputNotificationEmail', inputNotificationEmail.value)\r\n        formData.append('inputNotificationPhone', inputNotificationPhone.value)\r\n        if (addressObject.streetLine) {\r\n            formData.append('inputNotificationAddress', addressObject.streetLine)\r\n        } else {\r\n            formData.append('inputNotificationAddress', addressObject)\r\n        }\r\n        formData.append('inputEIN', inputEIN.value)\r\n\r\n        if (inputNotificationCity.value) {\r\n            formData.append('inputNotificationCity', inputNotificationCity.value);\r\n        } else {\r\n            formData.append('inputNotificationCity', '');\r\n        }\r\n        if (inputNotificationState.value) {\r\n            formData.append('inputNotificationState', inputNotificationState.value);\r\n        } else {\r\n            formData.append('inputNotificationState', '');\r\n        }\r\n        formData.append('inputNotificationZip', inputNotificationZip.value);\r\n        formData.append('inputFileId', inputFiling.value);\r\n        formData.append('inputFileName', inputFileName.value);\r\n        formData.append('inputBusinessPurpose', inputBusinessPurpose.value)\r\n        formData.append('inputFileSize', inputFileSize.value);\r\n\r\n\r\n        const response = await createEntity(formData);\r\n        if (response.type === 'error') {\r\n            window.location.reload();\r\n        }\r\n\r\n        if (response.status === 401) {\r\n            window.location.reload();\r\n        }\r\n\r\n\r\n        if (response.field_error) {\r\n            setApiLoading(false);\r\n            Object.keys(response.field_error).forEach((key, index) => {\r\n                if (key === 'inputName') {\r\n                    setInputName({...inputName, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputComplianceOnly') {\r\n                    setInputComplianceOnly({...inputComplianceOnly, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputFillingState') {\r\n                    setInputFillingState({...inputFillingState, error: response.field_error[key]})\r\n                }\r\n\r\n                // if (key === 'inputFirstName') {\r\n                //     setInputFirstName({...inputFirstName, error: response.field_error[key]})\r\n                // }\r\n                //\r\n                // if (key === 'inputLastName') {\r\n                //     setInputLastName({...inputLastName, error: response.field_error[key]})\r\n                // }\r\n                if (key === 'inputFillingStructure') {\r\n                    setInputFillingStructure({...inputFillingStructure, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputFormationDate') {\r\n                    setInputFormationDate({...inputFormationDate, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputNotificationEmail') {\r\n                    setInputNotificationEmail({...inputNotificationEmail, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputNotificationPhone') {\r\n                    setInputNotificationPhone({...inputNotificationPhone, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputNotificationAddress') {\r\n                    setInputNotificationAddress({...inputNotificationAddress, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputNotificationCity') {\r\n                    setInputNotificationCity({...inputNotificationCity, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputNotificationState') {\r\n                    setInputNotificationState({...inputNotificationState, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputNotificationZip') {\r\n                    setInputNotificationZip({...inputNotificationZip, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputBusinessPurpose') {\r\n                    setInputBusinessPurpose({...inputBusinessPurpose, error: response.field_error[key]})\r\n                }\r\n\r\n\r\n                if (key === 'inputEIN') {\r\n                    setInputEIN({...inputEIN, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputFiscalDate') {\r\n                    // setInputFiscalDate(inputFiscalDate => ...inputFiscalDate, error:response.field_error[key])\r\n                    setInputFiscalDate({...inputFiscalDate, value: fiscal, error: response.field_error[key]})\r\n                }\r\n\r\n\r\n            })\r\n        }\r\n\r\n        if (response) {\r\n            if (response.status) {\r\n                await resetForm();\r\n                setApiLoading(false);\r\n                setSuccessMessage(true);\r\n                window.scrollTo(0, 0);\r\n            }\r\n        }\r\n\r\n\r\n        // for (var pair of formData.entries()) {\r\n        //     console.log(pair[0] + ', ' + pair[1]);\r\n        // }\r\n\r\n\r\n    }\r\n\r\n    const removeSuccess = () => {\r\n        setSuccessMessage(false);\r\n    }\r\n\r\n    const removeErrorMessage = () => {\r\n        setError(false);\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n\r\n            { role === 'Parent Organization' || role === 'Administrator' ?\r\n            <Paper className={classes.paper} elevation={3} >\r\n\r\n                <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\">{\"We are unable to validate your address\"}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText id=\"alert-dialog-description\">\r\n                            Please make sure that you have entered it correctly.\r\n                            If you proceed and we are unable to validate your address it may cause delays\r\n                        </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={(event) => iAgree(event)} color=\"primary\" autoFocus>\r\n                            Accept\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n                {error ? (<MySnackbarContentWrapper\r\n                    onClose={()=>{removeErrorMessage()}}\r\n                    variant=\"error\"\r\n                    message=\"Something went wrong\"\r\n                />) : ''}\r\n\r\n                {successMessage ? (\r\n                    <MySnackbarContentWrapper\r\n                        onClose={()=>{removeSuccess()}}\r\n                        variant=\"success\"\r\n                        message=\"Entity has been added\"\r\n                    />\r\n                ) : ''}\r\n\r\n                <Grid container spacing={0}>\r\n\r\n\r\n                    <form className={classes.container} onSubmit={handleOnSubmit} noValidate\r\n                          autoComplete=\"off\">\r\n                        <FormGroup row>\r\n                            <div className={'col-md-6'}>\r\n                                <TextField\r\n                                    value={inputName.value}\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    error={inputName.error !== ' '}\r\n                                    onChange={e => setInputName({...inputName, value: e.target.value})}\r\n                                    id=\"inputName\"\r\n                                    label=\"Entity Name\"\r\n                                    className={clsx(classes.textField, classes.dense, classes.label)}\r\n                                    margin=\"dense\"\r\n                                    helperText={inputName.error}\r\n                                />\r\n                            </div>\r\n                            <div className={'col-md-3'}>\r\n                                <FormControlLabel\r\n                                    disabled={apiLoading}\r\n                                    error={inputForeign.error !== ' ' ? \"true\" : \"false\"}\r\n                                    onChange={e => setInputForeign({\r\n                                        ...inputForeign,\r\n                                        value: e.target.checked\r\n                                    })}\r\n                                    checked={inputForeign.value}\r\n                                    control={<Checkbox color=\"primary\"/>}\r\n                                    label=\"Foreign Qualified\"\r\n                                    className={clsx(classes.textField, classes.checkbox)}\r\n                                    labelPlacement=\"start\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-3'}>\r\n                                <FormControlLabel\r\n                                    disabled={apiLoading}\r\n                                    error={inputComplianceOnly.error !== ' ' ?  \"true\" : \"false\"}\r\n                                    onChange={e => setInputComplianceOnly({\r\n                                        ...inputComplianceOnly,\r\n                                        value: e.target.checked\r\n                                    })}\r\n                                    checked={inputComplianceOnly.value}\r\n                                    control={<Checkbox color=\"primary\"/>}\r\n                                    label=\"Compliance Only\"\r\n                                    className={clsx(classes.textField, classes.checkbox)}\r\n                                    labelPlacement=\"start\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-6'}>\r\n                                <FormControl className={clsx(classes.selectField)}\r\n                                             error={inputFillingState.error !== ' ' }>\r\n                                    <InputLabel className={clsx(classes.label)} htmlFor=\"age-native-simple\">Entity\r\n                                        State</InputLabel>\r\n                                    <Select\r\n                                        disabled={apiLoading}\r\n                                        required\r\n                                        error={inputFillingState.error !== ' '}\r\n                                        value={inputFillingState.value}\r\n\r\n                                        onChange={e => setInputFillingState({\r\n                                            ...inputFillingState,\r\n                                            value: e.target.value\r\n                                        })}\r\n                                        inputProps={{\r\n                                            name: 'inputFillingState',\r\n                                            id: 'inputFillingState',\r\n                                        }}>\r\n                                        <option value=\"\"/>\r\n                                        {StateRegion?.map((anObjectMapped, index) => <option key={index}\r\n                                                                                             value={anObjectMapped.code}>{anObjectMapped.name}</option>)\r\n\r\n                                        }\r\n\r\n                                    </Select>\r\n                                    <FormHelperText>{inputFillingState.error}</FormHelperText>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={'col-md-6'}>\r\n                                <FormControl className={clsx(classes.selectField)}\r\n                                             error={inputFillingStructure.error !== ' '}>\r\n                                    <InputLabel htmlFor=\"age-native-simple\">Entity Structure</InputLabel>\r\n                                    <Select\r\n                                        disabled={apiLoading}\r\n                                        required\r\n                                        error={inputFillingStructure.error !== ' '}\r\n                                        value={inputFillingStructure.value}\r\n                                        onChange={e => setInputFillingStructure({\r\n                                            ...inputFillingStructure,\r\n                                            value: e.target.value\r\n                                        })}\r\n                                        inputProps={{\r\n                                            name: 'inputFillingStructure',\r\n                                            id: 'inputFillingStructure',\r\n                                        }}>\r\n                                        <option value=\"\"/>\r\n                                        {FillingStructureData?.map((anObjectMapped, index) => <option\r\n                                            key={index}\r\n                                            value={anObjectMapped.code}>{anObjectMapped.name}</option>)}\r\n\r\n                                    </Select>\r\n                                    <FormHelperText>{inputFillingStructure.error}</FormHelperText>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={'col-md-6'}>\r\n                                <TextField\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    label=\"Formation Date\"\r\n                                    format={'Y-M-d'}\r\n                                    error={inputFormationDate.error !== ' '}\r\n                                    value={inputFormationDate.value}\r\n                                    onChange={e => setInputFormationDate({\r\n                                        ...inputFormationDate,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputFormationDate',\r\n                                        id: 'inputFormationDate',\r\n                                    }}\r\n\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    type=\"date\"\r\n                                    className={clsx(classes.textFieldOther, classes.dense)}\r\n\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-6'}>\r\n                                <TextField\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    label=\"Fiscal Date\"\r\n                                    error={inputFiscalDate.error !== ' '}\r\n                                    value={inputFiscalDate.value}\r\n                                    onChange={e => setInputFiscalDate({\r\n                                        ...inputFormationDate,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputFiscalDate',\r\n                                        id: 'inputFiscalDate',\r\n                                    }}\r\n\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    type=\"date\"\r\n                                    className={clsx(classes.textFieldOther, classes.dense)}\r\n\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-6'}>\r\n                                <TextField\r\n                                    disabled={apiLoading}\r\n                                    required\r\n\r\n                                    type=\"email\"\r\n                                    value={inputNotificationEmail.value}\r\n                                    onChange={e => setInputNotificationEmail({\r\n                                        ...inputNotificationEmail,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputNotificationEmail',\r\n                                        id: 'inputNotificationEmail',\r\n                                    }}\r\n                                    error={inputNotificationEmail.error !== ' '}\r\n                                    helperText={inputNotificationEmail.error}\r\n                                    label=\"Notification Email\"\r\n                                    className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                    margin=\"dense\"\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={'col-md-6'}>\r\n                                <TextField\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    value={inputNotificationPhone.value}\r\n                                    onChange={e => setInputNotificationPhone({\r\n                                        ...inputNotificationPhone,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputNotificationPhone',\r\n                                        id: 'inputNotificationPhone',\r\n                                    }}\r\n                                    error={inputNotificationPhone.error !== ' '}\r\n                                    helperText={inputNotificationPhone.error}\r\n                                    label=\"Notification Phone\"\r\n                                    className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                    margin=\"dense\"\r\n                                />\r\n                            </div>\r\n                            <div className={'col-md-12'}>\r\n                                <Autocomplete\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    width={''}\r\n                                    addressObject={addressObjectChangeHandler}\r\n                                    addressValue={addressValueChangeHandler}\r\n                                    reset={addressReset}\r\n                                    onChange={e => setAddressValue({\r\n                                        ...addressValue,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputNotificationAddress',\r\n                                        id: 'inputNotificationAddress',\r\n                                    }}\r\n                                    error={inputNotificationAddress.error !== ' '}\r\n                                    helperText={inputNotificationAddress.error}\r\n                                    className={clsx(classes.dense)}\r\n                                />\r\n                            </div>\r\n                            <div className={clsx(classes.textFieldCity, 'col-md-4')}>\r\n                                <TextField\r\n                                    disabled={apiLoading}\r\n                                    value={inputEIN.value}\r\n                                    onChange={e => setInputEIN({\r\n                                        ...inputEIN,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputEIN',\r\n                                        id: 'inputEIN',\r\n                                    }}\r\n                                    error={inputEIN.error !== ' '}\r\n                                    helperText={inputEIN.error}\r\n                                    label=\"EIN\"\r\n                                    className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                    margin=\"dense\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={clsx(classes.textFieldCity, 'col-md-4')}>\r\n\r\n                                <TextField\r\n                                    id=\"standard-basic\"\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    error={inputNotificationCity.error !== ' '}\r\n                                    helperText={inputNotificationCity.error}\r\n                                    value={inputNotificationCity.value || ''}\r\n                                    onChange={e => setInputNotificationCity({\r\n                                        ...inputNotificationCity,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputNotificationCity',\r\n                                        id: 'inputNotificationCity',\r\n                                    }}\r\n                                    label=\"City\"\r\n                                    className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                    margin=\"dense\"\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={'col-md-4'}>\r\n                                <FormControl className={clsx(classes.selectField)}\r\n                                             error={inputNotificationState.error !== ' '}>\r\n                                    <InputLabel>\r\n                                        State/Region/Province\r\n                                    </InputLabel>\r\n                                    <Select\r\n                                        disabled={apiLoading}\r\n                                        required\r\n                                        // renderValue={inputNotificationState.value || ''}\r\n                                        value={inputNotificationState.value || ''}\r\n                                        onChange={e => setInputNotificationState({\r\n                                            ...inputNotificationState,\r\n                                            value: e.target.value\r\n                                        })}\r\n                                        inputProps={{\r\n                                            name: 'inputNotificationState',\r\n                                            id: 'inputNotificationState',\r\n                                        }}\r\n                                        error={inputNotificationState.error !== ' '}\r\n                                        // helperText={inputNotificationState.error}\r\n                                    >\r\n                                        <option value=\"\"/>\r\n                                        {StateRegion?.map((anObjectMapped, index) => <option key={index}\r\n                                                                                             value={anObjectMapped.code}>{anObjectMapped.name}</option>)}\r\n\r\n                                    </Select>\r\n                                    <FormHelperText>{inputNotificationState.error}</FormHelperText>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={'col-md-6'}>\r\n                                <TextField\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    type=\"text\"\r\n                                    value={inputNotificationZip.value}\r\n                                    onChange={e => setInputNotificationZip({\r\n                                        ...inputNotificationZip,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    inputProps={{\r\n                                        name: 'inputNotificationZip',\r\n                                        id: 'inputNotificationZip',\r\n                                    }}\r\n                                    error={inputNotificationZip.error !== ' '}\r\n                                    helperText={inputNotificationZip.error}\r\n                                    label=\"Postal / Zip Code\"\r\n                                    className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                    margin=\"dense\"\r\n                                />\r\n                            </div>\r\n                            <div className={'col-md-6'}>\r\n                                <CustomFileInput\r\n                                    disabled={apiLoading}\r\n                                    required\r\n                                    id=\"attachment\"\r\n                                    value={inputFiling.value.File}\r\n                                    onChange={e => fileChange(e)}\r\n                                    label=\"Attachment\"\r\n                                    className={clsx(classes.fileUpapiLoading, classes.dense)}\r\n                                    margin=\"dense\"\r\n                                    invalid={inputFiling.error !== ' '}\r\n                                    valid={inputFiling.success !== ' '}\r\n                                />\r\n                                {inputFiling.success !== ' ' ? (<span>{inputFiling.success}</span>) : ' '}\r\n                                {inputFiling.error !== ' ' ? (\r\n                                    <span className={clsx(classes.fileError)}>{inputFiling.error}</span>) : ' '}\r\n                            </div>\r\n                            <div className={'col-md-12'}>\r\n                                <TextField\r\n                                    id=\"standard-full-width\"\r\n                                    disabled={apiLoading}\r\n                                    placeholder=\"Business Purpose\"\r\n                                    value={inputBusinessPurpose.value}\r\n                                    error={inputBusinessPurpose.error !== ' '}\r\n                                    helperText={inputBusinessPurpose.error}\r\n                                    onChange={e => setInputBusinessPurpose({\r\n                                        ...inputBusinessPurpose,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    fullWidth\r\n                                    margin=\"normal\"\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    inputProps={{\r\n                                        name: 'inputBusinessPurpose',\r\n                                        id: 'inputBusinessPurpose',\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-12'}>\r\n                                <div className={clsx(classes.submitButton, 'custom-button-wrapper')}>\r\n                                    {apiLoading ? (\r\n                                            <div className={clsx(classes.loader)}>\r\n                                                <FacebookProgress/>\r\n                                            </div>)\r\n                                        : null}\r\n                                    {/*<input disabled={apiLoading}*/}\r\n                                    {/*       className={clsx('btn btn-primary', classes.restButton)}*/}\r\n                                    {/*       type=\"reset\"  value=\"Reset\"/>*/}\r\n\r\n                                    <input disabled={apiLoading}\r\n                                           className={clsx('btn btn-primary', classes.restButton)}\r\n                                           type=\"submit\" value=\"Create New Entity\"/>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </FormGroup>\r\n                    </form>\r\n                </Grid>\r\n            </Paper>\r\n                : <MySnackbarContentWrapper\r\n                    variant=\"error\"\r\n                    message={'Access Denied.'}\r\n                /> }\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default withOktaAuth(AddEntity);\r\n","const HOST = process.env.REACT_APP_SERVER_API_URL;\r\n\r\n\r\nexport const ENTITY = HOST;\r\n\r\n\r\nexport const AttachmentsList = async (zoho_id) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/Documents/list/?eid=${zoho_id}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const attachFiles = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/documents/attachment`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n            },\r\n            body: data\r\n        })\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const taskUpdate = async (eid, data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n\r\n        const response = await fetch(`${ENTITY}/Tasks/completeTaskInZoho/${eid}`, {\r\n            method: 'put',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n            body: data\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n","import React, {useContext} from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n// import {useHistory} from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {taskUpdate} from '../api/attachment';\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(3),\r\n        overflowX: 'auto',\r\n    },\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n}));\r\n\r\nfunction ComplianceTaskList(props) {\r\n    localStorage.setItem('task', 'false');\r\n    const {addError} = useContext(UserContext);\r\n\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [open, setOpen] = React.useState(false);\r\n    // const [userAgree, setUserAgree] = React.useState(false);\r\n    const [status, setStatus] = React.useState('');\r\n    const [taskID, setTaskID] = React.useState()\r\n    // const [eid, setEid] = React.useState('');\r\n    // const [data, setData] = React.useState(props.data)\r\n    // const history = useHistory();\r\n    // const classes = useStyles();\r\n\r\n\r\n    // const data = [{id: \"4071993000002295199\", subject: \"Dissolve LLC FQ\", dueDate: \"2019-12-12\", status: \"Not Started\"}]\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        setLoading(false);\r\n        return null;\r\n    };\r\n    const taskUpdateController = () => {\r\n        console.log('task', localStorage.getItem('task'))\r\n        if (localStorage.getItem('task') === 'false') {\r\n            setOpen(true);\r\n        }\r\n\r\n\r\n        if (localStorage.getItem('task') === 'true') {\r\n            setOpen(false);\r\n\r\n            let formData = new FormData();\r\n            formData.append('status', status);\r\n            formData.append('eid', props.eid);\r\n            taskUpdate(taskID, formData).then(response => {\r\n                if (response.message) {\r\n                    localStorage.setItem('task', 'false');\r\n                    props.update();\r\n                    setLoading(false);\r\n                }\r\n\r\n                if (response.type === 'error') {\r\n                    addError(response.message);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const iAgree = async (event) => {\r\n\r\n        localStorage.setItem('task', 'true');\r\n        taskUpdateController();\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <Grid item xs={12}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{\"Compliance Task\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Are you sure, you want to mark this task\r\n                        as {localStorage.getItem('userMessage') ? localStorage.getItem('userMessage') : ''}.\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={(event) => iAgree(event)} color=\"primary\" autoFocus>\r\n                        Accept\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n            <MaterialTable\r\n                isLoading={loading ? loading : props.loading}\r\n\r\n                actions={[\r\n                    rowData => ({\r\n                        icon: 'check',\r\n                        position: 'row',\r\n                        tooltip: rowData.status === 'Completed' ? 'Mark this task Incomplete' : 'Mark this task Complete',\r\n                        onClick: (event, rowData) => {\r\n                            setLoading(true);\r\n                            if (rowData.status === 'Completed') {\r\n                                Promise.resolve(setStatus(0));\r\n                                localStorage.setItem('userMessage', 'Incomplete');\r\n                            } else {\r\n                                Promise.resolve(setStatus(1));\r\n                                localStorage.setItem('userMessage', 'Complete');\r\n                            }\r\n                            Promise.resolve(setTaskID(rowData.id));\r\n                            setOpen(true);\r\n\r\n\r\n                        }\r\n                    })\r\n                ]}\r\n\r\n                title={props.title !== '' ? props.title : ''}\r\n                options={{\r\n                    selection: props.selection ? props.selection : false,\r\n                    actionsColumnIndex: -1\r\n                }}\r\n                columns={props.data.columns}\r\n                data={props.data.data}\r\n\r\n            />\r\n        </Grid>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default ComplianceTaskList;\r\n","import React from 'react';\r\nimport MaterialTable from 'material-table';\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(3),\r\n        overflowX: 'auto',\r\n    },\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n}));\r\n\r\nfunction ContactList(props) {\r\n    const [loading, setLoading] = React.useState(false);\r\n    const history = useHistory();\r\n\r\n    return (\r\n\r\n        <Grid item xs={12}>\r\n            <MaterialTable\r\n                isLoading={loading ? loading : props.loading}\r\n                actions={  props.action ? [\r\n                    {\r\n                        icon: 'add',\r\n                        tooltip: props.tooltip ? props.tooltip : 'Add User',\r\n                        isFreeAction: true,\r\n                        onClick: (event) => {\r\n                            if (props.redirect) {\r\n                                history.push(props.url);\r\n                            }\r\n                        }\r\n                    }\r\n                ] : ''}\r\n                options={{\r\n                    sorting: true\r\n                }}\r\n                title={props.title !== '' ? props.title : ''}\r\n                columns={props.data.columns}\r\n                data={props.data.data}\r\n\r\n            />\r\n        </Grid>\r\n\r\n    )\r\n}\r\nexport default withRouter(ContactList);\r\n","import React from 'react';\r\nimport MaterialTable from 'material-table';\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\";\r\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(3),\r\n        overflowX: 'auto',\r\n    },\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n}));\r\n\r\nfunction AttachmentTable(props) {\r\n    const [loading, setLoading] = React.useState(false);\r\n    const history = useHistory();\r\n\r\n    return (\r\n\r\n        <Grid item xs={12}>\r\n            <MaterialTable\r\n                isLoading={loading ? loading : props.loading}\r\n                actions={[\r\n                    rowData => ({\r\n                        icon: () => <CloudDownloadIcon/>,\r\n                        tooltip: 'Download',\r\n                        onClick: (event, rowData) => {\r\n                            const url = `${process.env.REACT_APP_SERVER_API_URL}/download/${rowData.fileId}?token=${rowData.token}&name=${rowData.name}`;\r\n                            window.open(url,'_blank');\r\n                        }\r\n                    }),\r\n                    {\r\n                        icon: 'add',\r\n                        tooltip: props.tooltip ? props.tooltip : 'Add User',\r\n                        isFreeAction: true,\r\n                        onClick: (event) => {\r\n                            if (props.redirect) {\r\n                                history.push(props.url);\r\n                            }\r\n                        }\r\n                    }\r\n                ]}\r\n                options={{\r\n                    actionsColumnIndex: -1,\r\n                    sorting: true,\r\n                    search: true\r\n                }}\r\n                title={props.title !== '' ? props.title : ''}\r\n                columns={props.data.columns}\r\n                data={props.data.data}\r\n\r\n            />\r\n        </Grid>\r\n\r\n    )\r\n}\r\nexport default withRouter(AttachmentTable);\r\n","import {ENTITY} from \"./enitity.crud\";\r\n\r\nexport const sendMessageAPI = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n        const response = await fetch(`${ENTITY}/message/send`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n            body: data\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const TemplateList = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n        const response = await fetch(`${ENTITY}/templates/list`, {\r\n            method: 'get',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\nexport const getTemplate = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n        const response = await fetch(`${ENTITY}/templates/${data}`, {\r\n            method: 'get',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const FetchThreads = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n        const response = await fetch(`${ENTITY}/message/list/${data}`, {\r\n            method: 'get',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessageFormChat = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n        const response = await fetch(`${ENTITY}/message/send`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n            body: data\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const FetchMessageLogs = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n\r\n    if (okta) {\r\n        const response = await fetch(`${ENTITY}/message/search`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            },\r\n            body: data\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport clsx from \"clsx\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Layout from \"../layout/Layout\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {CKEditor} from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport CustomFileInput from \"reactstrap/es/CustomFileInput\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport {sendMessageAPI} from '../api/message';\r\nimport {lorexFileUpload} from \"../api/enitity.crud\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport {TemplateList, getTemplate} from \"../api/message\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport {toast} from 'react-toastify';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    form: {\r\n        // width: '100%'\r\n    },\r\n\r\n    dense: {\r\n        marginTop: 16,\r\n        fontSize: 14\r\n    },\r\n\r\n    subjectDense: {\r\n        marginTop: 0,\r\n        fontSize: 14\r\n    },\r\n\r\n    textFieldtwofield: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n    container: {\r\n        // display: 'flex',\r\n        // flexWrap: 'wrap',\r\n        // width: '100%'\r\n        // transform: 'scale(0.9)'\r\n    },\r\n    baseColor: {\r\n        marginTop: 20,\r\n        textAlign: 'center',\r\n        color: '#4D5D98'\r\n    },\r\n\r\n    fileUpapiLoading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n\r\n    fileError: {\r\n        color: '#fd397a'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    selectField: {\r\n        width: '100%'\r\n    }\r\n\r\n}));\r\nconst useStylesFacebook = makeStyles({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    top: {\r\n        color: '#eef3fd',\r\n    },\r\n    bottom: {\r\n        color: '#6798e5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n});\r\n\r\nfunction FacebookProgress(props) {\r\n    const classes = useStylesFacebook();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CircularProgress\r\n\r\n                variant=\"determinate\"\r\n                value={100}\r\n                className={classes.top}\r\n                size={24}\r\n                thickness={4}\r\n                {...props}\r\n            />\r\n            <CircularProgress\r\n                variant=\"indeterminate\"\r\n                disableShrink\r\n                className={classes.bottom}\r\n                size={24}\r\n                thickness={4}\r\n                {...props}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst AdminSendMessageForm = (props) => {\r\n    const classes = useStyles();\r\n    const {loading, addError, errorList, role, attributes,manageOuterThreads} = useContext(UserContext);\r\n\r\n    const entity_id = props.match.params.id ? props.match.params.id : attributes.organization;\r\n    const [content, setContent] = useState({value: '', error: ' '});\r\n    const [subject, setSubject] = useState({value: '', error: ' '});\r\n    const [sendasEmail, setSendasEmail] = useState(false);\r\n    const [messageType, setMessageType] = useState({value: '', error: ' '});\r\n    const [fileLink, setFileLink] = useState({value: '', error: ' ', success: ' '});\r\n    const [fileSize, setFileSize] = useState({value: '', error: ' '});\r\n    const [fileName, setFileName] = useState({value: '', error: ' '});\r\n    const [apiLoading, setApiLoading] = useState(false);\r\n    const [templates, setTemplates] = useState([]);\r\n    const [noteType, setNoteType] = useState({email: 'Email', note: 'Note', phone: 'Phone', mail:'Mail'});\r\n    const [noteChosen, setNoteChosen] = useState({value: '', error: ' '});\r\n    useEffect(() => {\r\n        if(loading === true) {\r\n            getTemplateList();\r\n        }\r\n    }, [loading]);\r\n\r\n    const getTemplateList = async () => {\r\n        try {\r\n            await TemplateList().then(response => {\r\n                setTemplates(response.data.results);\r\n            })\r\n        } catch (e) {\r\n            addError(e)\r\n        }\r\n    }\r\n\r\n    const sendMessageSubmission = async (event) => {\r\n        event.preventDefault();\r\n        setApiLoading(true);\r\n        resetFormError();\r\n        const noteValue = sendasEmail ? 1 : 0;\r\n        let formData = new FormData();\r\n        formData.append('eid', entity_id);\r\n        formData.append('subject', subject.value);\r\n        if(sendasEmail) {\r\n            formData.append('note', '1');\r\n        } else {\r\n            formData.append('note', '0');\r\n        }\r\n        if(noteChosen.value) {\r\n            formData.append('notetype', noteChosen.value);\r\n        }\r\n        formData.append('message', content.value);\r\n\r\n        if(sendasEmail === true){\r\n            if(noteChosen.value  === ''){\r\n                setNoteChosen({...noteChosen, error: 'Choose the note type'});\r\n                toast.error('Choose the note type', {\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                setApiLoading(false);\r\n                return false;\r\n            }\r\n        }\r\n        await sendMessageAPI(formData).then(response => {\r\n            if (response.status === true) {\r\n                setApiLoading(false);\r\n                manageOuterThreads(true);\r\n                toast.success(response.message, {\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                resetForm()\r\n            }\r\n\r\n            if (response.status === false) {\r\n                setApiLoading(false);\r\n                if (response.error) {\r\n\r\n\r\n                    Object.keys(response.error).forEach((key, index) => {\r\n                        if (key === 'subject') {\r\n                            setSubject({...subject, error: response.error[key]})\r\n                            toast.error(response.error[key], {\r\n                                position: toast.POSITION.BOTTOM_LEFT\r\n                            });\r\n                        }\r\n\r\n                        if (key === 'message') {\r\n                            setContent({...subject, error: response.error[key]})\r\n                            toast.error(response.error[key], {\r\n                                position: toast.POSITION.BOTTOM_LEFT\r\n                            });\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    const fileChange = async (e) => {\r\n        if (e.target.files[0]) {\r\n            setApiLoading(true);\r\n            setFileLink({...fileLink, value: '', success: ' '});\r\n            setFileSize({...fileSize, value: ''});\r\n            setFileName({...fileName, value: ''});\r\n            let formData = new FormData();\r\n            formData.append('file', e.target.files[0]);\r\n            const filename = e.target.files[0].name;\r\n            const response = await lorexFileUpload(formData);\r\n            if (response.error === false) {\r\n                setFileLink({...fileLink, value: response.record_id, success: 'uploaded'});\r\n                setFileSize({...fileSize, value: response.file_size});\r\n\r\n                if (filename) {\r\n                    setFileName({...fileName, value: filename});\r\n                    setApiLoading(false);\r\n                }\r\n            } else {\r\n                setFileLink({...fileLink, error: response.message.file[0]});\r\n                setApiLoading(false);\r\n            }\r\n        } else {\r\n            setFileLink({...fileLink, value: '', success: ' '});\r\n            setFileSize({...fileSize, value: ''});\r\n            setFileName({...fileName, value: ''});\r\n        }\r\n    }\r\n\r\n    const handleTemplateListing = async (newValue) => {\r\n\r\n        setApiLoading(true);\r\n        if (newValue) {\r\n            setMessageType({\r\n                ...messageType,\r\n                value: newValue.id\r\n            })\r\n        } else {\r\n            setMessageType({\r\n                ...messageType,\r\n                value: ''\r\n            })\r\n        }\r\n        if (newValue.id) {\r\n            await getTemplate(newValue.id).then(response => {\r\n                if (response.status === true) {\r\n                    setContent({...content, value: response.data.message});\r\n                    setSubject({...subject, value:newValue.subject});\r\n                    setApiLoading(false);\r\n                }\r\n            })\r\n        } else {\r\n            setApiLoading(false);\r\n        }\r\n    }\r\n\r\n\r\n    const resetForm = () => {\r\n        setContent({...content, value: ''})\r\n        setSubject({...subject, value:''})\r\n\r\n    }\r\n\r\n\r\n\r\n    const resetFormError = () => {\r\n        setContent({...content, error: ' '})\r\n        setSubject({...subject, error:' '})\r\n        setNoteChosen({...noteChosen, error:' '})\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className=\"message-title\">\r\n                    <Typography className={classes.baseColor} color=\"inherit\" variant=\"h5\">Send Message</Typography>\r\n                </div>\r\n                <form onSubmit={sendMessageSubmission} className={classes.container} noValidate autoComplete=\"off\">\r\n                    <FormGroup row>\r\n\r\n                        <div className={'col-md-12'}>\r\n                            <FormControlLabel\r\n                                control={<Checkbox color=\"primary\"/>}\r\n                                label=\"Send as Note\"\r\n                                className={'send-as-mail'}\r\n                                labelPlacement=\"start\"\r\n                                onChange={e => setSendasEmail(\r\n                                    e.target.checked\r\n                                )}\r\n                            />\r\n                        </div>\r\n\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <FormControl className={clsx(classes.selectField)}*/}\r\n                        {/*                 error={messageType.error !== ' '}>*/}\r\n                        {/*        <InputLabel className={clsx(classes.label)} htmlFor=\"age-native-simple\">Message*/}\r\n                        {/*            Type</InputLabel>*/}\r\n                        {/*        <Select*/}\r\n                        {/*            disabled={apiLoading}*/}\r\n                        {/*            required*/}\r\n                        {/*            error={messageType.error !== ' '}*/}\r\n                        {/*            value={messageType.value}*/}\r\n\r\n                        {/*            onChange={e => handleTemplateListing(e)}*/}\r\n                        {/*            inputProps={{*/}\r\n                        {/*                name: 'messageType',*/}\r\n                        {/*                id: 'messageType',*/}\r\n                        {/*            }}>*/}\r\n                        {/*            <option value=\"\"/>*/}\r\n                        {/*            {templates?.map((anObjectMapped, index) => <option key={index}*/}\r\n                        {/*                                                               value={anObjectMapped.id}>{anObjectMapped.subject}</option>)*/}\r\n\r\n                        {/*            }*/}\r\n\r\n                        {/*        </Select>*/}\r\n                        {/*        <FormHelperText>{messageType.error}</FormHelperText>*/}\r\n                        {/*    </FormControl>*/}\r\n                        {/*</div>*/}\r\n\r\n                        <div className={'col-md-12'}>\r\n                            <FormControl className={clsx(classes.selectField)}\r\n                                         error={messageType.error !== ' '}>\r\n                                <Autocomplete\r\n                                    disabled={apiLoading}\r\n                                    onChange={(event, newValue) => {\r\n\r\n                                        handleTemplateListing(newValue)\r\n                                    }}\r\n\r\n                                    id=\"combo-box-demo\"\r\n                                    options={templates ? templates : ''}\r\n                                    getOptionLabel={(option) => option.subject}\r\n                                    renderInput={(params) => <TextField error={messageType.error !== ' '} {...params}\r\n                                                                        label=\"Message Type\" variant=\"outlined\"/>}\r\n                                />\r\n                                <FormHelperText>{messageType.error}</FormHelperText>\r\n                            </FormControl>\r\n                        </div>\r\n                        {sendasEmail ?\r\n                            <div className={'col-md-12'}>\r\n                                <FormControl className={clsx(classes.selectField)}\r\n                                             error={noteChosen.error !== ' '}>\r\n                                    <InputLabel className={clsx(classes.label)} htmlFor=\"age-native-simple\">Note\r\n                                        Type</InputLabel>\r\n                                    <Select\r\n                                        disabled={apiLoading}\r\n                                        required\r\n                                        error={noteChosen.error !== ' '}\r\n                                        value={noteChosen.value}\r\n\r\n                                        onChange={e => setNoteChosen({\r\n                                            ...noteChosen,\r\n                                            value: e.target.value\r\n                                        })}\r\n                                        inputProps={{\r\n                                            name: 'noteChosen',\r\n                                            id: 'noteChosen',\r\n                                        }}>\r\n                                        <option value=\"\"/>\r\n                                        {/*{noteType?.map((anObjectMapped, index) => <option key={index} value={anObjectMapped}>{index}</option>)}*/}\r\n\r\n                                        {/*{noteType.map((value, index) => (*/}\r\n                                        {/*    <option key={index} value={index}>{value}</option>*/}\r\n                                        {/*))}*/}\r\n                                        {\r\n                                            Object.entries(noteType).map(([key, val]) =>\r\n                                                <option key={key} value={key}>{val}</option>\r\n                                            )\r\n                                        }\r\n\r\n\r\n                                    </Select>\r\n                                    <FormHelperText>{noteChosen.error}</FormHelperText>\r\n                                </FormControl>\r\n                            </div> : ''}\r\n\r\n                        {/*{sendasEmail === true ?*/}\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <TextField className={clsx(classes.textFieldtwofield, classes.dense)}*/}\r\n                        {/*               id=\"standard-basic\"*/}\r\n                        {/*               label=\"To\"/>*/}\r\n                        {/*</div> : ''*/}\r\n                        {/*}*/}\r\n\r\n                        <div className={'col-md-12 custom-subject'}>\r\n                            <TextField disabled={apiLoading} value={subject.value}\r\n                                       error={subject.error !== ' '}\r\n                                       helperText={subject.error}\r\n                                       onChange={(e) => setSubject({...subject, value: e.target.value})}\r\n                                       className={clsx(classes.textFieldtwofield, classes.subjectDense)} id=\"standard-basic\"\r\n                                       label=\"Subject\"/>\r\n                        </div>\r\n                        <div className={'col-md-12'}>\r\n                            <FormControl className={clsx(classes.selectField)}\r\n                                         error={content.error !== ' '}>\r\n                            <CKEditor\r\n                                disable={apiLoading}\r\n                                editor={ClassicEditor}\r\n                                data={content.value}\r\n                                onReady={editor => {\r\n                                    // You can store the \"editor\" and use when it is needed.\r\n                                    // console.log('Editor is ready to use!', editor);\r\n                                }}\r\n                                onChange={(event, editor) => {\r\n                                    const data = editor.getData();\r\n                                    // console.log({event, editor, data});\r\n                                    setContent({...content, value: data})\r\n                                }}\r\n                                // onBlur={(event, editor) => {\r\n                                //     console.log('Blur.', editor);\r\n                                // }}\r\n                                // onFocus={(event, editor) => {\r\n                                //     console.log('Focus.', editor);\r\n                                // }}\r\n                            />\r\n                                <FormHelperText>{content.error}</FormHelperText>\r\n                            </FormControl>\r\n\r\n                        </div>\r\n\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <CustomFileInput*/}\r\n                        {/*        disable={apiLoading}*/}\r\n                        {/*        value={fileLink.value.File}*/}\r\n                        {/*        onChange={e => fileChange(e)}*/}\r\n                        {/*        required*/}\r\n                        {/*        id=\"attachment\"*/}\r\n                        {/*        label=\"File\"*/}\r\n                        {/*        className={clsx(classes.fileUploading, classes.dense)}*/}\r\n                        {/*        margin=\"dense\"*/}\r\n                        {/*    />*/}\r\n                        {/*    {fileLink.success !== ' ' ? (<span>{fileLink.success}</span>) : ' '}*/}\r\n                        {/*    {fileLink.error !== ' ' ? (*/}\r\n                        {/*        <span className={clsx(classes.fileError)}>{fileLink.error}</span>) : ' '}*/}\r\n                        {/*</div>*/}\r\n                        <div className={'col-md-12'}>\r\n                            <div className={clsx(classes.submitButton, 'custom-button-wrapper')}>\r\n                                {apiLoading ? (\r\n                                        <div className={clsx(classes.loader)}>\r\n                                            <FacebookProgress/>\r\n                                        </div>)\r\n                                    : null}\r\n                                <input disabled={apiLoading}\r\n                                       className={clsx('btn btn-primary', classes.restButton)}\r\n                                       type=\"submit\" value=\"Send Message\"/>\r\n                            </div>\r\n                        </div>\r\n                    </FormGroup>\r\n                </form>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminSendMessageForm;\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport clsx from \"clsx\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Layout from \"../layout/Layout\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {CKEditor} from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport CustomFileInput from \"reactstrap/es/CustomFileInput\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport {sendMessageAPI} from '../api/message';\r\nimport {lorexFileUpload} from \"../api/enitity.crud\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport {TemplateList, getTemplate} from \"../api/message\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport {toast} from 'react-toastify';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    form: {\r\n        // width: '100%'\r\n    },\r\n\r\n    dense: {\r\n        marginTop: 16,\r\n        fontSize: 14\r\n    },\r\n\r\n    textFieldtwofield: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n    container: {\r\n        // display: 'flex',\r\n        // flexWrap: 'wrap',\r\n        // width: '100%'\r\n        // transform: 'scale(0.9)'\r\n    },\r\n    baseColor: {\r\n        marginTop: 20,\r\n        textAlign: 'center',\r\n        color: '#4D5D98'\r\n    },\r\n\r\n    fileUpapiLoading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n\r\n    fileError: {\r\n        color: '#fd397a'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    selectField: {\r\n        width: '100%'\r\n    }\r\n\r\n}));\r\nconst useStylesFacebook = makeStyles({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    top: {\r\n        color: '#eef3fd',\r\n    },\r\n    bottom: {\r\n        color: '#6798e5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n});\r\n\r\nfunction FacebookProgress(props) {\r\n    const classes = useStylesFacebook();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CircularProgress\r\n\r\n                variant=\"determinate\"\r\n                value={100}\r\n                className={classes.top}\r\n                size={24}\r\n                thickness={4}\r\n                {...props}\r\n            />\r\n            <CircularProgress\r\n                variant=\"indeterminate\"\r\n                disableShrink\r\n                className={classes.bottom}\r\n                size={24}\r\n                thickness={4}\r\n                {...props}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst SendMessageForm = (props) => {\r\n    const classes = useStyles();\r\n    const {loading, addError, errorList, role, attributes,   manageOuterThreads} = useContext(UserContext);\r\n\r\n    const entity_id = props.match.params.id ? props.match.params.id : attributes.organization;\r\n\r\n    const [content, setContent] = useState({value: '', error: ' '});\r\n    const [subject, setSubject] = useState({value: '', error: ' '});\r\n    const [sendasEmail, setSendasEmail] = useState(false);\r\n    const [messageType, setMessageType] = useState({value: '', error: ' '});\r\n    const [fileLink, setFileLink] = useState({value: '', error: ' ', success: ' '});\r\n    const [fileSize, setFileSize] = useState({value: '', error: ' '});\r\n    const [fileName, setFileName] = useState({value: '', error: ' '});\r\n    const [apiLoading, setApiLoading] = useState(false);\r\n    const [templates, setTemplates] = useState([]);\r\n    const [noteType, setNoteType] = useState({mail: 'Email', note: 'Note', phone: 'Phone'});\r\n    const [noteChosen, setNoteChosen] = useState({value: '', error: ' '});\r\n    useEffect(() => {\r\n        if(loading === true) {\r\n            getTemplateList();\r\n        }\r\n    }, [loading]);\r\n\r\n    const getTemplateList = async () => {\r\n        await TemplateList().then(response => {\r\n            setTemplates(response.data.results);\r\n        })\r\n    }\r\n\r\n    const resetFormError = () => {\r\n        setContent({...content, error: ' '})\r\n        setSubject({...subject, error:' '})\r\n        setNoteChosen({...noteChosen, error:' '})\r\n\r\n    }\r\n    const sendMessageSubmission = async (event) => {\r\n        event.preventDefault();\r\n        setApiLoading(true);\r\n        resetFormError();\r\n        let formData = new FormData();\r\n        formData.append('eid', entity_id);\r\n        formData.append('subject', subject.value);\r\n        formData.append('message', content.value)\r\n        await sendMessageAPI(formData).then(response => {\r\n            if (response.status === true) {\r\n                manageOuterThreads(true);\r\n                setApiLoading(false);\r\n                toast.success(response.message, {\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                resetForm()\r\n            }\r\n\r\n            if (response.status === false) {\r\n                setApiLoading(false);\r\n                if (response.error) {\r\n\r\n                    Object.keys(response.error).forEach((key, index) => {\r\n                        if (key === 'subject') {\r\n                            setSubject({...subject, error: response.error[key]})\r\n                            toast.error(response.error[key], {\r\n                                position: toast.POSITION.BOTTOM_LEFT\r\n                            });\r\n                        }\r\n\r\n                        if (key === 'message') {\r\n                            setContent({...subject, error: response.error[key]})\r\n                            toast.error(response.error[key], {\r\n                                position: toast.POSITION.BOTTOM_LEFT\r\n                            });\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    const fileChange = async (e) => {\r\n        if (e.target.files[0]) {\r\n            setApiLoading(true);\r\n            setFileLink({...fileLink, value: '', success: ' '});\r\n            setFileSize({...fileSize, value: ''});\r\n            setFileName({...fileName, value: ''});\r\n            let formData = new FormData();\r\n            formData.append('file', e.target.files[0]);\r\n            const filename = e.target.files[0].name;\r\n            const response = await lorexFileUpload(formData);\r\n            if (response.error === false) {\r\n                setFileLink({...fileLink, value: response.record_id, success: 'uploaded'});\r\n                setFileSize({...fileSize, value: response.file_size});\r\n\r\n                if (filename) {\r\n                    setFileName({...fileName, value: filename});\r\n                    setApiLoading(false);\r\n                }\r\n            } else {\r\n                setFileLink({...fileLink, error: response.message.file[0]});\r\n                setApiLoading(false);\r\n            }\r\n        } else {\r\n            setFileLink({...fileLink, value: '', success: ' '});\r\n            setFileSize({...fileSize, value: ''});\r\n            setFileName({...fileName, value: ''});\r\n        }\r\n    }\r\n\r\n    const handleTemplateListing = async (newValue) => {\r\n\r\n        setApiLoading(true);\r\n        if (newValue) {\r\n            setMessageType({\r\n                ...messageType,\r\n                value: newValue.id\r\n            })\r\n        } else {\r\n            setMessageType({\r\n                ...messageType,\r\n                value: ''\r\n            })\r\n        }\r\n        if (newValue.id) {\r\n            await getTemplate(newValue.id).then(response => {\r\n                if (response.status === true) {\r\n                    setContent({...content, value: response.data.message})\r\n                    setSubject({...subject, value:newValue.subject});\r\n                    setApiLoading(false);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const resetForm = () => {\r\n        setContent({...content, value: ''})\r\n        setSubject({...subject, value:''})\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className=\"message-title\">\r\n                    <Typography className={classes.baseColor} color=\"inherit\" variant=\"h5\">Send Message</Typography>\r\n                </div>\r\n                <form onSubmit={sendMessageSubmission} className={classes.container} noValidate autoComplete=\"off\">\r\n                    <FormGroup row>\r\n\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <FormControlLabel*/}\r\n                        {/*        control={<Checkbox color=\"primary\"/>}*/}\r\n                        {/*        label=\"Send as Note\"*/}\r\n                        {/*        className={'send-as-mail'}*/}\r\n                        {/*        labelPlacement=\"start\"*/}\r\n                        {/*        onChange={e => setSendasEmail(*/}\r\n                        {/*            e.target.checked*/}\r\n                        {/*        )}*/}\r\n                        {/*    />*/}\r\n                        {/*</div>*/}\r\n\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <FormControl className={clsx(classes.selectField)}*/}\r\n                        {/*                 error={messageType.error !== ' '}>*/}\r\n                        {/*        <InputLabel className={clsx(classes.label)} htmlFor=\"age-native-simple\">Message*/}\r\n                        {/*            Type</InputLabel>*/}\r\n                        {/*        <Select*/}\r\n                        {/*            disabled={apiLoading}*/}\r\n                        {/*            required*/}\r\n                        {/*            error={messageType.error !== ' '}*/}\r\n                        {/*            value={messageType.value}*/}\r\n\r\n                        {/*            onChange={e => handleTemplateListing(e)}*/}\r\n                        {/*            inputProps={{*/}\r\n                        {/*                name: 'messageType',*/}\r\n                        {/*                id: 'messageType',*/}\r\n                        {/*            }}>*/}\r\n                        {/*            <option value=\"\"/>*/}\r\n                        {/*            {templates?.map((anObjectMapped, index) => <option key={index}*/}\r\n                        {/*                                                               value={anObjectMapped.id}>{anObjectMapped.subject}</option>)*/}\r\n\r\n                        {/*            }*/}\r\n\r\n                        {/*        </Select>*/}\r\n                        {/*        <FormHelperText>{messageType.error}</FormHelperText>*/}\r\n                        {/*    </FormControl>*/}\r\n                        {/*</div>*/}\r\n\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <FormControl className={clsx(classes.selectField)}*/}\r\n                        {/*                 error={messageType.error !== ' '}>*/}\r\n                        {/*        <Autocomplete*/}\r\n                        {/*            disabled={apiLoading}*/}\r\n                        {/*            onChange={(event, newValue) => {*/}\r\n\r\n                        {/*                handleTemplateListing(newValue)*/}\r\n                        {/*            }}*/}\r\n\r\n                        {/*            id=\"combo-box-demo\"*/}\r\n                        {/*            options={templates ? templates : ''}*/}\r\n                        {/*            getOptionLabel={(option) => option.subject}*/}\r\n                        {/*            renderInput={(params) => <TextField error={messageType.error !== ' '} {...params}*/}\r\n                        {/*                                                label=\"Message Type\" variant=\"outlined\"/>}*/}\r\n                        {/*        />*/}\r\n                        {/*        <FormHelperText>{messageType.error}</FormHelperText>*/}\r\n                        {/*    </FormControl>*/}\r\n                        {/*</div>*/}\r\n\r\n                        {/*{sendasEmail ?*/}\r\n                        {/*    <div className={'col-md-12'}>*/}\r\n                        {/*        <FormControl className={clsx(classes.selectField)}*/}\r\n                        {/*                     error={noteChosen.error !== ' '}>*/}\r\n                        {/*            <InputLabel className={clsx(classes.label)} htmlFor=\"age-native-simple\">Note*/}\r\n                        {/*                Type</InputLabel>*/}\r\n                        {/*            <Select*/}\r\n                        {/*                disabled={apiLoading}*/}\r\n                        {/*                required*/}\r\n                        {/*                error={noteChosen.error !== ' '}*/}\r\n                        {/*                value={noteChosen.value}*/}\r\n\r\n                        {/*                onChange={e => setNoteChosen({*/}\r\n                        {/*                    ...noteChosen,*/}\r\n                        {/*                    value: e.target.value*/}\r\n                        {/*                })}*/}\r\n                        {/*                inputProps={{*/}\r\n                        {/*                    name: 'noteChosen',*/}\r\n                        {/*                    id: 'noteChosen',*/}\r\n                        {/*                }}>*/}\r\n                        {/*                <option value=\"\"/>*/}\r\n                        {/*                /!*{noteType?.map((anObjectMapped, index) => <option key={index} value={anObjectMapped}>{index}</option>)}*!/*/}\r\n\r\n                        {/*                /!*{noteType.map((value, index) => (*!/*/}\r\n                        {/*                /!*    <option key={index} value={index}>{value}</option>*!/*/}\r\n                        {/*                /!*))}*!/*/}\r\n                        {/*                {*/}\r\n                        {/*                    Object.entries(noteType).map(([key, val]) =>*/}\r\n                        {/*                        <option key={key} value={key}>{val}</option>*/}\r\n                        {/*                    )*/}\r\n                        {/*                }*/}\r\n\r\n\r\n                        {/*            </Select>*/}\r\n                        {/*            <FormHelperText>{noteChosen.error}</FormHelperText>*/}\r\n                        {/*        </FormControl>*/}\r\n                        {/*    </div> : ''}*/}\r\n\r\n                        {/*{sendasEmail === true ?*/}\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <TextField className={clsx(classes.textFieldtwofield, classes.dense)}*/}\r\n                        {/*               id=\"standard-basic\"*/}\r\n                        {/*               label=\"To\"/>*/}\r\n                        {/*</div> : ''*/}\r\n                        {/*}*/}\r\n\r\n                        <div className={'col-md-12 custom-subject'}>\r\n                            <TextField disabled={apiLoading} value={subject.value}\r\n                                       error={subject.error !== ' '}\r\n                                       helperText={subject.error}\r\n                                       onChange={(e) => setSubject({...subject, value: e.target.value})}\r\n                                       className={clsx(classes.textFieldtwofield, classes.dense)} id=\"standard-basic\"\r\n                                       label=\"Subject\"/>\r\n                        </div>\r\n                        <div className={'col-md-12'}>\r\n                            <FormControl className={clsx(classes.selectField)}\r\n                                         error={content.error !== ' '}>\r\n                                <CKEditor\r\n                                    disable={apiLoading}\r\n                                    editor={ClassicEditor}\r\n                                    data={content.value}\r\n                                    onReady={editor => {\r\n                                        // You can store the \"editor\" and use when it is needed.\r\n                                        // console.log('Editor is ready to use!', editor);\r\n                                    }}\r\n                                    onChange={(event, editor) => {\r\n                                        const data = editor.getData();\r\n                                        // console.log({event, editor, data});\r\n                                        setContent({...content, value: data})\r\n                                    }}\r\n                                    // onBlur={(event, editor) => {\r\n                                    //     console.log('Blur.', editor);\r\n                                    // }}\r\n                                    // onFocus={(event, editor) => {\r\n                                    //     console.log('Focus.', editor);\r\n                                    // }}\r\n                                />\r\n                                <FormHelperText>{content.error}</FormHelperText>\r\n                            </FormControl>\r\n\r\n                        </div>\r\n\r\n                        {/*<div className={'col-md-12'}>*/}\r\n                        {/*    <CustomFileInput*/}\r\n                        {/*        disable={apiLoading}*/}\r\n                        {/*        value={fileLink.value.File}*/}\r\n                        {/*        onChange={e => fileChange(e)}*/}\r\n                        {/*        required*/}\r\n                        {/*        id=\"attachment\"*/}\r\n                        {/*        label=\"File\"*/}\r\n                        {/*        className={clsx(classes.fileUploading, classes.dense)}*/}\r\n                        {/*        margin=\"dense\"*/}\r\n                        {/*    />*/}\r\n                        {/*    {fileLink.success !== ' ' ? (<span>{fileLink.success}</span>) : ' '}*/}\r\n                        {/*    {fileLink.error !== ' ' ? (*/}\r\n                        {/*        <span className={clsx(classes.fileError)}>{fileLink.error}</span>) : ' '}*/}\r\n                        {/*</div>*/}\r\n                        <div className={'col-md-12'}>\r\n                            <div className={clsx(classes.submitButton, 'custom-button-wrapper')}>\r\n                                {apiLoading ? (\r\n                                        <div className={clsx(classes.loader)}>\r\n                                            <FacebookProgress/>\r\n                                        </div>)\r\n                                    : null}\r\n                                <input disabled={apiLoading}\r\n                                       className={clsx('btn btn-primary', classes.restButton)}\r\n                                       type=\"submit\" value=\"Send Message\"/>\r\n                            </div>\r\n                        </div>\r\n                    </FormGroup>\r\n                </form>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SendMessageForm;\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {FetchThreads} from '../api/message';\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        // maxWidth: '36ch',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n\r\n    viewButton: {\r\n        width: '100%',\r\n        textAlign: 'center'\r\n    },\r\n\r\n    SkeletonLoading: {\r\n        width: '100%'\r\n    },\r\n\r\n    skeletonWidth: {\r\n        width: '100%'\r\n    },\r\n\r\n    skeletonStyle: {\r\n        paddingLeft: theme.spacing(3),\r\n        paddingRight: theme.spacing(3),\r\n    },\r\n\r\n\r\n}));\r\n\r\nexport default function AllMessages(props) {\r\n    const classes = useStyles();\r\n    const {loading, addError, errorList, role, setUserMessagesForInbox, outerThreads, manageOuterThreads} = useContext(UserContext);\r\n    const [threads, setThreads] = useState([]);\r\n    const [apiLoading, setApiLoading] = useState(false);\r\n    const entity_id = localStorage.getItem('activeEntityID');\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            getAllMessageThreads()\r\n        }\r\n    }, [loading]);\r\n\r\n    useEffect(() => {\r\n        if (outerThreads === true) {\r\n            getAllMessageThreads()\r\n            manageOuterThreads(false);\r\n        }\r\n\r\n    }, [outerThreads]);\r\n\r\n    const getAllMessageThreads = async () => {\r\n        setApiLoading(true);\r\n        try {\r\n            FetchThreads(entity_id).then(response => {\r\n                if (response.status === true) {\r\n                    setUserMessagesForInbox(response.data);\r\n                    setThreads(response.data);\r\n                    setApiLoading(false);\r\n                }\r\n            });\r\n        } catch (e) {\r\n\r\n            addError('Something went wrong with the message API')\r\n        }\r\n    }\r\n\r\n\r\n    const stripHTML = (myString) => {\r\n        return myString.replace(/<[^>]*>?/gm, '').replace(/\\&nbsp;/g, '');\r\n    }\r\n\r\n    const truncate = (str, no_words) => {\r\n        return str.split(\" \").splice(0, no_words).join(\" \") + \" ...\";\r\n    }\r\n\r\n    const handleClickChange = (id) => {\r\n        localStorage.setItem('allMessagesThread', id);\r\n        props.openmodal();\r\n        // localStorage.setItem('allMessagesFirstThread', id);\r\n    }\r\n\r\n\r\n    const ViewAllHandleClickChange = () => {\r\n        if (threads[0].id) {\r\n            localStorage.setItem('allMessagesThread', threads[0].id);\r\n        }\r\n        props.openmodal();\r\n        // localStorage.setItem('allMessagesFirstThread', id);\r\n    }\r\n\r\n    const lastMessage = (threadInfo) => {\r\n\r\n        if ((threadInfo.child).length !== 0) {\r\n\r\n            if ((threadInfo.child).length > 0) {\r\n                const data = threadInfo.child;\r\n                const lastChild = data.slice(-1)[0]\r\n                return truncate(stripHTML(lastChild.message), 10);\r\n\r\n            } else {\r\n                return truncate(stripHTML(threadInfo.child[0].message), 10)\r\n            }\r\n            // console.log(threadInfo.child.last())\r\n            // return threadInfo.child.last();\r\n        } else {\r\n            return truncate(stripHTML(threadInfo.message), 10);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!apiLoading ?\r\n                <>\r\n                    <List className={classes.root}>\r\n                        {threads?.slice(0, 5).map((anObjectMapped, index) =>\r\n                            <div key={index}>\r\n                                <ListItem onClick={(e) => handleClickChange(anObjectMapped.id)} alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\"/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={anObjectMapped.subject}\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Typography\r\n                                                    component=\"span\"\r\n                                                    variant=\"body2\"\r\n                                                    className={classes.inline}\r\n                                                    color=\"textPrimary\"\r\n                                                >\r\n                                                    {props.entityName}\r\n                                                </Typography>\r\n                                                {` — ${lastMessage(anObjectMapped)}`}\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider variant=\"inset\" component=\"li\"/>\r\n                            </div>\r\n                        )\r\n                        }\r\n                    </List>\r\n                    {(threads.length === 0) ?\r\n                        <>\r\n                            <ListItem alignItems=\"flex-start\">\r\n                                <ListItemText\r\n                                    primary={'No message found'}\r\n                                    secondary={\r\n                                        <React.Fragment>\r\n                                            <Typography\r\n                                                component=\"span\"\r\n                                                variant=\"body2\"\r\n                                                className={classes.inline}\r\n                                                color=\"textPrimary\"\r\n                                            >\r\n                                                Currently there are no active threads\r\n                                            </Typography>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                />\r\n                            </ListItem>\r\n                        </>\r\n                        : ''}\r\n\r\n\r\n                    {(threads.length !== 0) ?\r\n                        <div className={classes.viewButton}>\r\n                            <Button onClick={ViewAllHandleClickChange} variant=\"outlined\" color=\"primary\">View\r\n                                All</Button>\r\n                        </div>\r\n                        : ' '}\r\n                </>\r\n                :\r\n                <>\r\n                    <List>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                            />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\"/>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                            />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\"/>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                            />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\"/>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary={\r\n                                    <React.Fragment>\r\n                                        <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                    </React.Fragment>\r\n                                }\r\n                            />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\"/>\r\n                    </List>\r\n\r\n                </>\r\n\r\n            }\r\n        </>)\r\n}\r\n","import React, {useContext, ReactDOM} from 'react';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport {object} from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport {sendMessageFormChat} from '../api/message';\r\nimport clsx from \"clsx\";\r\n// import {animateScroll} from \"react-scroll\";\r\nimport {\r\n    Link,\r\n    DirectLink,\r\n    Element,\r\n    Events,\r\n    animateScroll,\r\n    scrollSpy,\r\n    scroller\r\n} from \"react-scroll\";\r\nimport {toast} from \"react-toastify\";\r\nconst ReactDOMServer = require('react-dom/server');\r\nconst HtmlToReactParser = require('html-to-react').Parser;\r\n\r\n\r\nconst NewChatPanel = (props) => {\r\n    const ref = React.createRef();\r\n    const chatContainer = React.createRef();\r\n    const entity_id = localStorage.getItem('activeEntityID');\r\n    const IncomingIDFromAllMessages = localStorage.getItem('allMessagesThread');\r\n    const {attributes, loading, role, profile, userMessages, addMessage, manageOuterThreads} = useContext(UserContext);\r\n    const [inComingThreadID, setInComingThreadID] = React.useState(IncomingIDFromAllMessages);\r\n    const [activeThread, setActiveThread] = React.useState('');\r\n    const [chosenThread, setChosenThread] = React.useState({});\r\n\r\n    const [updateThread, setUpdateThread] = React.useState(false)\r\n\r\n    const [message, setMessage] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        const obj = userMessages.find(o => o.id === inComingThreadID);\r\n        setActiveThread(obj.id);\r\n        setChosenThread(obj);\r\n\r\n        setTimeout(()=> {\r\n            scrollToBottom();\r\n        }, 1000);\r\n\r\n    }, [inComingThreadID]);\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (updateThread) {\r\n            manageOuterThreads(true);\r\n            setUpdateThread(false);\r\n            const obj = userMessages.find(o => o.id === chosenThread.id);\r\n            setChosenThread(obj);\r\n            setTimeout(()=> {\r\n                scrollToBottom();\r\n            }, 2000);\r\n        }\r\n\r\n    }, [userMessages]);\r\n\r\n\r\n\r\n\r\n    const scrollToBottom = () => {\r\n        animateScroll.scrollToBottom({\r\n\r\n            containerId: \"containerElement\",\r\n            duration: 0,\r\n            delay: 0,\r\n            smooth: \"easeInOutQuart\",\r\n        });\r\n    }\r\n\r\n    // React.useEffect(() => {\r\n    //     const obj = userMessages.find(o => o.id === activeThread);\r\n    //     setChosenThread(obj);\r\n    // }, [threads])\r\n\r\n    const onClickThread = async (threadID) => {\r\n        const obj = userMessages.find(o => o.id === threadID);\r\n        await setChosenThread(obj);\r\n        setMessage('');\r\n        scrollToBottom();\r\n    }\r\n\r\n\r\n    var getInitials = function (string) {\r\n        var names = string.split(' '),\r\n            initials = names[0].substring(0, 1).toUpperCase();\r\n\r\n        if (names.length > 1) {\r\n            initials += names[names.length - 1].substring(0, 1).toUpperCase();\r\n        }\r\n        return initials;\r\n    };\r\n\r\n\r\n    const handleKeypress = (event) => {\r\n        if (event.key === 'Enter') {\r\n            sendMessage();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    const sendMessage = (event) => {\r\n        // event.preventDefault();\r\n\r\n        let form = new FormData();\r\n        form.append('eid', '4071993000001842131')\r\n        form.append('subject', 'RE: ' + chosenThread.subject);\r\n        form.append('gid', chosenThread.id);\r\n        form.append('message', message);\r\n        const response = sendMessageFormChat(form).then(response => {\r\n            if(response.status === true) {\r\n                setMessage('')\r\n                setUpdateThread(true);\r\n                addMessage(chosenThread, message, role, attributes.organization)\r\n            }\r\n\r\n\r\n            if(response.status === false){\r\n                toast.error(response.message, {\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    const stripHTML = (myString) => {\r\n        return myString.replace(/<[^>]*>?/gm, '').replace(/\\&nbsp;/g, '');\r\n    }\r\n\r\n    const truncate = (str, no_words) => {\r\n        return str.split(\" \").splice(0, no_words).join(\" \") + \" ...\";\r\n    }\r\n\r\n\r\n    const convertHTML = (data) => {\r\n        const htmlInput = data;\r\n        const htmlToReactParser = new HtmlToReactParser();\r\n        return htmlToReactParser.parse(htmlInput);\r\n\r\n    }\r\n\r\n\r\n    const messageOrientation = (threadInfo) => {\r\n        if (role === 'Administrator') {\r\n            if (threadInfo.fromEid === '0') {\r\n                return 'replies'\r\n            } else {\r\n                return 'sent'\r\n            }\r\n        }\r\n\r\n        if (role === 'Child Entity' || role === 'Parent Organization') {\r\n            // if (threadInfo.fromEid === profile.organization) {\r\n            //     return 'sent'\r\n            // } else {\r\n            //     return 'replies'\r\n            // }\r\n\r\n\r\n            if(threadInfo.fromEid === '0'){\r\n                return 'sent'\r\n            }\r\n            if (threadInfo.fromEid === attributes.organization) {\r\n                return 'replies'\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const namePicker = (threadInfo) => {\r\n        if (threadInfo.fromEid === '0') {\r\n            return getInitials('Admin')\r\n        }\r\n\r\n        if (threadInfo.fromEid === attributes.organization) {\r\n            return getInitials(localStorage.getItem('entityName'))\r\n        } else {\r\n            return getInitials(localStorage.getItem('entityName'))\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const lastMessage = (threadInfo) => {\r\n\r\n        if ((threadInfo.child).length !== 0) {\r\n\r\n            if ((threadInfo.child).length > 0) {\r\n                const data = threadInfo.child;\r\n                const lastChild = data.slice(-1)[0]\r\n                return stripHTML(lastChild.message);\r\n            } else {\r\n                return stripHTML(threadInfo.child[0].message)\r\n            }\r\n            // console.log(threadInfo.child.last())\r\n            // return threadInfo.child.last();\r\n        } else {\r\n            return stripHTML(threadInfo.message);\r\n        }\r\n    }\r\n\r\n\r\n    const isHTML = (str) => !(str || '')\r\n        // replace html tag with content\r\n        .replace(/<([^>]+?)([^>]*?)>(.*?)<\\/\\1>/ig, '')\r\n        // remove remaining self closing tags\r\n        .replace(/(<([^>]+)>)/ig, '')\r\n        // remove extra space at start and end\r\n        .trim();\r\n\r\n    return (\r\n        <div id=\"frame\">\r\n            <div id=\"sidepanel\">\r\n                <div id=\"profile\">\r\n                    <div className=\"wrap\">\r\n                        {/*<img id=\"profile-img\" src=\"http://emilcarlsson.se/assets/mikeross.png\" className=\"online\"*/}\r\n                        {/*     alt=\"\"/>*/}\r\n                        <Avatar>{profile.name ? getInitials(profile.name) : ''}</Avatar>\r\n                        {profile ? <p>{profile.name}</p> : ''}\r\n                    </div>\r\n                </div>\r\n                <div id=\"search\">\r\n                    <label htmlFor=\"\"><i className=\"fa fa-search\" aria-hidden=\"true\"></i></label>\r\n                    <input disabled type=\"text\" placeholder=\"Search contacts...\"/>\r\n                </div>\r\n                <div id=\"contacts\">\r\n                    <ul>\r\n                        {userMessages.map((anObjectMapped, index) =>\r\n                            <li className={clsx('contact', chosenThread ? chosenThread.id === anObjectMapped.id ? 'active-thread' : '' : '')}\r\n                                onClick={() => onClickThread(anObjectMapped.id)} key={anObjectMapped.id}>\r\n                                <div className=\"wrap\">\r\n                                    {/*<Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" />*/}\r\n                                    {/*<img src=\"http://emilcarlsson.se/assets/louislitt.png\" alt=\"\"/>*/}\r\n                                    <Avatar>{localStorage.getItem('entityName') ? getInitials(localStorage.getItem('entityName')) : ''}</Avatar>\r\n                                    <div className=\"meta\">\r\n                                        <p className=\"name\">{anObjectMapped.subject}</p>\r\n                                        <p className=\"preview\">{lastMessage(anObjectMapped)}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        )}\r\n\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div className=\"content\">\r\n\r\n                <div className=\"messages\" id=\"containerElement\">\r\n                    <ul>\r\n\r\n                        {chosenThread ?\r\n                            <li className={messageOrientation(chosenThread)}>\r\n                                {/*<Avatar alt={anObjectMapped.user} />*/}\r\n                                <Avatar>{namePicker(chosenThread)}</Avatar>\r\n                                <div className=\"message-body-chat\">\r\n                                    <span><strong>    Subject: </strong> {chosenThread.subject}</span>\r\n                                    {isHTML(chosenThread.message) === true ?\r\n                                        convertHTML(chosenThread.message) :\r\n                                        <p>{chosenThread.message}</p>}\r\n\r\n                                    <div className=\"message-info\">\r\n                                        <div className=\"message-time\">\r\n                                            <span>{chosenThread.sendTime}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"message-status\">\r\n                                            {role === 'Administrator' ?\r\n                                                <span>{chosenThread.status}</span> : ''}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </li> : ''}\r\n\r\n                        {\r\n                            chosenThread.child?.map((anObjectMapped, index) =>\r\n                                <li key={index} className={messageOrientation(anObjectMapped)}>\r\n                                    <Avatar>{namePicker(anObjectMapped)}</Avatar>\r\n                                    <div className=\"message-body-chat\">\r\n                                        <span><strong>Subject: </strong> {anObjectMapped.subject}</span>\r\n                                        {isHTML(anObjectMapped.message) === true ?\r\n                                            convertHTML(anObjectMapped.message) :\r\n                                            <p>{anObjectMapped.message}</p>}\r\n                                        <div className=\"message-info\">\r\n                                            <div className=\"message-time\">\r\n                                                <span>{anObjectMapped.sendTime}</span>\r\n                                            </div>\r\n\r\n                                            <div className=\"message-status\">\r\n                                                {role === 'Administrator' ?\r\n                                                    <span>{chosenThread.status}</span> : ''}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            )}\r\n\r\n                    </ul>\r\n                </div>\r\n                <div className=\"message-input\">\r\n                    <div className=\"wrap\">\r\n                        <input onKeyPress={handleKeypress} value={message} onChange={(event) => setMessage(event.target.value)} type=\"text\"\r\n                               placeholder=\"Type a message\"/>\r\n                        <i className=\"fa fa-paperclip attachment\" aria-hidden=\"true\"></i>\r\n                        <button  onClick={(e) => sendMessage(e)} className=\"submit\"><i className=\"fa fa-paper-plane\"\r\n                                                                                    aria-hidden=\"true\"></i></button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewChatPanel;\r\n","import React, {useEffect, useContext} from \"react\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport {useOktaAuth} from \"@okta/okta-react\";\r\nimport ComplianceTaskList from '../entity/ComplianceTaskList';\r\nimport ContactList from '../entity/ContactList';\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {entityDetail, selfEntityDetail} from '../api/enitity.crud';\r\nimport {UserContext} from '../context/UserContext';\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport clsx from 'clsx';\r\nimport Layout from \"../layout/Layout\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport StreetviewIcon from '@material-ui/icons/Streetview';\r\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport FastForwardIcon from '@material-ui/icons/FastForward';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport AttachmentTable from \"../attachment/AttachmentTable\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport AdminSendMessageForm from \"../message/AdminSendMessageForm\";\r\nimport SendMessageForm from \"../message/SendMessageForm\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AllMessages from \"../message/AllMessages\";\r\nimport Modal from \"react-modal\";\r\nimport NewChatPanel from \"../message/NewChatPanel\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\n\r\nconst drawerWidth = 700;\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        height: 250\r\n    },\r\n    paper: {\r\n        padding: 20,\r\n        height: 200,\r\n    },\r\n\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n\r\n    errorMessage: {\r\n        marginBottom: '5px'\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    breadcrumbsDiv: {\r\n        marginBottom: 30\r\n    },\r\n\r\n    breadcrumbsInner: {\r\n        padding: 10\r\n    },\r\n\r\n    baseColor: {\r\n        color: '#48465b'\r\n    },\r\n    // list: {\r\n    //     width: 700,\r\n    // },\r\n\r\n    listInner:{\r\n        // width: '100%'\r\n    },\r\n\r\n    messageSection: {\r\n        marginBottom: 20,\r\n        marginTop: 30\r\n    },\r\n    messageTitle: {\r\n        marginLeft: 20,\r\n        float: 'left'\r\n    },\r\n\r\n    rootDrawer: {\r\n        display: 'flex',\r\n    },\r\n    drawer: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: drawerWidth,\r\n            flexShrink: 0,\r\n        },\r\n    },\r\n\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n\r\n    content: {\r\n        flexGrow: 1,\r\n        paddingLeft: theme.spacing(7),\r\n        paddingRight: theme.spacing(7),\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6}\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\nconst ChildDetailedPage = (props) => {\r\n\r\n\r\n\r\n\r\n    const {attributes, loading, addError, errorList, role, addTitle, removeError} = useContext(UserContext);\r\n    const checkRole = role ? role : localStorage.getItem('role');\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [entitydetail, setEntitydetail] = React.useState()\r\n    const [contactList, setContactList] = React.useState([])\r\n    const [attachmentList, setAttachmentList] = React.useState([])\r\n    const [taskList, setTaskList] = React.useState([])\r\n    const [compliance, setComplainace] = React.useState(0);\r\n    // const entity_id = attributes.organization;\r\n    const [componentLoading, setComponentLoading] = React.useState(true);\r\n    const [state, setState] = React.useState(false);\r\n    const [modalIsOpen,setIsOpen] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            localStorage.setItem('activeEntityID', attributes.organization);\r\n            fetchDetailedProfile();\r\n        }\r\n    }, [loading])\r\n\r\n\r\n    const fetchDetailedProfile = async () => {\r\n\r\n        var detailedView = '';\r\n\r\n        if(checkRole === 'Child Entity'){\r\n             detailedView = await entityDetail(attributes.organization);\r\n        }\r\n        if (detailedView.result) {\r\n            addTitle('Dashboard ' +' - '+ detailedView.result.entity.name);\r\n            localStorage.setItem('entityName', detailedView.result.entity.name);\r\n            new Promise((resolve, reject) => {\r\n                setEntitydetail(detailedView.result)\r\n                setContactList(detailedView.result.contacts);\r\n                setAttachmentList(detailedView.result.attachments)\r\n                setTaskList(detailedView.result.tasks);\r\n                setComponentLoading(false);\r\n                resolve();\r\n            });\r\n        }\r\n        if (detailedView.errors) {\r\n            addError('Status '+ detailedView.errors.status +' '+ detailedView.errors.detail);\r\n        }\r\n\r\n        if (detailedView.type === 'error') {\r\n            window.location.reload();\r\n        }\r\n\r\n        if (detailedView.status === 401) {\r\n            window.location.reload();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const updateComplianceTable = async() => {\r\n        var detailedView = '';\r\n        if (role === 'Parent Organization' || role === 'Administrator') {\r\n            try {\r\n                detailedView = await entityDetail(attributes.organization);\r\n            } catch (e) {\r\n                addError('Something went wrong with the API.');\r\n            }\r\n        }\r\n\r\n        if (detailedView.result) {\r\n            new Promise((resolve, reject) => {\r\n                setTaskList(detailedView.result.tasks)\r\n                resolve();\r\n            });\r\n        }\r\n        if (detailedView.errors) {\r\n            addError(detailedView.errors.detail);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(compliance !== 0) {\r\n            updateComplianceTable()\r\n        }\r\n    },[compliance]);\r\n\r\n\r\n    const UpdateComplainceState = () => {\r\n        setComplainace(compliance + 1);\r\n    }\r\n\r\n\r\n    const contactData = {\r\n        columns: [\r\n            {title: 'Name', field: 'name'},\r\n            {title: 'Phone', field: 'phone'},\r\n            {title: 'Contact Type', field: 'contactType'},\r\n            {title: 'email', field: 'email'},\r\n            {title: 'Street', field: 'mailingStreet'},\r\n            {title: 'City', field: 'mailingCity'},\r\n            {title: 'State', field: 'mailingState'},\r\n            {title: 'Zip', field: 'mailingZip'},\r\n\r\n        ],\r\n        data: contactList,\r\n    };\r\n\r\n\r\n    const taskData = {\r\n        columns: [\r\n            {title: 'Name', field: 'subject'},\r\n            {title: 'Due Date', field: 'dueDate'},\r\n            {title: 'Status', field: 'status'},\r\n        ],\r\n        data: taskList,\r\n    };\r\n\r\n    const attachmentData = {\r\n        columns: [\r\n            {\r\n                title: 'File Name',\r\n                editable: 'never',\r\n                field: 'name',\r\n\r\n            },\r\n            {title: 'Date', field: 'created'},\r\n            {title: 'Size', field: 'fileSize'},\r\n        ],\r\n        data: attachmentList,\r\n    };\r\n\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function afterOpenModal() {\r\n        // references are now sync'd and can be accessed.\r\n        // subtitle.style.color = '#f00';\r\n    }\r\n\r\n    function closeModal(){\r\n        setIsOpen(false);\r\n    }\r\n    const toggleDrawer = (event, open) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        if (open) {\r\n            setState(true);\r\n        }\r\n\r\n        if (!open) {\r\n            setState(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n\r\n        <>\r\n                <Grid container spacing={2}>\r\n\r\n                    {errorList?.map((value, index) => (\r\n                        <MySnackbarContentWrapper key={index} className={classes.errorMessage} spacing={1} index={index} variant=\"error\"\r\n                                                  message={value} onClose={()=> removeError(index)}/>\r\n                    ))}\r\n\r\n\r\n                    <Drawer\r\n                        ModalProps={{\r\n                            keepMounted: true, // Better open performance on mobile.\r\n                        }}\r\n                        classes={{\r\n                            paper: classes.drawerPaper,\r\n                        }} anchor={'right'} open={state} onClose={(event) => toggleDrawer(event, false)}>\r\n                        <div>\r\n                            <main className={classes.content}>\r\n                                {\r\n                                    role === 'Administrator' ?\r\n                                        <AdminSendMessageForm {...props} /> : ''\r\n                                    // <SendMessageForm/> : ''\r\n                                }\r\n\r\n                                {\r\n                                    role === 'Parent Organization' || role === 'Child Entity' ?\r\n                                        <SendMessageForm {...props} /> : ''\r\n                                }\r\n                            </main>\r\n                        </div>\r\n                    </Drawer>\r\n\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <PermIdentityIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        Company Info\r\n                                    </Typography>\r\n                                }\r\n                                // subheader=\"September 14, 2016\"\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                    {entitydetail ?\r\n                                        <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            <li className={classes.listItem}><strong>State ID:</strong> {entitydetail.entity.stateId ? entitydetail.entity.stateId : ''}</li>\r\n                                            <li className={classes.listItem}><strong>Formation\r\n                                                Date:</strong> {entitydetail.entity.formationDate ? entitydetail.entity.formationDate : ''}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><strong>Registered Agent Expiration\r\n                                                Date: </strong> {entitydetail.entity.expirationDate}</li>\r\n                                            {/*<li className={classes.listItem}><strong>Tax ID:</strong> 09890890</li>*/}\r\n                                        </ul> </>:\r\n\r\n                                       <>\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                        </>\r\n                                    }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <RoomIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        RA Address\r\n                                    </Typography>\r\n                                }\r\n                                subheader={\r\n                                    entitydetail ? entitydetail.registerAgent.name : ''\r\n                                }\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                    {entitydetail ?\r\n                                        <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            <li className={classes.listItem}><PersonIcon\r\n                                                className={classes.adjustment}/>\r\n                                                <strong>{entitydetail.registerAgent.fileAs}</strong></li>\r\n                                            <li className={classes.listItem}><StreetviewIcon\r\n                                                className={classes.adjustment}/> {entitydetail.registerAgent.address}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><RoomIcon\r\n                                                className={classes.adjustment}/>{entitydetail.registerAgent.address2}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><LocationCityIcon\r\n                                                className={classes.adjustment}/> {entitydetail.registerAgent.city}, {entitydetail.registerAgent.state} {entitydetail.registerAgent.zipcode}\r\n                                            </li>\r\n                                        </ul>\r\n                                        </> :\r\n                                        <>\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                       </>\r\n                                    }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <FastForwardIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        Forwarding Address\r\n                                    </Typography>\r\n                                }\r\n                                // subheader=\"September 14, 2016\"\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                    {entitydetail ?\r\n                                        <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            {entitydetail.entity.shippingStreet ?\r\n                                                <li className={classes.listItem}><RoomIcon\r\n                                                    className={classes.adjustment}/>\r\n                                                    <strong>{entitydetail.entity.shippingStreet}, {entitydetail.entity.shippingCity}, {entitydetail.entity.shippingState} {entitydetail.entity.shippingCode} </strong>\r\n                                                </li> : ''}\r\n                                            <li className={classes.listItem}><MailIcon\r\n                                                className={classes.adjustment}/> {entitydetail.entity.email}\r\n                                            </li>\r\n                                        </ul>\r\n                                        </>\r\n                                        :\r\n                                        <>\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                        </>\r\n\r\n                                    }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n\r\n            <Paper className={classes.messageSection} elevation={2}>\r\n                <Grid container spacing={5}>\r\n\r\n                    <Grid item xs={12}>\r\n                        <div className=\"messageSection\">\r\n                            <Typography className={classes.messageTitle} variant=\"h5\" component=\"h2\"\r\n                                        color=\"textPrimary\">Messages</Typography>\r\n                            <Button variant=\"outlined\" color=\"primary\" className={'sendMessageButton'}\r\n                                    onClick={(event) => toggleDrawer(event, true)}>Send Message</Button>\r\n                        </div>\r\n                        { entitydetail ?\r\n                            <AllMessages entityName={entitydetail.entity.name} openmodal={openModal}/> :\r\n                            <List>\r\n                                <ListItem alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider variant=\"inset\" component=\"li\"/>\r\n                                <ListItem alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider variant=\"inset\" component=\"li\"/>\r\n                                <ListItem alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider variant=\"inset\" component=\"li\"/>\r\n                                <ListItem alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider variant=\"inset\" component=\"li\"/>\r\n                            </List>\r\n                        }\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </Paper>\r\n                <Grid container spacing={5}>\r\n\r\n                    <Grid item xs={12}>\r\n                        <ComplianceTaskList update={UpdateComplainceState} loading={componentLoading} tooltip={'Add New Contact'} data={taskData}\r\n                                            title={'Compliance Tasks'} eid={attributes ? attributes.organization : ''}/>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <AttachmentTable action={true} loading={componentLoading} tooltip={'Add New Document'}\r\n                                     redirect={true} url={`/attachment/form/add/${attributes ? attributes.organization : ''}`} data={attachmentData}\r\n                                     title={'Documents'}/>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <ContactList action={true} loading={componentLoading} tooltip={'Add New Contact'}\r\n                                     redirect={true}\r\n                                     url={`/contact/form/add/${attributes ? attributes.organization : ''}`} data={contactData}\r\n                                     title={'Contacts'}/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n\r\n            <div>\r\n                <Modal\r\n                    parentSelector={() => document.querySelector('#messageModal')}\r\n                    isOpen={modalIsOpen}\r\n                    onAfterOpen={afterOpenModal}\r\n                    onRequestClose={closeModal}\r\n                    contentLabel=\"Chat Application\"\r\n                    style={{\r\n                        overlay: {\r\n                            backgroundColor: 'rgba(0, 0, 0, 0.8)'\r\n                        },\r\n\r\n                    }}\r\n                >\r\n                    <div className=\"chat-wrapper\">\r\n                        <NewChatPanel/>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default withOktaAuth(ChildDetailedPage);\r\n\r\n","import React, {useEffect, useContext, forwardRef} from 'react';\r\n// import MaterialTable, {MTableToolbar} from \"material-table\";\r\nimport MaterialTable from \"@material-table/core\";\r\nimport Layout from \"../layout/Layout\";\r\nimport {entityList, StateRegionList} from \"../api/enitity.crud\";\r\nimport {UserContext} from '../context/UserContext';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport Link from '@material-ui/core/Link';\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\nimport clsx from \"clsx\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport PropTypes from \"prop-types\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport ChildDetailedPage from '../entity/ChildDetailedPage';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\n\r\n\r\nconst columns = [\r\n\r\n    {title: 'Name', field: 'name'},\r\n    {title: 'Entity Structure', field: 'entityStructure'},\r\n    {title: 'Filing State', field: 'filingState'},\r\n    {title: 'Formation Date', field: 'formationDate'},\r\n];\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    },\r\n\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n\r\n    errorMessage: {\r\n        marginBottom: '5px'\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\nconst constPathColors = {\r\n    1: '#e8e8e8',\r\n    2: '#dcdcdc',\r\n    3: '#cfcfcf',\r\n    4: '#c2c2c2',\r\n    5: '#b6b6b6'\r\n};\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n            elevation={6}\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\n\r\nconst Dashboard = (props, {onChange, ...rest}) => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const {loading, attributes, addError, errorList, role, addTitle, removeError} = useContext(UserContext);\r\n    const checkRole = role ? role : localStorage.getItem('role');\r\n    const [entitydata, setEntityData] = React.useState([]);\r\n    const [componentLoading, setComponentLoading] = React.useState(true);\r\n    const [state, setState] = React.useState(false);\r\n    useEffect(() => {\r\n\r\n        if (loading === true) {\r\n            addTitle('Dashboard');\r\n            if (role === 'Parent Organization' || role === 'Administrator') {\r\n                asyncDataFetch();\r\n            }\r\n        }\r\n\r\n    }, [loading])\r\n\r\n    const asyncDataFetch = async () => {\r\n        try {\r\n\r\n            const tokenResult = await props.authState.accessToken;\r\n            await fetchData(tokenResult);\r\n        } catch (e) {\r\n            addError('Something when wrong!!');\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    const fetchData = async (token) => {\r\n        try {\r\n            await entityList(token).then(response => {\r\n                if (response.data) {\r\n                    setEntityData(response.data.results);\r\n                    setComponentLoading(false);\r\n                }\r\n\r\n                if (response.error) {\r\n                    addError(response.error.message);\r\n                }\r\n\r\n                if (response.type === 'error') {\r\n                    window.location.reload();\r\n                }\r\n\r\n                if (response.status === 401) {\r\n                    window.location.reload();\r\n                }\r\n\r\n\r\n            });\r\n        } catch (e) {\r\n            addError(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Layout>\r\n                {errorList?.map((value, index) => (\r\n                    <MySnackbarContentWrapper className={classes.errorMessage} spacing={1} index={index} variant=\"error\"\r\n                                              message={value} onClose={() => {\r\n                        removeError(index)\r\n                    }}/>\r\n                ))}\r\n\r\n\r\n\r\n                {checkRole === 'Parent Organization' ?\r\n                    <MaterialTable\r\n                        isLoading={componentLoading}\r\n                        title=\"Entities\"\r\n                        data={entitydata ? entitydata : ''}\r\n                        columns={columns}\r\n                        parentChildData={(row, rows) => rows.find(a => a.id === row.parentId)}\r\n                        options={{\r\n                            // selection: true,\r\n                            // paging: false,\r\n                            sorting: true,\r\n                            search: true,\r\n\r\n\r\n                        }}\r\n                        actions={[\r\n                            rowData => ({\r\n                                icon: () => <VisibilityIcon />,\r\n                                tooltip: 'View',\r\n                                onClick: (event, rowData) => {\r\n                                    if (rowData.id !== attributes.organization) {\r\n                                        history.push(`/entity/${rowData.id}`);\r\n                                    } else {\r\n                                        history.push(`/entity`);\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]}\r\n                        // onSelectionChange={rows =>\r\n                        //     onChange(\r\n                        //         rows.filter(onlyUnique).map(({id, value}) => ({id, value}))\r\n                        //     )\r\n                        // }\r\n                    /> : ''}\r\n\r\n                {\r\n                    checkRole === 'Child Entity' ?\r\n                        <ChildDetailedPage/> : ''\r\n                }\r\n\r\n                {checkRole === 'Administrator' ?\r\n                    <MaterialTable\r\n                        isLoading={componentLoading}\r\n                        title=\"Entities\"\r\n                        data={entitydata ? entitydata : ''}\r\n                        columns={columns}\r\n                        parentChildData={(row, rows) => rows.find(a => a.id === row.parentId)}\r\n                        options={{\r\n                            // selection: true,\r\n                            // paging: false,\r\n                            sorting: true,\r\n                            search: true,\r\n\r\n\r\n                        }}\r\n                        actions={[\r\n                            rowData => ({\r\n                                icon: () => <VisibilityIcon />,\r\n                                tooltip: 'View',\r\n                                onClick: (event, rowData) => {\r\n                                    if (rowData.id !== attributes.organization) {\r\n                                        history.push(`/entity/${rowData.id}`);\r\n                                    } else {\r\n                                        history.push(`/entity`);\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]}\r\n                        // onSelectionChange={rows =>\r\n                        //     onChange(\r\n                        //         rows.filter(onlyUnique).map(({id, value}) => ({id, value}))\r\n                        //     )\r\n                        // }\r\n                    /> : ''}\r\n\r\n            </Layout>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withOktaAuth(Dashboard);\r\n","import React, {useEffect, useMemo, useContext} from \"react\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport ComplianceTaskList from '../entity/ComplianceTaskList';\r\nimport ContactList from '../entity/ContactList';\r\n\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\n\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {entityDetail, selfEntityDetail} from '../api/enitity.crud';\r\nimport {UserContext} from '../context/UserContext';\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport clsx from 'clsx';\r\nimport Layout from \"../layout/Layout\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport StreetviewIcon from '@material-ui/icons/Streetview';\r\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\r\n// import BusinessIcon from '@material-ui/icons/Business';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport FastForwardIcon from '@material-ui/icons/FastForward';\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport AttachmentTable from \"../attachment/AttachmentTable\";\r\nimport AllMessages from \"../message/AllMessages\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport SendMessageForm from '../message/SendMessageForm';\r\nimport AdminSendMessageForm from \"../message/AdminSendMessageForm\";\r\nimport ReactDOM from 'react-dom';\r\nimport Modal from 'react-modal';\r\nimport MainChatApp from \"../message/MainChatApp\";\r\nimport NewChatPanel from \"../message/NewChatPanel\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: '-50%',\r\n        transform: 'translate(-50%, -50%)'\r\n    }\r\n};\r\nconst drawerWidth = 700;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        height: 250\r\n    },\r\n    paper: {\r\n        padding: 20,\r\n        height: 200,\r\n    },\r\n\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n\r\n    errorMessage: {\r\n        marginBottom: '5px'\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    breadcrumbsDiv: {\r\n        marginBottom: 30\r\n    },\r\n\r\n    breadcrumbsInner: {\r\n        padding: 10\r\n    },\r\n\r\n    baseColor: {\r\n        color: '#48465b'\r\n    },\r\n    // list: {\r\n    //     width: 700,\r\n    // },\r\n\r\n    listInner: {\r\n        // width: '100%'\r\n    },\r\n\r\n    messageSection: {\r\n        marginBottom: 20,\r\n        marginTop: 30\r\n    },\r\n    messageTitle: {\r\n        marginLeft: 20,\r\n        float: 'left'\r\n    },\r\n\r\n    rootDrawer: {\r\n        display: 'flex',\r\n    },\r\n    drawer: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: drawerWidth,\r\n            flexShrink: 0,\r\n        },\r\n    },\r\n\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n\r\n    content: {\r\n        flexGrow: 1,\r\n        paddingLeft: theme.spacing(7),\r\n        paddingRight: theme.spacing(7),\r\n    },\r\n\r\n    skeletonStyle:{\r\n        paddingLeft: theme.spacing(3),\r\n        paddingRight: theme.spacing(3),\r\n    },\r\n\r\n    skeletonItem: {\r\n        // marginBottom: 1,\r\n    }\r\n\r\n\r\n}));\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6} variant=\"filled\"\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\nconst EntityDetailedPage = (props) => {\r\n\r\n    const entity_id = props.match.params.id;\r\n    localStorage.setItem('activeEntityID', props.match.params.id);\r\n\r\n    const {loading, attributes, addError, errorList, role, addTitle, profile} = useContext(UserContext);\r\n    const checkRole = role ? role : localStorage.getItem('role');\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    var subtitle;\r\n    const [modalIsOpen, setIsOpen] = React.useState(false);\r\n\r\n    const [entitydetail, setEntitydetail] = React.useState()\r\n    const [contactList, setContactList] = React.useState([])\r\n    const [attachmentList, setAttachmentList] = React.useState([])\r\n    const [taskList, setTaskList] = React.useState([])\r\n    const [compliance, setComplainace] = React.useState(0);\r\n    const [componentLoading, setComponentLoading] = React.useState(true);\r\n    const [entityName, setEntityName] = React.useState('');\r\n    const [state, setState] = React.useState(false);\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            addTitle('Entity - ');\r\n            fetchDetailedProfile();\r\n        }\r\n    }, [loading])\r\n\r\n\r\n    const fetchDetailedProfile = async () => {\r\n        var detailedView = '';\r\n        if (checkRole === 'Parent Organization' || checkRole === 'Administrator') {\r\n            detailedView = await entityDetail(entity_id);\r\n            if (detailedView.result) {\r\n                addTitle('Entity - ' + detailedView.result.entity.name);\r\n                localStorage.setItem('entityName', detailedView.result.entity.name);\r\n            }\r\n\r\n            if (detailedView.type === 'error') {\r\n                window.location.reload();\r\n            }\r\n\r\n            if (detailedView.status === 401) {\r\n                window.location.reload();\r\n            }\r\n\r\n        }\r\n\r\n        if (checkRole === 'Child Entity') {\r\n            detailedView = await selfEntityDetail();\r\n        }\r\n\r\n        if (detailedView.result) {\r\n            addTitle('Entity - ' + detailedView.result.entity.name);\r\n            setEntitydetail(detailedView.result)\r\n            setContactList(detailedView.result.contacts);\r\n            setAttachmentList(detailedView.result.attachments)\r\n            setTaskList(detailedView.result.tasks)\r\n            setComponentLoading(false);\r\n\r\n        }\r\n\r\n        if (detailedView.errors) {\r\n            addError(detailedView.errors.detail);\r\n        }\r\n\r\n        if (detailedView.status === 401) {\r\n            window.location.reload();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (compliance !== 0) {\r\n            updateComplianceTable()\r\n        }\r\n    }, [compliance]);\r\n\r\n\r\n    const UpdateComplainceState = () => {\r\n        setComplainace(compliance + 1);\r\n    }\r\n\r\n    const updateComplianceTable = async () => {\r\n        var detailedView = '';\r\n        if (role === 'Parent Organization' || role === 'Administrator') {\r\n            try {\r\n                detailedView = await entityDetail(entity_id);\r\n            } catch (e) {\r\n                addError('Something went wrong with the API.');\r\n            }\r\n        }\r\n\r\n        if (detailedView.result) {\r\n            new Promise((resolve, reject) => {\r\n                setTaskList(detailedView.result.tasks)\r\n                resolve();\r\n            });\r\n        }\r\n        if (detailedView.errors) {\r\n            addError(detailedView.errors.detail);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const toggleDrawer = (event, open) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        if (open) {\r\n            setState(true);\r\n        }\r\n\r\n        if (!open) {\r\n            setState(false);\r\n        }\r\n    };\r\n    const contactData = {\r\n        columns: [\r\n            {title: 'Name', field: 'name'},\r\n            {title: 'Phone', field: 'phone'},\r\n            {title: 'Contact Type', field: 'contactType'},\r\n            {title: 'email', field: 'email'},\r\n            {title: 'Street', field: 'mailingStreet'},\r\n            {title: 'City', field: 'mailingCity'},\r\n            {title: 'State', field: 'mailingState'},\r\n            {title: 'Zip', field: 'mailingZip'},\r\n\r\n        ],\r\n        data: contactList,\r\n    };\r\n\r\n\r\n    const taskData = {\r\n        columns: [\r\n            {title: 'Name', field: 'subject'},\r\n            {title: 'Due Date', field: 'dueDate'},\r\n            {title: 'Status', field: 'status'},\r\n        ],\r\n        data: taskList,\r\n    };\r\n\r\n\r\n    const attachmentData = {\r\n        columns: [\r\n            {\r\n                title: 'File Name',\r\n                editable: 'never',\r\n                field: 'name',\r\n\r\n            },\r\n            {title: 'Date', field: 'created'},\r\n            {title: 'Size', field: 'fileSize'},\r\n        ],\r\n        data: attachmentList,\r\n    };\r\n\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function afterOpenModal() {\r\n        // references are now sync'd and can be accessed.\r\n        // subtitle.style.color = '#f00';\r\n    }\r\n\r\n    function closeModal() {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n            <Layout>\r\n                <div className={classes.breadcrumbsDiv}>\r\n                    <Paper className={classes.breadcrumbsInner} elevation={2}>\r\n                        <Typography className={classes.baseColor} color=\"inherit\" variant=\"h4\">Navigation</Typography>\r\n                        <Breadcrumbs aria-label=\"breadcrumb\">\r\n                            <Link color=\"inherit\" onClick={(e) => {\r\n                                history.goBack()\r\n                            }}>\r\n                                <Typography color=\"textPrimary\">Dashboard</Typography>\r\n                            </Link>\r\n                            <Typography color=\"textPrimary\">Entity</Typography>\r\n                        </Breadcrumbs>\r\n                    </Paper>\r\n                </div>\r\n\r\n\r\n                {errorList?.map((value, index) => (\r\n                    <MySnackbarContentWrapper className={classes.errorMessage} spacing={1} index={index} variant=\"error\"\r\n                                              message={value}/>\r\n                ))}\r\n\r\n                <Drawer\r\n                    ModalProps={{\r\n                        keepMounted: true, // Better open performance on mobile.\r\n                    }}\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }} anchor={'right'} open={state} onClose={(event) => toggleDrawer(event, false)}>\r\n                    <div>\r\n                        <main className={classes.content}>\r\n                            {\r\n                                role === 'Administrator' ?\r\n                                    <AdminSendMessageForm {...props} /> : ''\r\n                                // <SendMessageForm/> : ''\r\n                            }\r\n\r\n                            {\r\n                                role === 'Parent Organization' || role === 'Child Entity' ?\r\n                                    <SendMessageForm {...props} /> : ''\r\n                            }\r\n                        </main>\r\n                    </div>\r\n                </Drawer>\r\n\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <PermIdentityIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        Company Info\r\n                                    </Typography>\r\n                                }\r\n                                subheader=\"\"\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                {entitydetail ?\r\n                                    <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            <li className={classes.listItem}><strong>State\r\n                                                ID:</strong> {entitydetail.entity.stateId ? entitydetail.entity.stateId : ''}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><strong>Formation\r\n                                                Date:</strong> {entitydetail.entity.formationDate ? entitydetail.entity.formationDate : ''}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><strong>Registered Agent Expiration\r\n                                                Date: </strong> {entitydetail.entity.expirationDate}</li>\r\n                                            {/*<li className={classes.listItem}><strong>Tax ID:</strong> 09890890</li>*/}\r\n                                        </ul>\r\n                                    </> :\r\n\r\n                                    <>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                    </>\r\n                                }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <RoomIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        RA Address\r\n                                    </Typography>\r\n                                }\r\n                                subheader={\r\n                                    entitydetail ? entitydetail.registerAgent.name : ''\r\n                                }\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                {entitydetail ?\r\n                                    <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            <li className={classes.listItem}><PersonIcon\r\n                                                className={classes.adjustment}/>\r\n                                                <strong>{entitydetail.registerAgent.fileAs}</strong></li>\r\n                                            <li className={classes.listItem}><StreetviewIcon\r\n                                                className={classes.adjustment}/> {entitydetail.registerAgent.address}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><RoomIcon\r\n                                                className={classes.adjustment}/>{entitydetail.registerAgent.address2}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><LocationCityIcon\r\n                                                className={classes.adjustment}/> {entitydetail.registerAgent.city}, {entitydetail.registerAgent.state} {entitydetail.registerAgent.zipcode}\r\n                                            </li>\r\n                                        </ul>\r\n                                    </> :\r\n                                    <>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                    </>\r\n                                }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <FastForwardIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        Forwarding Address\r\n                                    </Typography>\r\n                                }\r\n                                // subheader=\"September 14, 2016\"\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                {entitydetail ?\r\n                                    <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            {entitydetail.entity.shippingStreet ?\r\n                                                <li className={classes.listItem}><RoomIcon\r\n                                                    className={classes.adjustment}/>\r\n                                                    <strong>{entitydetail.entity.shippingStreet}, {entitydetail.entity.shippingCity}, {entitydetail.entity.shippingState} {entitydetail.entity.shippingCode} </strong>\r\n                                                </li> : ''}\r\n                                            <li className={classes.listItem}><MailIcon\r\n                                                className={classes.adjustment}/> {entitydetail.entity.email}\r\n                                            </li>\r\n                                        </ul>\r\n                                    </>\r\n                                    :\r\n                                    <>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                        <Skeleton/>\r\n                                    </>\r\n\r\n                                }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n                <Paper className={classes.messageSection} elevation={2}>\r\n                    <Grid container spacing={5}>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className=\"messageSection\">\r\n                                <Typography className={classes.messageTitle} variant=\"h5\" component=\"h2\"\r\n                                            color=\"textPrimary\">Messages</Typography>\r\n                                <Button variant=\"outlined\" color=\"primary\" className={'sendMessageButton'}\r\n                                        onClick={(event) => toggleDrawer(event, true)}>Send Message</Button>\r\n                            </div>\r\n                            {entitydetail ?\r\n                                <AllMessages entityName={entitydetail.entity.name} openmodal={openModal}/> :\r\n\r\n\r\n                                <List>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                </List>\r\n\r\n                            }\r\n\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </Paper>\r\n\r\n\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <ComplianceTaskList update={UpdateComplainceState} loading={componentLoading}\r\n                                            tooltip={'Add New Contact'} data={taskData}\r\n                                            title={'Compliance Tasks'} eid={entity_id}/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <AttachmentTable action={true} loading={componentLoading} tooltip={'Add New Document'}\r\n                                         redirect={true}\r\n                                         url={`/attachment/form/add/${entity_id}`} data={attachmentData}\r\n                                         title={'Documents'}/>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <ContactList action={true} loading={componentLoading} tooltip={'Add New Contact'}\r\n                                     redirect={true}\r\n                                     url={`/contact/form/add/${entity_id}`} data={contactData}\r\n                                     title={'Contacts'}/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <div>\r\n                    <Modal\r\n                        parentSelector={() => document.querySelector('#messageModal')}\r\n                        isOpen={modalIsOpen}\r\n                        onAfterOpen={afterOpenModal}\r\n                        onRequestClose={closeModal}\r\n                        contentLabel=\"Chat Application\"\r\n                        style={{\r\n                            overlay: {\r\n                                backgroundColor: 'rgba(0, 0, 0, 0.8)'\r\n                            },\r\n\r\n                        }}\r\n                    >\r\n                        <div className=\"chat-wrapper\">\r\n                            <NewChatPanel/>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n\r\n\r\n            </Layout>\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default withOktaAuth(EntityDetailedPage);\r\n\r\n","import React from 'react';\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ChatPanel from './ChatPanel';\r\n\r\nconst drawerWidth = 250;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    appBar: {\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        marginLeft: drawerWidth,\r\n    },\r\n\r\n    sideColor: {\r\n        backgroundColor: '#1e1e2d'\r\n    },\r\n\r\n    appBarTitle: {\r\n        flexGrow: 1\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth\r\n    },\r\n\r\n    toolbar: theme.mixins.toolbar,\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst MainChatApp = () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline/>\r\n            <AppBar position=\"inherit\" className={classes.appBar} color=\"default\">\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" noWrap>\r\n                        #geheimorganisation\r\n                    </Typography>\r\n                </Toolbar>\r\n\r\n            </AppBar>\r\n\r\n\r\n\r\n            <Drawer\r\n                className={'messageSideBar'}\r\n                classes={{\r\n                    paper: classes.drawerPaper\r\n                }}\r\n                variant=\"permanent\"\r\n                position=\"inherit\"\r\n            >\r\n                <AppBar position=\"inherit\" className={classes.sideColor}>\r\n                    <Toolbar position=\"inherit\">\r\n                        <Typography className={classes.appBarTitle} variant=\"h6\" noWrap>\r\n                            Messages\r\n                        </Typography>\r\n                        <IconButton color=\"inherit\" edge=\"end\">\r\n                            <MoreIcon/>\r\n                        </IconButton>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <ChatPanel/>\r\n            </Drawer>\r\n            {/*<main className={classes.content}>*/}\r\n            {/*    <div className={classes.toolbar} />*/}\r\n            {/*    <Typography paragraph>*/}\r\n            {/*        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt*/}\r\n            {/*        ut labore et dolore magna aliqua. Rhoncus dolor purus non enim praesent elementum*/}\r\n            {/*        facilisis leo vel. Risus at ultrices mi tempus imperdiet. Semper risus in hendrerit*/}\r\n            {/*        gravida rutrum quisque non tellus. Convallis convallis tellus id interdum velit laoreet id*/}\r\n            {/*        donec ultrices. Odio morbi quis commodo odio aenean sed adipiscing. Amet nisl suscipit*/}\r\n            {/*        adipiscing bibendum est ultricies integer quis. Cursus euismod quis viverra nibh cras.*/}\r\n            {/*        Metus vulputate eu scelerisque felis imperdiet proin fermentum leo. Mauris commodo quis*/}\r\n            {/*        imperdiet massa tincidunt. Cras tincidunt lobortis feugiat vivamus at augue. At augue eget*/}\r\n            {/*        arcu dictum varius duis at consectetur lorem. Velit sed ullamcorper morbi tincidunt. Lorem*/}\r\n            {/*        donec massa sapien faucibus et molestie ac.*/}\r\n            {/*    </Typography>*/}\r\n            {/*    <Typography paragraph>*/}\r\n            {/*        Consequat mauris nunc congue nisi vitae suscipit. Fringilla est ullamcorper eget nulla*/}\r\n            {/*        facilisi etiam dignissim diam. Pulvinar elementum integer enim neque volutpat ac*/}\r\n            {/*        tincidunt. Ornare suspendisse sed nisi lacus sed viverra tellus. Purus sit amet volutpat*/}\r\n            {/*        consequat mauris. Elementum eu facilisis sed odio morbi. Euismod lacinia at quis risus sed*/}\r\n            {/*        vulputate odio. Morbi tincidunt ornare massa eget egestas purus viverra accumsan in. In*/}\r\n            {/*        hendrerit gravida rutrum quisque non tellus orci ac. Pellentesque nec nam aliquam sem et*/}\r\n            {/*        tortor. Habitant morbi tristique senectus et. Adipiscing elit duis tristique sollicitudin*/}\r\n            {/*        nibh sit. Ornare aenean euismod elementum nisi quis eleifend. Commodo viverra maecenas*/}\r\n            {/*        accumsan lacus vel facilisis. Nulla posuere sollicitudin aliquam ultrices sagittis orci a.*/}\r\n            {/*    </Typography>*/}\r\n            {/*</main>*/}\r\n\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default MainChatApp;\r\n","import React, {useEffect, useContext} from \"react\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport {useOktaAuth} from \"@okta/okta-react\";\r\nimport ComplianceTaskList from '../entity/ComplianceTaskList';\r\nimport ContactList from '../entity/ContactList';\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {selfEntityDetail} from '../api/enitity.crud';\r\nimport {UserContext} from '../context/UserContext';\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport clsx from 'clsx';\r\nimport Layout from \"../layout/Layout\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport StreetviewIcon from '@material-ui/icons/Streetview';\r\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport FastForwardIcon from '@material-ui/icons/FastForward';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport AttachmentTable from \"../attachment/AttachmentTable\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AllMessages from \"../message/AllMessages\";\r\nimport Modal from \"react-modal\";\r\nimport NewChatPanel from \"../message/NewChatPanel\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport AdminSendMessageForm from \"../message/AdminSendMessageForm\";\r\nimport SendMessageForm from \"../message/SendMessageForm\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\n\r\n\r\nconst drawerWidth = 700;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        height: 250\r\n    },\r\n    paper: {\r\n        padding: 20,\r\n        height: 200,\r\n    },\r\n\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n\r\n    errorMessage: {\r\n        marginBottom: '5px'\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    breadcrumbsDiv: {\r\n        marginBottom: 30\r\n    },\r\n\r\n    breadcrumbsInner: {\r\n        padding: 10\r\n    },\r\n\r\n    baseColor: {\r\n        color: '#48465b'\r\n    },\r\n\r\n    listInner:{\r\n        // width: '100%'\r\n    },\r\n\r\n    messageSection: {\r\n        marginBottom: 20,\r\n        marginTop: 30\r\n    },\r\n    messageTitle: {\r\n        marginLeft: 20,\r\n        float: 'left'\r\n    },\r\n\r\n    rootDrawer: {\r\n        display: 'flex',\r\n    },\r\n    drawer: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: drawerWidth,\r\n            flexShrink: 0,\r\n        },\r\n    },\r\n\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n\r\n    content: {\r\n        flexGrow: 1,\r\n        paddingLeft: theme.spacing(7),\r\n        paddingRight: theme.spacing(7),\r\n    },\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n            elevation={6}\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\nconst SelfDetailedPage = (props) => {\r\n\r\n\r\n\r\n\r\n    const {attributes, loading, addError, errorList, role, addTitle, profile, removeError} = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [entitydetail, setEntitydetail] = React.useState()\r\n    const [contactList, setContactList] = React.useState([])\r\n    const [attachmentList, setAttachmentList] = React.useState([])\r\n    const [taskList, setTaskList] = React.useState([])\r\n    const [compliance, setComplainace] = React.useState(0);\r\n    const [modalIsOpen,setIsOpen] = React.useState(false);\r\n    const [state, setState] = React.useState(false);\r\n\r\n    // const entity_id = attributes.organization;\r\n    const [componentLoading, setComponentLoading] = React.useState(true);\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            try{\r\n                addTitle('Entity - ' + profile.name);\r\n                localStorage.setItem('activeEntityID', attributes.organization);\r\n            } catch (e) {\r\n                props.authService.logout('/');\r\n            }\r\n            fetchDetailedProfile();\r\n        }\r\n    }, [loading])\r\n\r\n\r\n    const UpdateComplainceState = () => {\r\n        setComplainace(compliance + 1);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(compliance !== 0) {\r\n            updateComplianceTable()\r\n        }\r\n    },[compliance]);\r\n\r\n    const updateComplianceTable = async() => {\r\n        var detailedView = '';\r\n        if (role === 'Parent Organization' || role === 'Administrator') {\r\n            try {\r\n                detailedView = await selfEntityDetail();\r\n                localStorage.setItem('entityName', detailedView.result.entity.name);\r\n            } catch (e) {\r\n                addError('Something went wrong with the API.');\r\n            }\r\n        }\r\n\r\n        if (detailedView.result) {\r\n            new Promise((resolve, reject) => {\r\n                setTaskList(detailedView.result.tasks)\r\n                resolve();\r\n            });\r\n        }\r\n        if (detailedView.errors) {\r\n            addError(detailedView.errors.detail);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const fetchDetailedProfile = async () => {\r\n\r\n        var detailedView = '';\r\n        if (role === 'Parent Organization' || role === 'Administrator') {\r\n            try {\r\n                detailedView = await selfEntityDetail();\r\n                if (detailedView.type === 'error') {\r\n                    window.location.reload();\r\n                }\r\n\r\n                if (detailedView.status === 401) {\r\n                    window.location.reload();\r\n                }\r\n            } catch (e) {\r\n                addError('Something went wrong with the API.');\r\n                setComponentLoading(false);\r\n            }\r\n        }\r\n        if (detailedView.result) {\r\n            localStorage.setItem('entityName', detailedView.result.entity.name);\r\n            new Promise((resolve, reject) => {\r\n                setEntitydetail(detailedView.result)\r\n                setContactList(detailedView.result.contacts);\r\n                setAttachmentList(detailedView.result.attachments)\r\n                setTaskList(detailedView.result.tasks)\r\n                setComponentLoading(false);\r\n                resolve();\r\n            });\r\n        }\r\n        if (detailedView.errors) {\r\n            addError(detailedView.errors.detail);\r\n        }\r\n\r\n        if(detailedView.status === 401){\r\n            window.location.reload();\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    const contactData = {\r\n        columns: [\r\n            {title: 'Name', field: 'name'},\r\n            {title: 'Phone', field: 'phone'},\r\n            {title: 'Contact Type', field: 'contactType'},\r\n            {title: 'email', field: 'email'},\r\n            {title: 'Street', field: 'mailingStreet'},\r\n            {title: 'City', field: 'mailingCity'},\r\n            {title: 'State', field: 'mailingState'},\r\n            {title: 'Zip', field: 'mailingZip'},\r\n\r\n        ],\r\n        data: contactList,\r\n    };\r\n\r\n\r\n    const taskData = {\r\n        columns: [\r\n            {title: 'Name', field: 'subject'},\r\n            {title: 'Due Date', field: 'dueDate'},\r\n            {title: 'Status', field: 'status'},\r\n        ],\r\n        data: taskList,\r\n    };\r\n\r\n    const attachmentData = {\r\n        columns: [\r\n            {\r\n                title: 'File Name',\r\n                editable: 'never',\r\n                field: 'name',\r\n\r\n            },\r\n            {title: 'Date', field: 'created'},\r\n            {title: 'Size', field: 'fileSize'},\r\n        ],\r\n        data: attachmentList,\r\n    };\r\n\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function afterOpenModal() {\r\n        // references are now sync'd and can be accessed.\r\n        // subtitle.style.color = '#f00';\r\n    }\r\n\r\n    function closeModal(){\r\n        setIsOpen(false);\r\n    }\r\n    const toggleDrawer = (event, open) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        if (open) {\r\n            setState(true);\r\n        }\r\n\r\n        if (!open) {\r\n            setState(false);\r\n        }\r\n    };\r\n    return (\r\n\r\n        <>\r\n            <Layout>\r\n                <div className={classes.breadcrumbsDiv}>\r\n                    <Paper className={classes.breadcrumbsInner} elevation={1}>\r\n                        <Typography className={classes.baseColor} color=\"inherit\" variant=\"h4\">Navigation</Typography>\r\n                        <Breadcrumbs aria-label=\"breadcrumb\">\r\n                            <Link color=\"inherit\" onClick={(e) => {\r\n                                history.goBack()\r\n                            }}>\r\n                                <Typography color=\"textPrimary\">Dashboard</Typography>\r\n                            </Link>\r\n                            <Typography color=\"textPrimary\">Entity</Typography>\r\n                        </Breadcrumbs>\r\n                    </Paper>\r\n                </div>\r\n\r\n\r\n                {errorList?.map((value, index) => (\r\n                    <MySnackbarContentWrapper key={index} className={classes.errorMessage} spacing={1} index={index} variant=\"error\"\r\n                                              message={value} onClose={()=> removeError(index)}/>\r\n                ))}\r\n\r\n                <Drawer\r\n                    ModalProps={{\r\n                        keepMounted: true, // Better open performance on mobile.\r\n                    }}\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }} anchor={'right'} open={state} onClose={(event) => toggleDrawer(event, false)}>\r\n                    <div>\r\n                        <main className={classes.content}>\r\n                            {\r\n                                role === 'Administrator' ?\r\n                                    <AdminSendMessageForm {...props} /> : ''\r\n                                // <SendMessageForm/> : ''\r\n                            }\r\n\r\n                            {\r\n                                role === 'Parent Organization' || role === 'Child Entity' ?\r\n                                    <SendMessageForm {...props} /> : ''\r\n                            }\r\n                        </main>\r\n                    </div>\r\n                </Drawer>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <PermIdentityIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        Company Info\r\n                                    </Typography>\r\n                                }\r\n                                subheader=\"\"\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                    {entitydetail ?\r\n                                        <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            <li className={classes.listItem}><strong>State ID:</strong> {entitydetail.entity.stateId ? entitydetail.entity.stateId : ''}</li>\r\n                                            <li className={classes.listItem}><strong>Formation\r\n                                                Date:</strong> {entitydetail.entity.formationDate ? entitydetail.entity.formationDate : ''}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><strong>Registered Agent Expiration\r\n                                                Date: </strong> {entitydetail.entity.expirationDate}</li>\r\n                                            {/*<li className={classes.listItem}><strong>Tax ID:</strong> 09890890</li>*/}\r\n                                        </ul> </>:\r\n\r\n                                       <>\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                        </>\r\n                                    }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <RoomIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        RA Address\r\n                                    </Typography>\r\n                                }\r\n                                subheader={\r\n                                    entitydetail ? entitydetail.registerAgent.name : ''\r\n                                }\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                    {entitydetail ?\r\n                                        <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            <li className={classes.listItem}><PersonIcon\r\n                                                className={classes.adjustment}/>\r\n                                                <strong>{entitydetail.registerAgent.fileAs}</strong></li>\r\n                                            <li className={classes.listItem}><StreetviewIcon\r\n                                                className={classes.adjustment}/> {entitydetail.registerAgent.address}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><RoomIcon\r\n                                                className={classes.adjustment}/>{entitydetail.registerAgent.address2}\r\n                                            </li>\r\n                                            <li className={classes.listItem}><LocationCityIcon\r\n                                                className={classes.adjustment}/> {entitydetail.registerAgent.city}, {entitydetail.registerAgent.state} {entitydetail.registerAgent.zipcode}\r\n                                            </li>\r\n                                        </ul>\r\n                                        </> :\r\n                                        <>\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                           <Skeleton />\r\n                                       </>\r\n                                    }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card className={classes.root}>\r\n                            <CardHeader\r\n                                avatar={\r\n                                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                                        <FastForwardIcon/>\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Typography className={classes.baseColor} gutterBottom variant=\"h5\" component=\"h2\">\r\n                                        Forwarding Address\r\n                                    </Typography>\r\n                                }\r\n                                // subheader=\"September 14, 2016\"\r\n                            />\r\n\r\n                            <CardContent>\r\n\r\n                                    {entitydetail ?\r\n                                        <>\r\n                                        <ul className={classes.companyinfo}>\r\n                                            {entitydetail.entity.shippingStreet ?\r\n                                                <li className={classes.listItem}><RoomIcon\r\n                                                    className={classes.adjustment}/>\r\n                                                    <strong>{entitydetail.entity.shippingStreet}, {entitydetail.entity.shippingCity}, {entitydetail.entity.shippingState} {entitydetail.entity.shippingCode} </strong>\r\n                                                </li> : ''}\r\n                                            <li className={classes.listItem}><MailIcon\r\n                                                className={classes.adjustment}/> {entitydetail.entity.email}\r\n                                            </li>\r\n                                        </ul>\r\n                                        </>\r\n                                        :\r\n                                        <>\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                            <Skeleton />\r\n                                        </>\r\n\r\n                                    }\r\n\r\n                            </CardContent>\r\n\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n\r\n                <Paper className={classes.messageSection} elevation={2}>\r\n                    <Grid container spacing={5}>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className=\"messageSection\">\r\n                                <Typography className={classes.messageTitle} variant=\"h5\" component=\"h2\"\r\n                                            color=\"textPrimary\">Messages</Typography>\r\n                                <Button variant=\"outlined\" color=\"primary\" className={'sendMessageButton'}\r\n                                        onClick={(event) => toggleDrawer(event, true)}>Send Message</Button>\r\n                            </div>\r\n                            { entitydetail ?\r\n                                <AllMessages entityName={entitydetail.entity.name} openmodal={openModal}/> :\r\n                                <List>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Skeleton variant=\"circle\" height={50} width={50} animation=\"wave\"/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={30} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                            secondary={\r\n                                                <React.Fragment>\r\n                                                    <Skeleton height={50} width={'100%'} animation=\"wave\"/>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                    <Divider variant=\"inset\" component=\"li\"/>\r\n                                </List>\r\n                            }\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </Paper>\r\n\r\n\r\n                <Grid container spacing={5}>\r\n\r\n                    <Grid item xs={12}>\r\n                        <ComplianceTaskList update={UpdateComplainceState} loading={componentLoading} tooltip={'Add New Contact'} data={taskData}\r\n                                            title={'Compliance Tasks'} eid={attributes ? attributes.organization : ''}/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <AttachmentTable action={true} loading={componentLoading} tooltip={'Add New Document'}\r\n                                     redirect={true}\r\n                                     url={`/attachment/form/add/${attributes ? attributes.organization : ''}`} data={attachmentData}\r\n                                     title={'Documents'}/>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n                <Grid container spacing={5}>\r\n                    <Grid item xs={12}>\r\n                        <ContactList action={true} loading={componentLoading} tooltip={'Add New Contact'}\r\n                                     redirect={true}\r\n                                     url={`/contact/form/add/${attributes ? attributes.organization : ''}`} data={contactData}\r\n                                     title={'Contacts'}/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n\r\n\r\n                <div>\r\n                    <Modal\r\n                        parentSelector={() => document.querySelector('#messageModal')}\r\n                        isOpen={modalIsOpen}\r\n                        onAfterOpen={afterOpenModal}\r\n                        onRequestClose={closeModal}\r\n                        contentLabel=\"Chat Application\"\r\n                        style={{\r\n                            overlay: {\r\n                                backgroundColor: 'rgba(0, 0, 0, 0.8)'\r\n                            },\r\n\r\n                        }}\r\n                    >\r\n                        <div className=\"chat-wrapper\">\r\n                            <NewChatPanel/>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n\r\n\r\n            </Layout>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default withOktaAuth(SelfDetailedPage);\r\n\r\n","\r\nconst HOST = process.env.REACT_APP_SERVER_API_URL\r\nexport const ENTITY = HOST;\r\n\r\n\r\nexport const contactList = async (zoho_id) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/Contacts/list/?eid=${zoho_id}`, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n\r\n            }\r\n        });\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n\r\n\r\nexport const createContact = async (data) => {\r\n    const okta = await JSON.parse(localStorage.getItem('okta-token-storage'));\r\n    if(okta) {\r\n        const response = await fetch(`${ENTITY}/Contacts/create`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Authorization': okta.accessToken.accessToken,\r\n            },\r\n            body: data\r\n        })\r\n        return Promise.resolve(response.json());\r\n    }\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport clsx from 'clsx';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Autocomplete from \"../entity/TestAutocomplete\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {ContactTypeList, StateRegionList} from \"../api/enitity.crud\";\r\nimport {createContact} from \"../api/contact.crud\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport * as SmartyStreetsSDK from \"smartystreets-javascript-sdk\";\r\nimport utils from 'smartystreets-javascript-sdk-utils';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Layout from \"../layout/Layout\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\n\r\nconst Lookup = SmartyStreetsSDK.usStreet.Lookup;\r\n\r\n\r\nconst smartyStreetsSharedCredentials = new SmartyStreetsSDK.core.SharedCredentials(process.env.REACT_APP_SMARTYSTREET_KEY);\r\nconst clientBuilder = new SmartyStreetsSDK.core.ClientBuilder(smartyStreetsSharedCredentials);\r\nlet client = clientBuilder.buildUsStreetApiClient();\r\n\r\n\r\nconst useStylesFacebook = makeStyles({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    top: {\r\n        color: '#eef3fd',\r\n    },\r\n    bottom: {\r\n        color: '#6798e5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n    textField: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldOther: {\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldCity: {\r\n\r\n        marginTop: 3,\r\n    },\r\n\r\n\r\n    textFieldtwofield: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n\r\n    selectField: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        marginTop: 16,\r\n    },\r\n    dense: {\r\n        marginTop: 16,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    checkbox: {\r\n        marginTop: 30\r\n    },\r\n\r\n    fileUpcomponentLoading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n\r\n\r\n    paper: {\r\n        paddingTop: 30,\r\n        paddingBottom: 30,\r\n        paddingLeft:10,\r\n        paddingRight:10\r\n    },\r\n    breadcrumbsDiv: {\r\n        marginBottom: 30\r\n    },\r\n    breadcrumbsInner: {\r\n        padding: 10\r\n    },\r\n\r\n    baseColor: {\r\n        color: '#48465b'\r\n    }\r\n\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n            elevation={6} variant=\"filled\"\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\nconst AddContactForm = (props) => {\r\n\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n\r\n\r\n    const {loading, attributes, addTitle} = useContext(UserContext);\r\n\r\n\r\n    const [addressObject, setAddressObject] = React.useState([]);\r\n    const [addressValue, setAddressValue] = React.useState('');\r\n    const [addressReset, setAddressReset] = React.useState('');\r\n    const [componentLoading, setComponentLoading] = React.useState(false)\r\n    const [contactType, setContactType] = React.useState([]);\r\n    const [successMessage, setSuccessMessage] = React.useState(' ');\r\n    const [StateRegion, setStateRegion] = React.useState([])\r\n    //form state\r\n\r\n\r\n    const [inputContactFirstName, setInputContactFirstName] = React.useState({value: '', error: ' '});\r\n    const [inputContactLastName, setInputLastName] = React.useState({value: '', error: ' '});\r\n    const [inputContactEmail, setInputNotificationEmail] = React.useState({value: '', error: ' '});\r\n    const [inputContactPhone, setInputNotificationPhone] = React.useState({value: '', error: ' '});\r\n    const [inputContactStreet, setInputNotificationAddress] = React.useState({value: '', error: ' '});\r\n    const [inputContactType, setInputNotificationContactType] = React.useState({value: '', error: ' '});\r\n    const [inputContactCity, setInputNotificationCity] = React.useState({value: '', error: ' '});\r\n    const [inputContactState, setInputNotificationState] = React.useState({value: '', error: ' '});\r\n    const [inputContactZipcode, setInputNotificationZip] = React.useState({value: '', error: ' '});\r\n    const [open, setOpen] = React.useState(false);\r\n    const [userAgree, setUserAgree] = React.useState(false);\r\n    const [isValidAddress, setIsValidAddress] = React.useState(false);\r\n    const [errorMessage, setErrorMessage] = React.useState(' ');\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setComponentLoading(false);\r\n        setUserAgree(false);\r\n        setOpen(false);\r\n    };\r\n\r\n    const iAgree = async (event) => {\r\n        Promise.resolve(setTimeout(() => {\r\n            setUserAgree(true);\r\n        }, 3000));\r\n        Promise.resolve(setOpen(false));\r\n        handleOnSubmit(event, true);\r\n\r\n    };\r\n\r\n    function FacebookProgress(props) {\r\n        const classes = useStylesFacebook();\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <CircularProgress\r\n\r\n                    variant=\"determinate\"\r\n                    value={100}\r\n                    className={classes.top}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n                <CircularProgress\r\n                    variant=\"indeterminate\"\r\n                    disableShrink\r\n                    className={classes.bottom}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (addressObject) {\r\n            if (typeof addressObject === 'object') {\r\n                setInputNotificationCity({...inputContactCity, error: ' ', value: addressObject.city})\r\n                setInputNotificationState({...inputContactState, error: ' ', value: addressObject.state})\r\n            }\r\n        }\r\n\r\n    }, [addressObject, addressValue])\r\n\r\n\r\n    React.useEffect(() => {\r\n        if(loading === true) {\r\n            addTitle('Add New Contact');\r\n            fetchDataforDropdownsContactTypeList();\r\n            fetchDataforDropdownsStateRegion();\r\n            localStorage.setItem('iAgree', false);\r\n        }\r\n    }, [loading])\r\n\r\n\r\n    const fetchDataforDropdownsContactTypeList = async () => {\r\n        var ContactTypeListLocal = await JSON.parse(localStorage.getItem(\"ContactTypeList\"));\r\n        if (ContactTypeListLocal) {\r\n            setContactType(ContactTypeListLocal);\r\n        } else {\r\n            const response = await ContactTypeList(attributes.organization, attributes.email);\r\n            localStorage.setItem(\"ContactTypeList\", JSON.stringify(response.data));\r\n            setContactType(response.data);\r\n        }\r\n    }\r\n\r\n\r\n    const fetchDataforDropdownsStateRegion = async () => {\r\n        var StateRegionListLocal = await JSON.parse(localStorage.getItem(\"StateRegionList\"));\r\n        if (StateRegionListLocal) {\r\n            setStateRegion(StateRegionListLocal);\r\n        } else {\r\n            const response = await StateRegionList(attributes.organization, attributes.email);\r\n            localStorage.setItem(\"StateRegionList\", JSON.stringify(response.data));\r\n            setStateRegion(response.data);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const addressObjectChangeHandler = (value) => {\r\n        setAddressObject(value);\r\n    }\r\n\r\n    const addressValueChangeHandler = async (value) => {\r\n        return Promise.resolve(setAddressValue(value));\r\n    }\r\n\r\n\r\n    const resetForm = async () => {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve();\r\n                setInputContactFirstName({error: ' ', value: ''})\r\n                setInputLastName({error: ' ', value: ''})\r\n                setInputNotificationEmail({error: ' ', value: ''})\r\n                setInputNotificationPhone({error: ' ', value: ''})\r\n                setInputNotificationAddress({error: ' ', value: ''})\r\n                setInputNotificationContactType({error: ' ', value: ''})\r\n                setInputNotificationCity({error: ' ', value: ''})\r\n                setInputNotificationState({error: ' ', value: ''})\r\n                setInputNotificationZip({error: ' ', value: ''});\r\n                setAddressObject('');\r\n                setAddressReset('reset')\r\n                setAddressValue('');\r\n            }, 600);\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    const handleOnSubmit = async (event, userResponse = false) => {\r\n\r\n        event.preventDefault();\r\n        setComponentLoading(true);\r\n        setAddressReset('');\r\n        // if (userResponse === 'false') {\r\n        //     await addressCheck();\r\n        // }\r\n\r\n\r\n        var formsubmit = true;\r\n        if (inputContactZipcode.value) {\r\n            var zip = parseInt(inputContactZipcode.value);\r\n            if (typeof zip === 'number') {\r\n                if (zip.toString().length === 5) {\r\n                    formsubmit = true;\r\n                } else {\r\n                    setComponentLoading(false);\r\n                    formsubmit = false;\r\n                    setInputNotificationZip({...inputContactZipcode, error: \"Please enter 5 digits zip code\"})\r\n                }\r\n            } else {\r\n                setComponentLoading(false);\r\n                formsubmit = false;\r\n                setInputNotificationZip({...inputContactZipcode, error: \"Please enter 5 digits zip code\"})\r\n            }\r\n        }\r\n\r\n\r\n        if (formsubmit === true) {\r\n            if (userAgree === false && userResponse === false) {\r\n                if ((addressObject || addressObject.streetLine) && inputContactCity.value && inputContactState.value && inputContactZipcode.value !== '') {\r\n                    formsubmit = false;\r\n                    await addressCheck(event);\r\n\r\n                }\r\n            }\r\n        }\r\n        if (formsubmit === true) {\r\n            contactsCreate(event, userResponse);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    const contactsCreate = async (event, valid = null) => {\r\n\r\n\r\n        let formData = new FormData();\r\n        setInputContactFirstName({...inputContactFirstName, error: ' '})\r\n        setInputLastName({...inputContactLastName, error: ' '})\r\n        setInputNotificationEmail({...inputContactEmail, error: ' '})\r\n        setInputNotificationPhone({...inputContactPhone, error: ' '})\r\n        setInputNotificationAddress({...inputContactStreet, error: ' '})\r\n        setInputNotificationContactType({...inputContactType, error: ' '})\r\n        setInputNotificationCity({...inputContactCity, error: ' '})\r\n        setInputNotificationState({...inputContactState, error: ' '})\r\n        setInputNotificationZip({...inputContactZipcode, error: ' '})\r\n\r\n        if(attributes.organization) {\r\n            formData.append('entityId', props.match.params.id ? props.match.params.id : attributes.organization);\r\n        }\r\n        formData.append('inputContactFirstName', inputContactFirstName.value);\r\n        formData.append('inputContactLastName', inputContactLastName.value);\r\n        formData.append('inputContactEmail', inputContactEmail.value);\r\n        formData.append('inputContactPhone', inputContactPhone.value);\r\n        formData.append('inputContactStreet', addressObject.streetLine);\r\n        if (addressObject.streetLine) {\r\n            formData.append('inputContactStreet', addressObject.streetLine)\r\n        } else {\r\n            formData.append('inputContactStreet', addressObject)\r\n        }\r\n        formData.append('inputContactType', inputContactType.value)\r\n\r\n        if (inputContactCity.value) {\r\n            formData.append('inputContactCity', inputContactCity.value);\r\n        } else {\r\n            formData.append('inputContactCity', '');\r\n        }\r\n        if (inputContactState.value) {\r\n            formData.append('inputContactState', inputContactState.value);\r\n        } else {\r\n            formData.append('inputContactState', '');\r\n        }\r\n\r\n        formData.append('inputContactZipcode', inputContactZipcode.value)\r\n\r\n\r\n        formData.append('inputAddressIsValid', valid ? valid : isValidAddress)\r\n        formData.append('acceptInvalidAddress', userAgree)\r\n\r\n        const response = await createContact(formData);\r\n\r\n        if (response.type === 'error') {\r\n            window.location.reload();\r\n        }\r\n\r\n        if (response.status === 401) {\r\n            window.location.reload();\r\n        }\r\n\r\n        if (response.field_error) {\r\n\r\n            setComponentLoading(false);\r\n            setIsValidAddress(false);\r\n            setUserAgree(false);\r\n            Object.keys(response.field_error).forEach((key, index) => {\r\n\r\n                if (key === 'inputContactFirstName') {\r\n                    setInputContactFirstName({...inputContactFirstName, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputContactLastName') {\r\n                    setInputLastName({...inputContactLastName, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputContactEmail') {\r\n                    setInputNotificationEmail({...inputContactEmail, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputContactPhone') {\r\n                    setInputNotificationPhone({...inputContactPhone, error: response.field_error[key]})\r\n                }\r\n\r\n                if (key === 'inputContactStreet') {\r\n                    setInputNotificationAddress({...inputContactStreet, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputContactType') {\r\n                    setInputNotificationContactType({...inputContactType, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputContactCity') {\r\n                    setInputNotificationCity({...inputContactCity, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputContactState') {\r\n                    setInputNotificationState({...inputContactState, error: response.field_error[key]})\r\n                }\r\n                if (key === 'inputContactZipcode') {\r\n                    setInputNotificationZip({...inputContactZipcode, error: response.field_error[key]})\r\n                }\r\n\r\n\r\n            })\r\n        }\r\n        if (response.data) {\r\n            if (response.data.type === 'ok') {\r\n\r\n                new Promise(resolve => {\r\n                    setTimeout(() => {\r\n                        resolve();\r\n                        setUserAgree(false);\r\n                        setComponentLoading(false);\r\n                        setSuccessMessage(response.data.results);\r\n                        resetForm();\r\n                        window.scrollTo(0, 0)\r\n                    }, 600);\r\n                });\r\n\r\n            }\r\n\r\n            if (response.data) {\r\n                if (response.data.type === 'error') {\r\n                    await updateStates(response.data.results);\r\n\r\n                    // console.log(addressObject);\r\n                }\r\n            }\r\n        }\r\n\r\n        //\r\n        // for (var pair of formData.entries()) {\r\n        //     console.log(pair[0] + ', ' + pair[1]);\r\n        // }\r\n\r\n\r\n        //\r\n        // setTimeout(() => {\r\n        //     setComponentLoading(false);\r\n        //     history.goBack();\r\n        // }, 4000)\r\n        // setComponentLoading(true);\r\n\r\n\r\n    }\r\n\r\n\r\n    const updateStates = async (data) => {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve();\r\n                setUserAgree(false);\r\n                setComponentLoading(false);\r\n                setErrorMessage(data);\r\n                window.scrollTo(0, 0)\r\n            }, 600);\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    const addressCheck = async (event) => {\r\n        var valid;\r\n        let lookup1 = new Lookup();\r\n        lookup1.street = addressObject.streetLine ? addressObject.streetLine : addressObject;\r\n        lookup1.city = inputContactCity.value;\r\n        lookup1.state = inputContactState.value;\r\n        lookup1.zipCode = inputContactZipcode.value;\r\n        const responseFromSmarty = client.send(lookup1).then(response => {\r\n            valid = utils.isValid(response.lookups[0]);\r\n            setIsValidAddress(valid);\r\n            // response.lookups.map(lookup => console.log(lookup.result));\r\n\r\n            // // Is lookup1 valid?\r\n            // console.log('Is lookup1 valid?', utils.isValid(response.lookups[0]));\r\n            //\r\n            // // Is lookup1 invalid?\r\n            // console.log('Is lookup1 invalid?', utils.isInvalid(response.lookups[0]));\r\n            //\r\n            // // Is lookup1 ambiguous?\r\n            // console.log('// Is lookup1 ambiguous?', utils.isAmbiguous(response.lookups[0]));\r\n            //\r\n            // // Is lookup1 missing a secondary address?\r\n            // console.log('// Is lookup1 missing a secondary address?', utils.isMissingSecondary(response.lookups[0]));\r\n            if (valid === false) {\r\n                setOpen(true);\r\n            }\r\n\r\n            if (valid === true) {\r\n                contactsCreate(event, false);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    const disableSuccessMessage = () => {\r\n        setSuccessMessage(' ');\r\n    }\r\n\r\n\r\n    const disableErrorMessage = () => {\r\n        setErrorMessage(' ');\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n\r\n            <div className={classes.breadcrumbsDiv}>\r\n                <Paper className={classes.breadcrumbsInner} elevation={1}>\r\n                    <Typography className={classes.baseColor} color=\"inherit\" variant=\"h4\">Navigation</Typography>\r\n                    <Breadcrumbs aria-label=\"breadcrumb\">\r\n\r\n                        <Link color=\"inherit\" href=\"/\">\r\n                            <Typography color=\"textPrimary\">Dashboard</Typography>\r\n                        </Link>\r\n\r\n                        <Link color=\"inherit\" onClick={(e) => {\r\n                            history.goBack()\r\n                        }}>\r\n                            <Typography color=\"textPrimary\">Entity</Typography>\r\n                        </Link>\r\n                        <Typography color=\"textPrimary\">Add Contact</Typography>\r\n                    </Breadcrumbs>\r\n                </Paper>\r\n            </div>\r\n\r\n\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{\"We are unable to validate your address\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Please make sure that you have entered it correctly.\r\n                        If you proceed and we are unable to validate your address it may cause delays\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={(event) => iAgree(event)} color=\"primary\" autoFocus>\r\n                        Accept\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n            <Paper className={classes.paper} elevation={3}>\r\n\r\n                            {successMessage !== ' ' ? (\r\n                                <MySnackbarContentWrapper\r\n                                    onClose={()=>{disableSuccessMessage()}}\r\n                                    variant=\"success\"\r\n                                    message={successMessage}\r\n                                />\r\n                            ) : ''}\r\n\r\n\r\n                            {errorMessage !== ' ' ? (\r\n                                <MySnackbarContentWrapper\r\n                                    onClose={()=>{disableErrorMessage()}}\r\n                                    variant=\"error\"\r\n                                    message={errorMessage}\r\n                                />\r\n                            ) : ''}\r\n\r\n                            <Grid container spacing={0}>\r\n                                <form id={\"create-course-form\"} className={classes.container} onSubmit={handleOnSubmit}\r\n                                      noValidate\r\n                                      autoComplete=\"off\">\r\n                                    <FormGroup row>\r\n\r\n\r\n                                        <div className={'col-md-6'}>\r\n                                            <TextField\r\n                                                disabled={componentLoading}\r\n                                                required\r\n                                                error={inputContactFirstName.error !== ' '}\r\n                                                label=\"First Name\"\r\n                                                value={inputContactFirstName.value}\r\n                                                onChange={e => setInputContactFirstName({\r\n                                                    ...inputContactFirstName,\r\n                                                    value: e.target.value\r\n                                                })}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactFirstName',\r\n                                                    id: 'inputContactFirstName',\r\n                                                }}\r\n                                                className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                                margin=\"dense\"\r\n                                                helperText={inputContactFirstName.error}\r\n                                            />\r\n                                        </div>\r\n                                        <div className={'col-md-6'}>\r\n                                            <TextField\r\n                                                disabled={componentLoading}\r\n                                                required\r\n                                                value={inputContactLastName.value}\r\n                                                onChange={e => setInputLastName({\r\n                                                    ...inputContactLastName,\r\n                                                    value: e.target.value\r\n                                                })}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactLastName',\r\n                                                    id: 'inputContactLastName',\r\n                                                }}\r\n                                                error={inputContactLastName.error !== ' '}\r\n                                                label=\"Last Name\"\r\n                                                className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                                margin=\"dense\"\r\n                                                helperText={inputContactLastName.error}\r\n                                            />\r\n                                        </div>\r\n\r\n\r\n                                        <div className={'col-md-6'}>\r\n                                            <TextField\r\n                                                disabled={componentLoading}\r\n                                                required\r\n\r\n                                                type=\"email\"\r\n                                                value={inputContactEmail.value}\r\n                                                onChange={e => setInputNotificationEmail({\r\n                                                    ...inputContactEmail,\r\n                                                    value: e.target.value\r\n                                                })}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactEmail',\r\n                                                    id: 'inputContactEmail',\r\n                                                }}\r\n                                                error={inputContactEmail.error !== ' '}\r\n                                                helperText={inputContactEmail.error}\r\n                                                label=\"Email\"\r\n                                                className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                                margin=\"dense\"\r\n\r\n                                            />\r\n                                        </div>\r\n                                        <div className={'col-md-6'}>\r\n                                            <TextField\r\n                                                disabled={componentLoading}\r\n                                                required\r\n                                                value={inputContactPhone.value}\r\n                                                onChange={e => setInputNotificationPhone({\r\n                                                    ...inputContactPhone,\r\n                                                    value: e.target.value\r\n                                                })}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactPhone',\r\n                                                    id: 'inputContactPhone',\r\n                                                }}\r\n                                                error={inputContactPhone.error !== ' '}\r\n                                                helperText={inputContactPhone.error}\r\n                                                label=\"Phone\"\r\n                                                className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                                margin=\"dense\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className={'col-md-12'}>\r\n                                            <Autocomplete\r\n                                                disabled={componentLoading}\r\n                                                required\r\n                                                width={''}\r\n                                                addressObject={addressObjectChangeHandler}\r\n                                                addressValue={addressValueChangeHandler}\r\n                                                reset={addressReset}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactStreet',\r\n                                                    id: 'inputContactStreet',\r\n                                                }}\r\n                                                error={inputContactStreet.error !== ' '}\r\n                                                helperText={inputContactStreet.error}\r\n                                                className={clsx(classes.dense)}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className={'col-md-4'}>\r\n                                            <FormControl className={clsx(classes.selectField)}\r\n                                                         error={inputContactType.error !== ' '}>\r\n                                                <InputLabel htmlFor=\"age-native-simple\">Contact Type</InputLabel>\r\n                                                <Select\r\n                                                    disabled={componentLoading}\r\n                                                    native\r\n                                                    value={inputContactType.value}\r\n                                                    onChange={e => setInputNotificationContactType({\r\n                                                        ...inputContactType,\r\n                                                        value: e.target.value\r\n                                                    })}\r\n                                                    inputProps={{\r\n                                                        name: 'inputContactType',\r\n                                                        id: 'inputContactType',\r\n                                                    }}\r\n                                                    error={inputContactType.error !== ' '}\r\n                                                    helperText={inputContactType.error}\r\n                                                >\r\n                                                    <option value=\"\"/>\r\n                                                    {contactType?.map((anObjectMapped, index) => <option key={index}\r\n                                                                                                         value={anObjectMapped.code}>{anObjectMapped.name}</option>)}\r\n\r\n                                                </Select>\r\n                                                <FormHelperText>{inputContactType.error}</FormHelperText>\r\n\r\n                                            </FormControl>\r\n                                        </div>\r\n\r\n\r\n                                        <div className={clsx(classes.textFieldCity, 'col-md-4')}>\r\n\r\n                                            <TextField\r\n                                                id=\"standard-basic\"\r\n                                                disabled={componentLoading}\r\n                                                required\r\n                                                error={inputContactCity.error !== ' '}\r\n                                                helperText={inputContactCity.error}\r\n                                                value={inputContactCity.value || ''}\r\n                                                onChange={e => setInputNotificationCity({\r\n                                                    ...inputContactCity,\r\n                                                    value: e.target.value\r\n                                                })}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactCity',\r\n                                                    id: 'inputContactCity',\r\n                                                }}\r\n                                                label=\"City\"\r\n                                                className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                                margin=\"dense\"\r\n\r\n                                            />\r\n                                        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                        <div className={'col-md-4'}>\r\n                                            <FormControl className={clsx(classes.selectField)}\r\n                                                         error={inputContactState.error !== ' '}>\r\n                                                <InputLabel>\r\n                                                    State/Region/Province\r\n                                                </InputLabel>\r\n                                                <Select\r\n                                                    disabled={componentLoading}\r\n                                                    required\r\n                                                    native\r\n                                                    value={inputContactState.value || ''}\r\n                                                    onChange={e => setInputNotificationState({\r\n                                                        ...inputContactState,\r\n                                                        value: e.target.value\r\n                                                    })}\r\n                                                    inputProps={{\r\n                                                        name: 'inputContactState',\r\n                                                        id: 'inputContactState',\r\n                                                    }}\r\n                                                    error={inputContactState.error !== ' '}\r\n                                                    helperText={inputContactState.error}\r\n                                                >\r\n                                                    <option value=\"\"/>\r\n                                                    {StateRegion?.map((anObjectMapped, index) => <option key={index}\r\n                                                                                                         value={anObjectMapped.code}>{anObjectMapped.name}</option>)}\r\n\r\n                                                </Select>\r\n                                                <FormHelperText>{inputContactState.error}</FormHelperText>\r\n                                            </FormControl>\r\n                                        </div>\r\n\r\n\r\n                                        <div className={'col-md-6'}>\r\n                                            <TextField\r\n                                                disabled={componentLoading}\r\n                                                required\r\n                                                type=\"text\"\r\n                                                value={inputContactZipcode.value}\r\n                                                onChange={e => setInputNotificationZip({\r\n                                                    ...inputContactZipcode,\r\n                                                    value: e.target.value\r\n                                                })}\r\n                                                inputProps={{\r\n                                                    name: 'inputContactZipcode',\r\n                                                    id: 'inputContactZipcode',\r\n                                                }}\r\n                                                error={inputContactZipcode.error !== ' '}\r\n                                                helperText={inputContactZipcode.error}\r\n                                                label=\"Postal / Zip Code\"\r\n                                                className={clsx(classes.textFieldtwofield, classes.dense)}\r\n                                                margin=\"dense\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className={'col-md-12'}>\r\n                                            <div className={clsx(classes.submitButton, 'custom-button-wrapper')}>\r\n                                                {componentLoading ? (\r\n                                                        <div className={clsx(classes.loader)}>\r\n                                                            <FacebookProgress/>\r\n                                                        </div>)\r\n                                                    : null}\r\n                                                {/*<input className={clsx('btn btn-primary', classes.restButton)}*/}\r\n                                                {/*       type=\"reset\" onClick={(e) => {resetForm()}} value=\"Reset\"/>*/}\r\n\r\n                                                <input disabled={componentLoading}\r\n                                                       className={clsx('btn btn-primary', classes.restButton)}\r\n                                                       type=\"submit\" value=\"Add new Contact\"/>\r\n                                            </div>\r\n                                        </div>\r\n                                    </FormGroup>\r\n                                </form>\r\n                            </Grid>\r\n            </Paper>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default withOktaAuth(AddContactForm);\r\n","import React, {useContext, useEffect} from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n// import AttachmentIcon from '@material-ui/icons/Attachment';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\n\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport {AttachmentsList} from \"../api/attachment\";\r\nimport AttachmentTable from \"../attachment/AttachmentTable\";\r\nimport Layout from \"../layout/Layout\";\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\nimport clsx from \"clsx\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    },\r\n\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n\r\n    errorMessage: {\r\n        marginBottom: '5px'\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6} variant=\"filled\"\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\n\r\n\r\nconst Attachments = () => {\r\n    const {loading, attributes, addError, errorList, addTitle} = useContext(UserContext);\r\n\r\n    // const history = useHistory();\r\n    const classes = useStyles();\r\n    const [attachmentList, setAttachmentList] = React.useState([])\r\n    const [componentLoading, setComponentLoading] = React.useState(true);\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            addTitle('Attachments');\r\n            fetchAttachmentData();\r\n        }\r\n    }, [loading]);\r\n\r\n    const fetchAttachmentData = async () => {\r\n        try {\r\n            const response = await AttachmentsList(attributes.organization);\r\n            if (response.type === 'error') {\r\n                window.location.reload();\r\n            }\r\n\r\n            if (response.status === 401) {\r\n                window.location.reload();\r\n            }\r\n            await setAttachmentList(response.data.documents);\r\n            setComponentLoading(false);\r\n\r\n        } catch (e) {\r\n            addError('Something went wrong with the Attachment API.');\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const dummyData = {\r\n        columns: [\r\n            {\r\n                title: 'File Name',\r\n                editable: 'never',\r\n                field: 'name',\r\n\r\n            },\r\n            {title: 'Date', field: 'created'},\r\n            {title: 'Size', field: 'fileSize'},\r\n            {title: 'Entity', field: 'entityName'},\r\n        ],\r\n        data: attachmentList,\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Layout>\r\n                {errorList?.map((value, index) => (\r\n                    <MySnackbarContentWrapper className={classes.errorMessage} spacing={1} index={index} variant=\"error\"\r\n                                              message={value}/>\r\n                ))}\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <AttachmentTable redirect={true} url={'/admin/attachments'} loading={componentLoading} tooltip={'Add Attachment'} data={dummyData}\r\n                                     title={'Attachments'}/>\r\n                    </Grid>\r\n                </Grid>\r\n            </Layout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withOktaAuth(Attachments);\r\n","import React, {useContext, useEffect} from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n// import AttachmentIcon from '@material-ui/icons/Attachment';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\n\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport {contactList} from \"../api/contact.crud\";\r\nimport ContactList from \"../entity/ContactList\";\r\nimport Layout from \"../layout/Layout\";\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\nimport clsx from \"clsx\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    },\r\n\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n\r\n    errorMessage: {\r\n        marginBottom: '5px'\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6} variant=\"filled\"\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n        </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\n\r\n\r\nconst Contacts = () => {\r\n    const {loading, attributes, addError, errorList, role, addTitle, removeError} = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const [listcontacts, setListcontacts] = React.useState([])\r\n    const [componentLoading, setComponentLoading] = React.useState(true);\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            addTitle('Contacts');\r\n            fetchAttachmentData();\r\n        }\r\n    }, [loading]);\r\n\r\n    const fetchAttachmentData = async () => {\r\n        try {\r\n            const response = await contactList(attributes.organization);\r\n            if (response.type === 'error') {\r\n                window.location.reload();\r\n            }\r\n\r\n            if (response.status === 401) {\r\n                window.location.reload();\r\n            }\r\n            await setListcontacts(response.data.contacts);\r\n\r\n            setComponentLoading(false);\r\n\r\n        } catch (e) {\r\n            addError('Something went wrong with the Contact API.');\r\n        }\r\n    }\r\n\r\n    const dummyDataa = {\r\n        columns: [\r\n            {title: 'Name', field: 'name'},\r\n            {title: 'email', field: 'email'},\r\n            {title: 'Phone', field: 'phone'},\r\n        ],\r\n        data: listcontacts,\r\n\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Layout>\r\n                {errorList?.map((value, index) => (\r\n                    <MySnackbarContentWrapper className={classes.errorMessage} spacing={1} index={index} variant=\"error\"\r\n                                              message={value} onClose={(e) => removeError(index)}/>\r\n                ))}\r\n                <Grid container spacing={1}>\r\n\r\n                    <Grid item xs={12}>\r\n                        <ContactList loading={componentLoading} tooltip={'Add Contacts'} data={dummyDataa}\r\n                                     title={'Contacts'}/>\r\n                    </Grid>\r\n                </Grid>\r\n            </Layout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withOktaAuth(Contacts);\r\n","import React, {useContext} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\r\nimport clsx from 'clsx';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport CustomFileInput from \"reactstrap/es/CustomFileInput\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {lorexFileUpload} from \"../api/enitity.crud\";\r\nimport {attachFiles} from \"../api/attachment\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Layout from \"../layout/Layout\";\r\nimport {UserContext} from \"../context/UserContext\";\r\n\r\nconst useStylesFacebook = makeStyles({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    top: {\r\n        color: '#eef3fd',\r\n    },\r\n    bottom: {\r\n        color: '#6798e5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n    textField: {\r\n// marginLeft: theme.spacing(1),\r\n// marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldOther: {\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldCity: {\r\n\r\n        marginTop: 3,\r\n    },\r\n\r\n\r\n    textFieldtwofield: {\r\n// marginLeft: theme.spacing(1),\r\n// marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n\r\n    selectField: {\r\n// marginLeft: theme.spacing(1),\r\n// marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        marginTop: 16,\r\n    },\r\n    dense: {\r\n        marginTop: 16,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    checkbox: {\r\n        marginTop: 30\r\n    },\r\n\r\n    fileUploading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n        width: '100%',\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    formStyle: {\r\n        width: '100%'\r\n    },\r\n    paper: {\r\n        paddingTop: 30,\r\n        paddingBottom: 30,\r\n        paddingLeft: 10,\r\n        paddingRight: 10\r\n    },\r\n    breadcrumbsDiv: {\r\n        marginBottom: 30\r\n    },\r\n    breadcrumbsInner: {\r\n        padding: 10\r\n    },\r\n\r\n    baseColor: {\r\n        color: '#48465b'\r\n    },\r\n\r\n    uploadCustom: {\r\n        marginTop: 10,\r\n        marginLeft: 5\r\n\r\n    }\r\n\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6} variant=\"filled\"\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n                    <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n                </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\nconst AddAttachmentForm = (props) => {\r\n\r\n    const {addTitle, addError, attributes, role} = useContext(UserContext);\r\n    addTitle('Add New Document');\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const [loading, setLoading] = React.useState(false)\r\n    // const [error, setError] = React.useState(false);\r\n    const [inputFileName, setInputFileName] = React.useState({value: '', error: ' '});\r\n    const [inputFiling, setInputFiling] = React.useState({value: '', error: ' ', success: ' '});\r\n    const [inputFileSize, setInputFileSize] = React.useState({value: '', error: ' ', success: ' '});\r\n    const [successMessage, setSuccessMessage] = React.useState(' ');\r\n    const [errorMessage, setErrorMessage] = React.useState(' ');\r\n\r\n    function FacebookProgress(props) {\r\n        const classes = useStylesFacebook();\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <CircularProgress\r\n\r\n                    variant=\"determinate\"\r\n                    value={100}\r\n                    className={classes.top}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n                <CircularProgress\r\n                    variant=\"indeterminate\"\r\n                    disableShrink\r\n                    className={classes.bottom}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    // const handleClose = (event, reason) => {\r\n    //     setError(false);\r\n    // }\r\n\r\n    const handleOnSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setLoading(true);\r\n        let formData = new FormData();\r\n\r\n// console.log(inputFormationDate.value);\r\n\r\n// Display the key/value pairs\r\n        if (attributes.organization) {\r\n            formData.append('entityId', props.match.params.id ? props.match.params.id : attributes.organization);\r\n        }\r\n        formData.append('inputFileId', inputFiling.value);\r\n        formData.append('inputFileName', inputFileName.value);\r\n        formData.append('inputFileSize', inputFileSize.value);\r\n\r\n        try {\r\n            const response = await attachFiles(formData);\r\n            if (response.type === 'error') {\r\n                window.location.reload();\r\n            }\r\n\r\n            if (response.status === 401) {\r\n                window.location.reload();\r\n            }\r\n            if (response) {\r\n                if (response.status === true) {\r\n                    setSuccessMessage(response.message);\r\n                    setLoading(false);\r\n                }\r\n                if (response.status === false) {\r\n                    setInputFiling({...inputFiling, error: response.message});\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            addError('Something went wrong with Document API.');\r\n            setErrorMessage('Something went wrong with Document API.');\r\n        }\r\n\r\n        // if(response.status == true) {\r\n        //     setTimeout(() => {\r\n        //         history.goBack();\r\n        //     }, 4000)\r\n        // }\r\n\r\n    }\r\n\r\n    const fileChange = async (e) => {\r\n        setLoading(true);\r\n        let formData = new FormData();\r\n        formData.append('file', e.target.files[0]);\r\n        const filename = e.target.files[0].name;\r\n        const response = await lorexFileUpload(formData);\r\n        if (response.error === false) {\r\n            setInputFiling({...inputFiling, value: response.record_id, success: 'Ready to add Document.'});\r\n            setInputFileSize({...inputFileSize, value: response.file_size})\r\n            if (filename) {\r\n                setInputFileName({...inputFileName, value: filename});\r\n                setLoading(false);\r\n            }\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    const removeSuccess = () => {\r\n        setSuccessMessage(' ');\r\n    }\r\n\r\n    const removeErrorMessage = () => {\r\n        setErrorMessage(' ');\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <Layout>\r\n\r\n                <>\r\n                    <div className={classes.breadcrumbsDiv}>\r\n                        <Paper className={classes.breadcrumbsInner} elevation={1}>\r\n                            <Typography className={classes.baseColor} color=\"inherit\"\r\n                                        variant=\"h4\">Navigation</Typography>\r\n                            <Breadcrumbs aria-label=\"breadcrumb\">\r\n\r\n                                <Link color=\"inherit\" href=\"/\">\r\n                                    <Typography color=\"textPrimary\">Dashboard</Typography>\r\n                                </Link>\r\n\r\n                                <Link color=\"inherit\" onClick={(e) => {\r\n                                    history.goBack()\r\n                                }}>\r\n                                    <Typography color=\"textPrimary\">Entity</Typography>\r\n                                </Link>\r\n                                <Typography color=\"textPrimary\">Add Document</Typography>\r\n                            </Breadcrumbs>\r\n                        </Paper>\r\n                    </div>\r\n\r\n                    <Paper className={classes.paper} elevation={3}>\r\n                        {successMessage !== ' ' ? (\r\n                            <MySnackbarContentWrapper\r\n                                onClose={() => {\r\n                                    removeSuccess()\r\n                                }}\r\n                                variant=\"success\"\r\n                                message={successMessage}\r\n                            />\r\n                        ) : ''}\r\n\r\n\r\n                        {errorMessage !== ' ' ? (\r\n                            <MySnackbarContentWrapper\r\n                                onClose={() => {\r\n                                    removeErrorMessage()\r\n                                }}\r\n                                variant=\"error\"\r\n                                message={errorMessage}\r\n                            />\r\n                        ) : ''}\r\n                        <div className=\"row\">\r\n                            <form className={classes.formStyle} onSubmit={handleOnSubmit} noValidate\r\n                                  autoComplete=\"off\">\r\n                                <FormGroup row>\r\n                                    <div className={'col-md-6'}>\r\n                                        <CustomFileInput\r\n                                            disabled={loading}\r\n                                            required\r\n                                            id=\"attachment\"\r\n                                            value={inputFiling.value.File}\r\n                                            onChange={e => fileChange(e)}\r\n                                            label=\"Document\"\r\n                                            className={clsx(classes.fileUploading, classes.dense)}\r\n                                            margin=\"dense\"\r\n                                            invalid={inputFiling.error !== ' '}\r\n                                            valid={inputFiling.success !== ' '}\r\n                                        />\r\n                                        <span\r\n                                            className={classes.uploadCustom}>{inputFiling.success !== ' ' ? inputFiling.success : ' '}</span>\r\n                                        {inputFiling.error !== ' ' ? <span\r\n                                            className={'error'}>{inputFiling.error !== ' ' ? inputFiling.error : ' '}</span> : ''}\r\n                                    </div>\r\n\r\n                                    <div className={'col-md-12'}>\r\n                                        <div className={clsx(classes.submitButton, 'custom-button-wrapper')}>\r\n                                            {loading ? (\r\n                                                    <div className={clsx(classes.loader)}>\r\n                                                        <FacebookProgress/>\r\n                                                    </div>)\r\n                                                : null}\r\n\r\n                                            <input disabled={loading}\r\n                                                   className={clsx('btn btn-primary', classes.restButton)}\r\n                                                   type=\"submit\" value=\"Add Document\"/>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </FormGroup>\r\n                            </form>\r\n                        </div>\r\n\r\n                    </Paper>\r\n                </>\r\n\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default withOktaAuth(AddAttachmentForm);\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Particles from \"react-particles-js\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nimport Footer from \"../layout/Footer\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    privacyBody: {\r\n        padding: 20\r\n    },\r\n    privacyLogo: {\r\n        textAlign: 'center',\r\n        marginBottom: 50,\r\n    }\r\n\r\n\r\n}));\r\n\r\n\r\nfunction Privacy(props) {\r\n    const classes = useStyles();\r\n    const today = new Date().getFullYear();\r\n\r\n    return (\r\n        <>\r\n            <div className={'paperContainerPrivacy'}>\r\n                <Container component=\"main\">\r\n\r\n                    <Grid container>\r\n                        <Grid item xs={12}>\r\n                            <Paper className={classes.privacyBody}>\r\n                                <div className={classes.privacyLogo}>\r\n                                    <Link to=\"/\">\r\n                                        <img\r\n                                            alt=\"Logo\"\r\n                                            src=\"/media/agentadmin/logo/aa_full.png\"\r\n                                        />\r\n                                    </Link>\r\n                                </div>\r\n                                <div>\r\n                                    <h2>Privacy and Cookies Policy</h2>\r\n                                    <p>\r\n                                        <strong>United Agent Services, LLC (“UAS,” “we,” “us,” “our,” or the “Company”)\r\n                                            is committed\r\n                                            to\r\n                                            protecting the privacy of anyone who visits our websites or registers to use\r\n                                            our\r\n                                            services or\r\n                                            to attend our events.</strong>\r\n                                    </p>\r\n                                    <h4>Your Consent</h4>\r\n                                    <p>Use of this site constitutes your consent to the terms of this Notice and the\r\n                                        application of\r\n                                        any applicable laws and regulations. Whenever you submit personal data and\r\n                                        information via\r\n                                        this site, you consent to the collection, use, and disclosure of that data and\r\n                                        information\r\n                                        in accordance with this Notice.</p>\r\n                                    <h4>Collection of Information</h4>\r\n                                    <p>Like many web sites, this site actively collects information from its visitors\r\n                                        both by asking\r\n                                        you specific questions when you interact with us (such as registering on our\r\n                                        websites,\r\n                                        signing up to receive information from us, or making a purchase) and by\r\n                                        permitting you to\r\n                                        communicate directly with us via e-mail. Some of the information that you submit\r\n                                        may be\r\n                                        personal data or information, that is: information relating to an identified or\r\n                                        identifiable\r\n                                        natural person. Information collected may include your name, username, mailing\r\n                                        address,\r\n                                        email address or other information which you provide to us so that we may\r\n                                        communicate with\r\n                                        you.\r\n                                        Our websites will gather information such as what kind of browser you are on,\r\n                                        what operating\r\n                                        system you are using, your IP address, cookie information, time stamp (time page\r\n                                        accessed as\r\n                                        well as time spent per web page) and your clickstream information (for example,\r\n                                        which pages\r\n                                        you have viewed and how long you have been there). Note that information is only\r\n                                        gathered\r\n                                        while you are on the website.\r\n                                        In compliance with the United States Children's Online Privacy Protection Act\r\n                                        (COPPA), we do\r\n                                        not seek information from children 13 and under.\r\n                                        Use of Personal Information</p>\r\n                                    <p>We will use and process your personal data lawfully, fairly and in a transparent\r\n                                        manner. We\r\n                                        will collect and use your personal data solely for the specified and legitimate\r\n                                        purposes\r\n                                        stated in this Notice. Except as otherwise stated, we may use your information\r\n                                        to improve\r\n                                        the content of our site, to customize the site to your preferences, to\r\n                                        communicate\r\n                                        information to you (if you have requested it), for our marketing and research\r\n                                        purposes, for\r\n                                        the fulfillment of services and related activities, and account management. </p>\r\n                                    <p>We use your personal information to:\r\n                                        <ul>\r\n                                            <li>Set up your account and verify your identity</li>\r\n                                            <li>Provide products or services and related activities you requested</li>\r\n                                            <li>Provide direct and digital marketing communications via email, direct\r\n                                                mail and\r\n                                                telephone communication or through personalized online experiences\r\n                                            </li>\r\n                                            <li>Provide better customer service when you contact us</li>\r\n                                            <li>Improve the quality, content and overall user experience of this site\r\n                                            </li>\r\n                                            <li>Administer surveys, contests and other promotional events</li>\r\n                                            <li>Address other business needs such as website administration, security\r\n                                                and fraud\r\n                                                prevention, legal compliance and business continuity\r\n                                            </li>\r\n                                        </ul>\r\n                                    </p>\r\n                                    <h4>Sharing of Information with Third Parties</h4>\r\n                                    <p>We understand that you do not want us to sell, rent or lease your personal\r\n                                        information to\r\n                                        third\r\n                                        parties without your consent and we only share your personal information with\r\n                                        third parties\r\n                                        in\r\n                                        certain situations. Examples of situations where we may share your personal\r\n                                        information with\r\n                                        third parties include:</p>\r\n                                    <ul>\r\n                                        <li>Sharing personal information with our service providers who provide services\r\n                                            on our\r\n                                            behalf on\r\n                                            the condition that they are permitted to use that information solely in\r\n                                            accordance with\r\n                                            our\r\n                                            instructions to provide requested services\r\n                                        </li>\r\n                                        <li>Sharing personal information with our business partners, but only to the\r\n                                            extent you have\r\n                                            purchased or expressed an interest in a product or service of such business\r\n                                            partner or\r\n                                            interacted with or otherwise authorized the sharing of your personal\r\n                                            information with\r\n                                            such\r\n                                            business partner\r\n                                        </li>\r\n                                        <li>Sharing personal information with a third-party service provider to conduct\r\n                                            our\r\n                                            contests,\r\n                                            surveys, or promotions, but only for the limited purpose of administering\r\n                                            such contests,\r\n                                            surveys\r\n                                            or promotions\r\n                                        </li>\r\n                                        <li>Transferring personal information to a purchaser or successor entity in the\r\n                                            event of a\r\n                                            sale or\r\n                                            other corporate transaction involving some or all of our business or as\r\n                                            needed to affect\r\n                                            the\r\n                                            sale or transfer of business assets, or as needed for external audit,\r\n                                            compliance or\r\n                                            corporate\r\n                                            governance related matters\r\n                                        </li>\r\n                                        <li>Disclosing information (i) as required by applicable law, court orders,\r\n                                            government\r\n                                            regulators\r\n                                            or legal process (including subpoenas); (ii) as necessary to protect the\r\n                                            rights or\r\n                                            property of\r\n                                            United Agent Services, LLC or this site; or (iii) in exigent circumstances\r\n                                            to protect\r\n                                            the\r\n                                            personal safety of users of the site or other members of the public\r\n                                            We also share your personal information with our affiliates for the purposes\r\n                                            set forth\r\n                                            in this\r\n                                            Notice.\r\n                                        </li>\r\n                                    </ul>\r\n\r\n\r\n                                    <h5>Use of Cookies</h5>\r\n                                    <p> Our websites use \"cookies\". A cookie is a small text file that is stored on your\r\n                                        computer,\r\n                                        tablet, or smartphone when you visit a website that helps the site remember\r\n                                        information\r\n                                        about\r\n                                        you and your preferences.\r\n                                        You can find more information about the type of cookies we use and the purposes\r\n                                        for which we\r\n                                        use\r\n                                        them below:</p>\r\n                                    <ul>\r\n                                        <li>How we use Cookies on our Websites and what Information we collect.</li>\r\n                                    </ul>\r\n                                    <h5>Session Cookies</h5>\r\n                                    <p>We use session cookies for the following purposes:</p>\r\n                                    <ul>\r\n                                        <li>To control access to paid for subscription content</li>\r\n                                        <li>To allow you to carry information across pages of our website and avoid\r\n                                            having to\r\n                                            re-enter\r\n                                        </li>\r\n                                    </ul>\r\n                                    <h5>information</h5>\r\n                                    <ul>\r\n                                        <li>To allow you to access stored information for future use, such as\r\n                                            registration\r\n                                        </li>\r\n                                        <li>To compile anonymous, aggregated statistics that allow us to understand how\r\n                                            users use\r\n                                            our\r\n                                            website and to help us improve the structure of our website\r\n                                        </li>\r\n                                    </ul>\r\n                                    <h5>Persistent Cookies</h5>\r\n                                    <p>We use persistent cookies for the following purposes:</p>\r\n                                    <ul>\r\n                                        <li>To control access to paid for subscription content</li>\r\n                                        <li>To help us recognize you as a unique visitor (just a number) when you return\r\n                                            to our\r\n                                            website\r\n                                            and to allow us to tailor content to match your preferred interests\r\n                                        </li>\r\n                                        <li>To compile anonymous, aggregated statistics that allow us to understand how\r\n                                            users use\r\n                                            our\r\n                                            website and to help us improve the structure of our website\r\n                                        </li>\r\n                                        <li>To internally identify you by account name, email address, customer ID, and\r\n                                            location\r\n                                            (geographic and computer ID/IP address)\r\n                                        </li>\r\n                                        <li>To tailor content to your preferences</li>\r\n\r\n                                    </ul>\r\n                                    <h5>Third Party Cookies</h5>\r\n                                    <p>Third parties serve cookies via our websites. These are used for the following\r\n                                        purposes:</p>\r\n                                    <ul>\r\n                                        <li>To serve content on websites and track whether this content is clicked on by\r\n                                            users\r\n                                        </li>\r\n                                        <li>To control how often you are shown particular content</li>\r\n                                        <li>To count the number of anonymous users of our websites</li>\r\n                                        <li>For website usage analysis</li>\r\n                                        <li>To link the information we store in cookies to any personally identifiable\r\n                                            information\r\n                                            you\r\n                                            submit while on our websites\r\n                                        </li>\r\n                                    </ul>\r\n                                    <h4>Links to Other Websites</h4>\r\n                                    <p>This site may contain links or references to other web sites. Please be aware\r\n                                        that we do not\r\n                                        control other web sites and, except as otherwise noted in the applicable\r\n                                        website, this\r\n                                        Notice\r\n                                        does not apply to those websites and we are not responsible for the security or\r\n                                        privacy of\r\n                                        any\r\n                                        information collected by these third parties.</p>\r\n\r\n                                    <h4>Share; Social Media Features; Email a Friend Functions; Public Forums</h4>\r\n                                    <p>We offers certain “share”, “social media” functionality on some of our websites.\r\n                                        If you\r\n                                        choose\r\n                                        to use these functions, we may and/or the third party social media network may\r\n                                        collect\r\n                                        certain\r\n                                        information about you depending on the function or feature you use. We use this\r\n                                        information\r\n                                        for\r\n                                        the sole purpose of sending this one-time email and we do not retain the\r\n                                        information. With\r\n                                        respect to the social media features (such as allowing you to post information\r\n                                        about your\r\n                                        activities or share your information with others on a social media site), the\r\n                                        collection and\r\n                                        use\r\n                                        of information by and your interactions with the third party social media\r\n                                        network will be\r\n                                        governed by the privacy policy of the company providing those social media\r\n                                        features. We are\r\n                                        not\r\n                                        responsible for the security or privacy of any information collected by these\r\n                                        third\r\n                                        parties.</p>\r\n\r\n                                    <h4>Storage in Marketing and Customer Relationship Software Applications</h4>\r\n                                    <p>Regardless of your consent to be contacted for direct marketing purposes, your\r\n                                        personally\r\n                                        identifiable data will be held in our marketing automation software and customer\r\n                                        relationship\r\n                                        management software for the purposes outlined above, and to properly track\r\n                                        compliance, such\r\n                                        as\r\n                                        previous consent or opt-ins, as well as your company’s relationship history with\r\n                                        us.</p>\r\n\r\n                                    <h4>Security</h4>\r\n                                    <p>We have implemented reasonable technical and organizational measures that are\r\n                                        designed to\r\n                                        prevent unauthorized access, unlawful processing and unauthorized or accidental\r\n                                        loss,\r\n                                        destruction or damage to your personal data on its servers. </p>\r\n\r\n                                    <h4>Access and Correction; Your Rights</h4>\r\n                                    <p> In some jurisdictions, you are entitled to request access to and correction of\r\n                                        your personal\r\n                                        information and, to the extent available under applicable law, you are also\r\n                                        entitled to\r\n                                        request\r\n                                        the deletion of personal data and to restrict or object to processing. Any\r\n                                        requests for\r\n                                        access\r\n                                        to or correction or deletion of your personal data, should be directed to the\r\n                                        contact person\r\n                                        listed under \"Contact Information\" below. Note that we may ask additional\r\n                                        information from\r\n                                        you,\r\n                                        to confirm your identity, as we take the protection of your personal data\r\n                                        seriously. In some\r\n                                        cases, if you have an online account with us, you may be able to log into your\r\n                                        account at\r\n                                        any\r\n                                        time to access and update the information you have provided to us.</p>\r\n                                    <p> Furthermore, you have a right of access to the personal data that you have\r\n                                        provided in a\r\n                                        structured, commonly used and machine-readable format (portability), subject to\r\n                                        a fee\r\n                                        (except\r\n                                        where it is not permissible under applicable law).</p>\r\n                                    <p>You have the ability and the right to limit the information you share with us and\r\n                                        the\r\n                                        communications we send to you. When you opt-in to receive communications from\r\n                                        us, you are\r\n                                        giving\r\n                                        your consent for your information to be used for us to contact you by email,\r\n                                        direct mail and\r\n                                        telephone, and to deliver personalized website experiences, to share information\r\n                                        about\r\n                                        relevant\r\n                                        products, services, best practice information, industry news and events. You can\r\n                                        amend your\r\n                                        communication preferences, or opt-out completely.</p>\r\n\r\n\r\n                                    <h4>International Data Transfers</h4>\r\n                                    <p>We store and process your personal data in various countries worldwide including\r\n                                        the United\r\n                                        States. We may transfer and access such information from around the world,\r\n                                        including the\r\n                                        United\r\n                                        States and other countries in which we have operations or in which our hosted\r\n                                        service\r\n                                        providers’\r\n                                        cloud servers are located. By providing us with your personal data, you consent\r\n                                        to this\r\n                                        transfer. Your data shall be protected in accordance with this Notice regardless\r\n                                        of where it\r\n                                        is\r\n                                        processed or stored.</p>\r\n\r\n                                    <p>The following applies to data transfers outside the European Economic Area\r\n                                        (“EEA): While\r\n                                        using\r\n                                        or otherwise processing your personal data for the purposes set out in this\r\n                                        Notice, we may\r\n                                        transfer your personal data to countries outside of the EEA. Whenever such\r\n                                        transfer occurs,\r\n                                        it\r\n                                        will be based on the Standard Contractual Clauses (according to EU Commission\r\n                                        Decision\r\n                                        87/2010/EC or any future replacement) signed by the recipient of such personal\r\n                                        data in\r\n                                        accordance with applicable law.</p>\r\n\r\n                                    <h4>Changes to This Privacy Policy</h4>\r\n                                    <p>We may revise this Notice. You agree to be bound by any such revisions and should\r\n                                        therefore\r\n                                        periodically visit this page to determine the current terms to which you are\r\n                                        bound. This\r\n                                        Notice\r\n                                        has been amended for the last time on May 11th 2020.</p>\r\n\r\n                                    <h4>Contact Information</h4>\r\n                                    <p>If you have any questions, comments or concerns about this Policy, you may\r\n                                        contact us at by\r\n                                        phone at (302) 467-3700 between 9am and 4pm ET or via email to\r\n                                        privacy@unitedagentservices.com.</p>\r\n                                    <h4>Disclosures</h4>\r\n                                    <p>If we are required by law or legal process, we will disclose or provide access to\r\n                                        your PII or\r\n                                        Business Information to such government or judicial authority as specified by\r\n                                        such law or\r\n                                        legal\r\n                                        process.</p>\r\n                                    <h4>Options</h4>\r\n                                    <p>Upon request we will provide customers with access to their own records.\r\n                                        Customers can access\r\n                                        and correct their PII or Business Information by emailing us Monday – Friday 9am\r\n                                        to 4pm ET\r\n                                        at\r\n                                        privacy@unitedagentservices.com, using the username and phone number provided\r\n                                        during\r\n                                        ordering.</p>\r\n\r\n                                    <h4>California Privacy Rights</h4>\r\n                                    <p>California Civil Code Section 1798.83 permits customers of United Agent Services,\r\n                                        LLC who are\r\n                                        California residents to request certain information regarding the disclosure of\r\n                                        any personal\r\n                                        information, including PII and Business Information, to third parties for their\r\n                                        direct\r\n                                        marketing\r\n                                        purposes. To make such a request, please send an email at\r\n                                        privacy@unitedagentservices.com</p>\r\n\r\n                                    <h4>Additional Information for California Residents</h4>\r\n                                    <p>In addition to the information provided in this privacy policy, additional\r\n                                        information for\r\n                                        California residents can be found below.</p>\r\n\r\n                                    <p>Pursuant to California law, we are providing additional information to California\r\n                                        residents.\r\n                                        Under California law, certain organizations need to disclose whether the\r\n                                        following\r\n                                        categories of\r\n                                        “personal information” are collected or disclosed for an organization’s\r\n                                        “business purpose”\r\n                                        as\r\n                                        those terms are defined under California law. Below please find the categories\r\n                                        of personal\r\n                                        information about California residents that we collect or disclose to third\r\n                                        parties or\r\n                                        service\r\n                                        providers. Note that while a category may be marked that does not necessarily\r\n                                        mean that we\r\n                                        have\r\n                                        information in that category about you. For example, while we collect credit\r\n                                        card numbers\r\n                                        for\r\n                                        customers who purchase our products, we do not collect or transfer credit card\r\n                                        numbers of\r\n                                        individuals that submit questions on our website’s “contact us” page. We do not\r\n                                        sell\r\n                                        personal\r\n                                        information.</p>\r\n\r\n                                    <h4>Personal Information</h4>\r\n                                    <p>Information is Collected By Us and Disclosed for Business Purposes</p>\r\n                                    <ul>\r\n                                        <li>Audio, electronic, visual, thermal, olfactory, physical characteristics or\r\n                                            similar\r\n                                        </li>\r\n                                        <li>Credit or debit card number, bank account number or other financial\r\n                                            information\r\n                                        </li>\r\n                                        <li>Commercial or transactional information (e.g., products or services\r\n                                            purchased, or\r\n                                            other purchasing or consuming histories or tendencies)\r\n                                        </li>\r\n\r\n                                        <li>Electronic network activity (e.g., browsing history)</li>\r\n                                        <li>Contact information (e.g., name or alias, postal address, email address,\r\n                                            telephone\r\n                                            number,\r\n                                            signature)\r\n                                        </li>\r\n                                        <li>Online identifier (e.g. IP address)</li>\r\n                                    </ul>\r\n                                    <h4>Information is Collected By Us but Not Disclosed for Business Purposes</h4>\r\n                                    <ul>\r\n                                        <li> Social Security Number, Driver’s License Number, State ID, Passport Number,\r\n                                            Insurance Policy\r\n                                        </li>\r\n                                    </ul>\r\n                                    <h5>Number or Signature</h5>\r\n                                    <p>Information is Not Collected By Us and Information is Not Disclosed for Business\r\n                                        Purposes</p>\r\n                                    <ul>\r\n                                        <li>Biometric information</li>\r\n                                        <li>Characteristics of protected classifications (e.g., age, sex, race,\r\n                                            ethnicity,\r\n                                            physical or\r\n                                            mental handicap, etc.)\r\n                                        </li>\r\n                                        <li>Professional, employment, employment history or education information\r\n                                            • Geolocation data\r\n                                        </li>\r\n                                        <li>Medical or health information not covered by HIPAA or health insurance\r\n                                            information\r\n                                        </li>\r\n                                    </ul>\r\n                                    <p><strong>We and our third-party service providers may collect the above categories\r\n                                        of\r\n                                        personal\r\n                                        information from the following sources:</strong></p>\r\n                                    <ul>\r\n                                        <li>Direct Interactions, such as, when you register for our services or make a\r\n                                            purchase\r\n                                        </li>\r\n                                        <li>Data from Third Parties, such as, information on third-party websites or\r\n                                            other\r\n                                            information you\r\n                                            may have made publicly available or information provided by third-party\r\n                                            sources,\r\n                                            including but\r\n                                            not limited to government entities and data resellers\r\n                                        </li>\r\n                                        <li> Automated Tracking Technologies, such as, information automatically\r\n                                            collected\r\n                                            about\r\n                                            your\r\n                                            interaction with our services and websites using various technologies such\r\n                                            as\r\n                                            cookies,\r\n                                            web logs\r\n                                            and beacons and internet tags.\r\n                                        </li>\r\n                                    </ul>\r\n                                    <p>Depending on how you interact with us and our services, we may use and disclose\r\n                                        the\r\n                                        above\r\n                                        categories of personal information for the following purposes:</p>\r\n                                    <ul>\r\n                                        <li>Administering our relationship with you and our business, such as, providing\r\n                                            and\r\n                                            managing your\r\n                                            access to and use of our services.\r\n                                        </li>\r\n                                        <li>Improving our Services, such as inviting you to participate in surveys or to\r\n                                            personalize your\r\n                                            experience with our services.\r\n                                        </li>\r\n                                        <li>Marketing, such as registering your opt-in to receive marketing\r\n                                            communications\r\n                                            when\r\n                                            applicable.\r\n                                        </li>\r\n                                        <li>Other general business support purposes, including but not limited to,\r\n                                            procurement,\r\n                                            financial\r\n                                            and fiscal management, risk and compliance management, and external\r\n                                            reporting.\r\n                                        </li>\r\n                                    </ul>\r\n                                    <p><strong>We may share the above categories of personal information to the\r\n                                        following third\r\n                                        parties:</strong></p>\r\n                                    <ul>\r\n                                        <li>other United Agent Services affiliates or subsidiaries, e.g. for providing\r\n                                            underpinning\r\n                                            technology to support the services we deliver;\r\n                                        </li>\r\n                                        <li>our service providers, e.g. for managing or hosting services and/or\r\n                                            underpinning\r\n                                            technology\r\n                                            for the services we provide;\r\n                                        </li>\r\n                                        <li>our business partners, to the extent you have purchased or expressed\r\n                                            interest in, a\r\n                                            product or\r\n                                            service of such business partner, interacted with them or otherwise\r\n                                            authorized the\r\n                                            sharing of\r\n                                            your personal information with such business partner;\r\n                                        </li>\r\n                                        <li>subscribing, accrediting or professional organizations, e.g. for providing\r\n                                            utilization\r\n                                            information to organizations that provide you with access to our services\r\n                                            and/or sharing\r\n                                            tracking and redeeming credits for professional accreditation;\r\n                                        </li>\r\n                                        <li>organizations involved in business transfers, e.g.to a purchaser or\r\n                                            successor entity\r\n                                            in the\r\n                                            event of a sale or any other corporate transaction involving some or all of\r\n                                            our\r\n                                            business;\r\n                                        </li>\r\n                                        <li>other parties, e.g. as needed for external audit, compliance, risk\r\n                                            management,\r\n                                            corporate\r\n                                            development and/or corporate governance related matters; or\r\n                                        </li>\r\n                                        <li>governmental authorities and regulators, as required under applicable law.\r\n                                        </li>\r\n                                    </ul>\r\n                                    <h4>Exercising Rights to Request Access and Request Deletion</h4>\r\n                                    <p>Subject to certain exceptions, California residents have the right to request\r\n                                        access,\r\n                                        deletion\r\n                                        and portability of their personal information as further described in the\r\n                                        Privacy & Cookie\r\n                                        Notice. If you would like to submit a request or have additional questions about\r\n                                        the\r\n                                        personal\r\n                                        information that we have about you, please contact us by contacting us at\r\n                                        privacy@unitedagentservices.com.</p>\r\n\r\n                                    <p>When you submit your request, we will take steps to attempt to verify your\r\n                                        identity. We will\r\n                                        seek to match the information in your request to the personal information we\r\n                                        maintain about\r\n                                        you.\r\n                                        As part of our verification process, we may ask you to submit additional\r\n                                        information, use\r\n                                        identity verification services to assist us, or if you have set up an account on\r\n                                        our\r\n                                        website, we\r\n                                        may ask you to sign in to your account as part of our identity verification\r\n                                        process. Please\r\n                                        understand that, depending on the type of request you submit, to protect the\r\n                                        privacy and\r\n                                        security of your personal information, we will only complete your request when\r\n                                        we are\r\n                                        satisfied\r\n                                        that we have verified your identity to a reasonable degree of certainty.</p>\r\n\r\n                                    <p>We do not discriminate against individuals who exercise their rights under\r\n                                        applicable law.\r\n                                        If we receive a request from an authorized agent, we have the right to verify\r\n                                        with the data\r\n                                        subject that the data subject indeed wants to take the action requested by the\r\n                                        agent and\r\n                                        will do\r\n                                        so by contacting the data subject directly.</p>\r\n\r\n\r\n                                </div>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Box>\r\n                        <div className=\"privacy-policy-footer\">\r\n                            <Footer/>\r\n                        </div>\r\n                    </Box>\r\n                </Container>\r\n\r\n            </div>\r\n\r\n\r\n        </>);\r\n}\r\n\r\nexport default Privacy;\r\n\r\n\r\n","import { Grid, MuiThemeProvider, Button } from \"@material-ui/core\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport React, { Component } from \"react\";\r\nimport MaterialTable from 'material-table';\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nlet direction = \"ltr\";\r\n// direction = 'rtl';\r\nconst theme = createMuiTheme({\r\n    direction: direction,\r\n    palette: {\r\n        type: \"light\",\r\n    },\r\n});\r\n\r\nconst bigData = [];\r\nfor (let i = 0; i < 1; i++) {\r\n    const d = {\r\n        id: i + 1,\r\n        name: \"Name\" + i,\r\n        surname: \"Surname\" + Math.round(i / 10),\r\n        isMarried: i % 2 ? true : false,\r\n        birthDate: new Date(1987, 1, 1),\r\n        birthCity: 0,\r\n        sex: i % 2 ? \"Male\" : \"Female\",\r\n        type: \"adult\",\r\n        insertDateTime: new Date(2018, 1, 1, 12, 23, 44),\r\n        time: new Date(1900, 1, 1, 14, 23, 35),\r\n    };\r\n    bigData.push(d);\r\n}\r\n\r\nfunction ExampleTable() {\r\n    return (\r\n        <MaterialTable\r\n            title=\"Basic Tree Data Preview\"\r\n            data={[\r\n                {\r\n                    id: 7,\r\n                    name: 'g',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 34,\r\n                    sex: 'Female',\r\n                    type: 'child',\r\n                    parentId: 3,\r\n                },\r\n                {\r\n                    id: 5,\r\n                    name: 'e',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 34,\r\n                    sex: 'Female',\r\n                    type: 'child',\r\n                },\r\n                {\r\n                    id: 1,\r\n                    name: 'a',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 63,\r\n                    sex: 'Male',\r\n                    type: 'adult',\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: 'b',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 34,\r\n                    sex: 'Female',\r\n                    type: 'adult',\r\n                    parentId: 1,\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: 'c',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 34,\r\n                    sex: 'Female',\r\n                    type: 'child',\r\n                    parentId: 1,\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: 'omer',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 34,\r\n                    sex: 'Female',\r\n                    type: 'child',\r\n                    parentId: 3,\r\n                },\r\n                {\r\n                    id: 6,\r\n                    name: 'f',\r\n                    surname: 'Baran',\r\n                    birthYear: 1987,\r\n                    birthCity: 34,\r\n                    sex: 'Female',\r\n                    type: 'child',\r\n                    parentId: 5,\r\n                },\r\n            ]}\r\n            columns={[\r\n                { title: 'Adı', field: 'name' },\r\n                { title: 'Soyadı', field: 'surname' },\r\n                { title: 'Cinsiyet', field: 'sex' },\r\n                { title: 'Tipi', field: 'type', removable: false },\r\n                { title: 'Doğum Yılı', field: 'birthYear', type: 'numeric' },\r\n                {\r\n                    title: 'Doğum Yeri',\r\n                    field: 'birthCity',\r\n                    lookup: { 34: 'İstanbul', 63: 'Şanlıurfa' },\r\n                },\r\n            ]}\r\n            parentChildData={(row, rows) => rows.find(a => a.id === row.parentId)}\r\n            options={{\r\n                // selection: true,\r\n                // searchAutoFocus: true,\r\n                search:true\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\n\r\nexport default ExampleTable;\r\n","import React, {useContext, useEffect} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport clsx from 'clsx';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {withOktaAuth} from '@okta/okta-react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {amber, green} from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {EntityList, lorexFileUpload} from \"../api/enitity.crud\";\r\nimport {attachFiles} from \"../api/attachment\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Layout from \"../layout/Layout\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport {DropzoneArea} from 'material-ui-dropzone';\r\nimport {AttachFile, Description, PictureAsPdf, Theaters} from '@material-ui/icons';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Box from '@material-ui/core/Box';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst handlePreviewIcon = (fileObject, classes) => {\r\n    const {type} = fileObject.file\r\n    const iconProps = {\r\n        className: classes.image,\r\n    }\r\n\r\n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\r\n\r\n\r\n    switch (type) {\r\n        case \"application/msword\":\r\n        case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\r\n            return <Description {...iconProps} />\r\n        case \"application/pdf\":\r\n            return <PictureAsPdf {...iconProps} />\r\n        default:\r\n            return <AttachFile {...iconProps} />\r\n    }\r\n}\r\nconst useStylesFacebook = makeStyles({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    top: {\r\n        color: '#eef3fd',\r\n    },\r\n    bottom: {\r\n        color: '#6798e5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n    textField: {\r\n// marginLeft: theme.spacing(1),\r\n// marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldOther: {\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldCity: {\r\n\r\n        marginTop: 3,\r\n    },\r\n\r\n\r\n    textFieldtwofield: {\r\n// marginLeft: theme.spacing(1),\r\n// marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n\r\n    selectField: {\r\n// marginLeft: theme.spacing(1),\r\n// marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        marginTop: 16,\r\n    },\r\n    dense: {\r\n        marginTop: 16,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    checkbox: {\r\n        marginTop: 30\r\n    },\r\n\r\n    fileUploading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n        width: '100%',\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    formStyle: {\r\n        width: '100%'\r\n    },\r\n    paper: {\r\n        paddingTop: 30,\r\n        paddingBottom: 30,\r\n        paddingLeft: 10,\r\n        paddingRight: 10\r\n    },\r\n    breadcrumbsDiv: {\r\n        marginBottom: 30\r\n    },\r\n    breadcrumbsInner: {\r\n        padding: 10\r\n    },\r\n\r\n    baseColor: {\r\n        color: '#48465b'\r\n    },\r\n\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n\r\n\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles();\r\n    const {className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n\r\n            elevation={6} variant=\"filled\"\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n                    <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n                </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n}\r\n\r\nconst AdminAddAttachmentForm = (props) => {\r\n\r\n    const {loading, addTitle, addError, role} = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n\r\n    const [apiLoading, setApiLoading] = React.useState(false);\r\n    // const [error, setError] = React.useState(false);\r\n    const [inputFileName, setInputFileName] = React.useState({value: '', error: ' '});\r\n    const [inputFiling, setInputFiling] = React.useState({value: '', error: ' ', success: ' '});\r\n    const [inputFileSize, setInputFileSize] = React.useState({value: '', error: ' ', success: ' '});\r\n    const [successMessage, setSuccessMessage] = React.useState(' ');\r\n    const [errorMessage, setErrorMessage] = React.useState(' ');\r\n    const [files, setFiles] = React.useState([]);\r\n    const [fileProgress, setFileProgress] = React.useState(0);\r\n    const [state, setState] = React.useState({counter: 0});\r\n    const [entityId, setEntityId] = React.useState({value: '', error: ' '});\r\n    const [entityList, setEntityList] = React.useState([]);\r\n    const [key, setKey] = React.useState(0);\r\n    var fileIndex = 0;\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            addTitle('Bulk Attachments');\r\n            entitylisitingLoader();\r\n        }\r\n    }, [loading]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (state.counter === files.length) {\r\n            if (files.length > 0) {\r\n                setSuccessMessage('Uploaded Successfully');\r\n                setApiLoading(false);\r\n                setState({counter: 0});\r\n                reset();\r\n            }\r\n\r\n        }\r\n    }, [state]);\r\n\r\n    const reset = () => {\r\n        setFiles([]);\r\n        fileIndex = 0;\r\n        setKey(Math.floor((Math.random() * 10) + 1));\r\n    }\r\n    const entitylisitingLoader = async () => {\r\n        setApiLoading(true);\r\n        var EntityListLocal = await JSON.parse(localStorage.getItem(\"EntityList\") !== 'undefined' ? localStorage.getItem(\"EntityList\") : '');\r\n        if (EntityListLocal !== 'undefined' && EntityListLocal) {\r\n            setEntityList(EntityListLocal);\r\n            setApiLoading(false);\r\n        } else {\r\n            const response = await EntityList();\r\n\r\n            if (response.error) {\r\n                addError(response.error.message);\r\n            }\r\n\r\n            if (response.type === 'error') {\r\n                window.location.reload();\r\n            }\r\n\r\n            if (response.status === 401) {\r\n                window.location.reload();\r\n            }\r\n\r\n\r\n            localStorage.setItem(\"EntityList\", JSON.stringify(response.data));\r\n            await setEntityList(response.data);\r\n            setApiLoading(false);\r\n        }\r\n    }\r\n\r\n    function FacebookProgress(props) {\r\n        const classes = useStylesFacebook();\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <CircularProgress\r\n\r\n                    variant=\"determinate\"\r\n                    value={100}\r\n                    className={classes.top}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n                <CircularProgress\r\n                    variant=\"indeterminate\"\r\n                    disableShrink\r\n                    className={classes.bottom}\r\n                    size={24}\r\n                    thickness={4}\r\n                    {...props}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const handleChange = (files) => {\r\n        setFiles(files);\r\n    }\r\n\r\n\r\n    const handleOnSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setApiLoading(true);\r\n\r\n        if (files.length === 0) {\r\n            setErrorMessage('File is required');\r\n            setApiLoading(false);\r\n        } else {\r\n            setErrorMessage(' ');\r\n        }\r\n\r\n        if (entityId.value === '') {\r\n            setEntityId({...entityId, error: 'Entity field is required'});\r\n            setApiLoading(false);\r\n        } else {\r\n            setEntityId({...entityId, error: ' '})\r\n        }\r\n\r\n        files.map(async (anObjectMapped, index) => {\r\n            let formData = new FormData();\r\n            formData.append('file', anObjectMapped);\r\n            const response = await lorexFileUpload(formData);\r\n            if (response.error === false) {\r\n                fileIndex = fileIndex + 1;\r\n\r\n\r\n                formData.append('entityId', entityId.value);\r\n                formData.append('inputFileId', response.record_id);\r\n                formData.append('inputFileName', anObjectMapped.name);\r\n                formData.append('inputFileSize', response.file_size);\r\n                formData.append('bulkUpload', fileIndex);\r\n                formData.append('totalBulkUpload', files.length);\r\n\r\n                try {\r\n                    const response = await attachFiles(formData);\r\n                    if (response) {\r\n                        if (response.status === true) {\r\n                            setState((prevState, props) => {\r\n                                return {counter: prevState.counter + 1};\r\n                            });\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    addError('Something went wrong with Attchemnt API.');\r\n                    setErrorMessage('Something went wrong with Attchemnt API.');\r\n                }\r\n            }\r\n\r\n            if (response.error === true) {\r\n                addError(response.message);\r\n            }\r\n\r\n        })\r\n\r\n\r\n        // setLoading(true);\r\n        // let formData = new FormData();\r\n        // console.log(files);\r\n// console.log(inputFormationDate.value);\r\n\r\n// Display the key/value pairs\r\n//         if (attributes.organization) {\r\n//             formData.append('entityId', props.match.params.id ? props.match.params.id : attributes.organization);\r\n//         }\r\n//         formData.append('inputFileId', inputFiling.value);\r\n//         formData.append('inputFileName', inputFileName.value);\r\n//         formData.append('inputFileSize', inputFileSize.value);\r\n\r\n        // try {\r\n        //     const response = await attachFiles(formData);\r\n        //     if (response) {\r\n        //         if (response.status === true) {\r\n        //             setSuccessMessage(response.message);\r\n        //             setLoading(false);\r\n        //         }\r\n        //     }\r\n        // } catch (e) {\r\n        //     addError('Something went wrong with Attchemnt API.');\r\n        //     setErrorMessage('Something went wrong with Attchemnt API.');\r\n        // }\r\n\r\n        // if(response.status == true) {\r\n        //     setTimeout(() => {\r\n        //         history.goBack();\r\n        //     }, 4000)\r\n        // }\r\n\r\n    }\r\n\r\n    const fileChange = async (e) => {\r\n        setApiLoading(true);\r\n        let formData = new FormData();\r\n        formData.append('file', e.target.files[0]);\r\n        const filename = e.target.files[0].name;\r\n        const response = await lorexFileUpload(formData);\r\n        if (response.error === false) {\r\n            setInputFiling({...inputFiling, value: response.record_id, success: 'uploaded'});\r\n            setInputFileSize({...inputFileSize, value: response.file_size})\r\n            if (filename) {\r\n                setInputFileName({...inputFileName, value: filename});\r\n                setApiLoading(false);\r\n            }\r\n        } else {\r\n            setApiLoading(false);\r\n        }\r\n    }\r\n\r\n    const removeSuccess = () => {\r\n        setSuccessMessage(' ');\r\n    }\r\n\r\n    const removeErrorMessage = () => {\r\n        setErrorMessage(' ');\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <Layout>\r\n            {role === 'Administrator' ?\r\n                <>\r\n                    {history.length > 0 ?\r\n                        <div className={classes.breadcrumbsDiv}>\r\n                            <Paper className={classes.breadcrumbsInner} elevation={1}>\r\n                                <Typography className={classes.baseColor} color=\"inherit\"\r\n                                            variant=\"h4\">Navigation</Typography>\r\n                                <Breadcrumbs aria-label=\"breadcrumb\">\r\n\r\n                                    {/*<Link color=\"inherit\" href=\"/\">*/}\r\n                                    {/*    <Typography color=\"textPrimary\">Dashboard</Typography>*/}\r\n                                    {/*</Link>*/}\r\n\r\n                                    <Link color=\"inherit\" onClick={(e) => {\r\n                                        history.goBack()\r\n                                    }}>\r\n                                        <Typography color=\"textPrimary\">Attachments</Typography>\r\n                                    </Link>\r\n                                    <Typography color=\"textPrimary\">Add Attachment</Typography>\r\n                                </Breadcrumbs>\r\n                            </Paper>\r\n                        </div>\r\n                        : ''}\r\n\r\n                    <Paper className={classes.paper} elevation={3}>\r\n                        {successMessage !== ' ' ? (\r\n                            <MySnackbarContentWrapper\r\n                                onClose={() => {\r\n                                    removeSuccess()\r\n                                }}\r\n                                variant=\"success\"\r\n                                message={successMessage}\r\n                            />\r\n                        ) : ''}\r\n\r\n\r\n                        {errorMessage !== ' ' ? (\r\n                            <MySnackbarContentWrapper\r\n                                onClose={() => {\r\n                                    removeErrorMessage()\r\n                                }}\r\n                                variant=\"error\"\r\n                                message={errorMessage}\r\n                            />\r\n                        ) : ''}\r\n                        {/*<Backdrop className={classes.backdrop} open={apiLoading}>*/}\r\n                        {/*    <CircularProgress color=\"inherit\" />*/}\r\n                        {/*</Backdrop>*/}\r\n                        <div className=\"row\">\r\n                            <form className={classes.formStyle} onSubmit={handleOnSubmit} noValidate\r\n                                  autoComplete=\"off\">\r\n\r\n\r\n                                <div className={'col-md-6'}>\r\n                                    <FormControl className={clsx(classes.selectField)}\r\n                                                 error={entityId.error !== ' '}>\r\n                                <Autocomplete\r\n                                    onChange={(event, newValue) => {\r\n                                       if(newValue) {\r\n                                           setEntityId({\r\n                                               ...entityId,\r\n                                               value: newValue.id\r\n                                           })\r\n                                       } else {\r\n                                           setEntityId({\r\n                                               ...entityId,\r\n                                               value: ''\r\n                                           })\r\n                                       }\r\n                                    }}\r\n\r\n                                    id=\"combo-box-demo\"\r\n                                    options={entityList ? entityList : ''}\r\n                                    getOptionLabel={(option) => option.account_name}\r\n                                    renderInput={(params) => <TextField error={entityId.error !== ' '} {...params} label=\"Entity Name\" variant=\"outlined\" />}\r\n                                />\r\n                                        <FormHelperText>{entityId.error}</FormHelperText>\r\n                                    </FormControl>\r\n                                </div>\r\n\r\n                                <FormGroup row>\r\n\r\n                                    <div className=\"col-md-12\">\r\n                                        <DropzoneArea key={key} getPreviewIcon={handlePreviewIcon} filesLimit={50}\r\n                                                      showPreviews={true}\r\n                                                      showPreviewsInDropzone={false}\r\n                                                      useChipsForPreview\r\n                                                      previewGridProps={{container: {spacing: 1, direction: 'row'}}}\r\n                                                      previewChipProps={{classes: {root: classes.previewChip}}}\r\n                                                      previewText=\"Selected files\"\r\n                                                      acceptedFiles={['.pdf']}\r\n                                                      onChange={handleChange}\r\n                                                      disableRejectionFeedback={apiLoading}\r\n                                                      clearOnUnmount={true}\r\n                                                      getFileAddedMessage={(fileName) => `File ${fileName} ready to add document.`}\r\n\r\n                                        />\r\n                                    </div>\r\n                                    {/*<div className={'col-md-6'}>*/}\r\n                                    {/*    <CustomFileInput*/}\r\n                                    {/*        disabled={loading}*/}\r\n                                    {/*        required*/}\r\n                                    {/*        id=\"attachment\"*/}\r\n                                    {/*        value={inputFiling.value.File}*/}\r\n                                    {/*        onChange={e => fileChange(e)}*/}\r\n                                    {/*        label=\"Attachment\"*/}\r\n                                    {/*        className={clsx(classes.fileUploading, classes.dense)}*/}\r\n                                    {/*        margin=\"dense\"*/}\r\n                                    {/*        invalid={inputFiling.error !== ' '}*/}\r\n                                    {/*        valid={inputFiling.success !== ' '}*/}\r\n                                    {/*    />*/}\r\n                                    {/*    <span>{inputFiling.success !== ' ' ? inputFiling.success : ' '}</span>*/}\r\n                                    {/*</div>*/}\r\n\r\n                                    <div className={'col-md-12'}>\r\n\r\n                                        <div className={clsx(classes.submitButton, 'custom-button-wrapper')}>\r\n                                            {apiLoading ? (\r\n                                                files.length !== 0 ?\r\n                                                    <Box position=\"relative\" display=\"inline-flex\">\r\n                                                        <CircularProgress variant=\"static\"\r\n                                                                          value={Math.round(state.counter / files.length * 100)}/>\r\n                                                        <Box\r\n                                                            top={0}\r\n                                                            left={0}\r\n                                                            bottom={0}\r\n                                                            right={0}\r\n                                                            position=\"absolute\"\r\n                                                            display=\"flex\"\r\n                                                            alignItems=\"center\"\r\n                                                            justifyContent=\"center\"\r\n                                                        >\r\n                                                            <Typography variant=\"caption\" component=\"div\"\r\n                                                                        color=\"textSecondary\">{Math.round(state.counter / files.length * 100)}%</Typography>\r\n                                                        </Box>\r\n                                                    </Box> : ''\r\n\r\n                                            ) : null}\r\n\r\n                                            {/*{apiLoading ? (*/}\r\n                                            {/*        <div className={clsx(classes.loader)}>*/}\r\n                                            {/*            <FacebookProgress/>*/}\r\n                                            {/*        </div>)*/}\r\n                                            {/*    : null}*/}\r\n\r\n                                            <input disabled={apiLoading}\r\n                                                   className={clsx('btn btn-primary', classes.restButton)}\r\n                                                   type=\"submit\" value=\"Add attachment\"/>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </FormGroup>\r\n                            </form>\r\n                        </div>\r\n\r\n                    </Paper>\r\n                </> : <MySnackbarContentWrapper\r\n                    variant=\"error\"\r\n                    message={'Access Denied.'}\r\n                />}\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default withOktaAuth(AdminAddAttachmentForm);\r\n","import React, {useContext, useEffect} from 'react';\r\nimport Layout from \"../layout/Layout\";\r\nimport MaterialTable from \"material-table\";\r\nimport {UserContext} from \"../context/UserContext\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport clsx from \"clsx\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport {EntityList} from \"../api/enitity.crud\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport {FetchMessageLogs} from \"../api/message\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport Modal from \"react-modal\";\r\nimport NewChatPanel from \"./NewChatPanel\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    adjustment: {\r\n        marginRight: '5px',\r\n    },\r\n    companyinfo: {\r\n        listStyle: 'none',\r\n        padding: '0px',\r\n        minHeight: '100px'\r\n\r\n    },\r\n    listItem: {\r\n        marginBottom: '5px'\r\n    },\r\n    textField: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        marginTop: 3,\r\n    },\r\n\r\n    textFieldOther: {\r\n        width: '100%',\r\n    },\r\n\r\n    textFieldCity: {\r\n\r\n        marginTop: 3,\r\n    },\r\n\r\n\r\n    textFieldtwofield: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n\r\n\r\n    selectField: {\r\n        // marginLeft: theme.spacing(1),\r\n        // marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        marginTop: 16,\r\n    },\r\n\r\n    label: {\r\n        fontSize: 14\r\n    },\r\n\r\n    dense: {\r\n        marginTop: 16,\r\n        fontSize: 14\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    checkbox: {\r\n        marginTop: 30\r\n    },\r\n\r\n    fileUpapiLoading: {\r\n        zIndex: 0,\r\n        marginTop: 22,\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: 15,\r\n        float: 'right',\r\n        display: 'inline-flex'\r\n    },\r\n\r\n    restButton: {\r\n\r\n        marginLeft: 20,\r\n    },\r\n\r\n    loader: {\r\n        marginTop: 7,\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n\r\n    fileError: {\r\n        color: '#fd397a'\r\n    },\r\n\r\n\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    paper: {\r\n        paddingTop: 30,\r\n        paddingBottom: 30,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        width: '100%',\r\n        marginBottom: 20\r\n    },\r\n\r\n    searchButton: {\r\n        marginTop: 26\r\n    }\r\n\r\n\r\n}));\r\n\r\n\r\nconst MessageLog = (props) => {\r\n\r\n\r\n    const {loading, attributes, addError, errorList, role, addTitle, profile} = useContext(UserContext);\r\n    const classes = useStyles();\r\n\r\n    const [entityId, setEntityId] = React.useState({value: '', error: ' '});\r\n    const [apiLoading, setApiLoading] = React.useState(false);\r\n    const [date, setDate] = React.useState({value: '', error: ' '});\r\n    const [date2, setDate2] = React.useState({value: '', error: ' '});\r\n    const [entityList, setEntityList] = React.useState([]);\r\n    const [threads, setThreads] = React.useState([]);\r\n    const [modalIsOpen,setIsOpen] = React.useState(false);\r\n    const [state, setState] = React.useState(false);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (loading === true) {\r\n            addTitle('Message Logs');\r\n            entitylisitingLoader();\r\n        }\r\n    }, [loading])\r\n\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function afterOpenModal() {\r\n        // references are now sync'd and can be accessed.\r\n        // subtitle.style.color = '#f00';\r\n    }\r\n\r\n    function closeModal(){\r\n        setIsOpen(false);\r\n    }\r\n\r\n    const entitylisitingLoader = async () => {\r\n        setApiLoading(true);\r\n        var EntityListLocal = await JSON.parse(localStorage.getItem(\"EntityList\") !== 'undefined' ? localStorage.getItem(\"EntityList\") : '');\r\n        if (EntityListLocal !== 'undefined' && EntityListLocal) {\r\n            setEntityList(EntityListLocal);\r\n            setApiLoading(false);\r\n        } else {\r\n            const response = await EntityList();\r\n\r\n            if (response.error) {\r\n                addError(response.error.message);\r\n            }\r\n\r\n            if (response.type === 'error') {\r\n                window.location.reload();\r\n            }\r\n\r\n            if (response.status === 401) {\r\n                window.location.reload();\r\n            }\r\n\r\n\r\n            localStorage.setItem(\"EntityList\", JSON.stringify(response.data));\r\n            await setEntityList(response.data);\r\n            setApiLoading(false);\r\n        }\r\n    }\r\n\r\n    const handleOnSubmit = (event) => {\r\n        event.preventDefault();\r\n        setApiLoading(true);\r\n        let formData = new FormData();\r\n        formData.append('eid', entityId.value);\r\n        formData.append('startDate', date.value);\r\n        formData.append('endDate', date2.value);\r\n        FetchMessageLogs(formData).then(response => {\r\n            console.log(response);\r\n            setThreads(response.data);\r\n            setApiLoading(false);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n\r\n            <Grid container spacing={0}>\r\n                <Paper className={classes.paper} elevation={3}>\r\n                    <form onSubmit={handleOnSubmit} noValidate\r\n                          autoComplete=\"off\">\r\n                        <FormGroup row>\r\n                            <div className={'col-md-4'}>\r\n                                <FormControl className={clsx(classes.selectField)}\r\n                                             error={entityId.error !== ' '}>\r\n                                    <Autocomplete\r\n                                        onChange={(event, newValue) => {\r\n                                            if (newValue) {\r\n                                                setEntityId({\r\n                                                    ...entityId,\r\n                                                    value: newValue.id\r\n                                                })\r\n                                            } else {\r\n                                                setEntityId({\r\n                                                    ...entityId,\r\n                                                    value: ''\r\n                                                })\r\n                                            }\r\n                                        }}\r\n                                        disabled={apiLoading}\r\n                                        id=\"combo-box-demo\"\r\n                                        options={entityList ? entityList : ''}\r\n                                        getOptionLabel={(option) => option.account_name}\r\n                                        renderInput={(params) => <TextField error={entityId.error !== ' '} {...params}\r\n                                                                            label=\"Entity Name\" variant=\"outlined\"/>}\r\n                                    />\r\n                                    <FormHelperText>{entityId.error}</FormHelperText>\r\n                                </FormControl>\r\n                            </div>\r\n\r\n\r\n                            <div className={'col-md-3'}>\r\n                                <TextField\r\n                                    required\r\n                                    label=\"Start Date\"\r\n                                    format={'Y-M-d'}\r\n                                    inputProps={{\r\n                                        name: 'inputFormationDate',\r\n                                        id: 'inputFormationDate',\r\n                                    }}\r\n                                    onChange={e => setDate({\r\n                                        ...date,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    type=\"date\"\r\n                                    className={clsx(classes.textFieldOther, classes.dense)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-3'}>\r\n                                <TextField\r\n                                    required\r\n                                    label=\"End Date\"\r\n                                    format={'Y-M-d'}\r\n                                    inputProps={{\r\n                                        name: 'inputFormationDate',\r\n                                        id: 'inputFormationDate',\r\n                                    }}\r\n                                    onChange={e => setDate2({\r\n                                        ...date2,\r\n                                        value: e.target.value\r\n                                    })}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    type=\"date\"\r\n                                    className={clsx(classes.textFieldOther, classes.dense)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={'col-md-2'}>\r\n                                <div\r\n                                    className={clsx(classes.submitButton, 'custom-button-wrapper', classes.searchButton)}>\r\n                                    <input\r\n                                        className={clsx('btn btn-primary', classes.restButton)}\r\n                                        type=\"submit\" value=\"Search\"/>\r\n                                </div>\r\n                            </div>\r\n                        </FormGroup>\r\n                    </form>\r\n                </Paper>\r\n            </Grid>\r\n\r\n\r\n            <div style={{maxWidth: \"100%\"}}>\r\n                <MaterialTable\r\n                    isLoading={apiLoading}\r\n                    columns={[\r\n                        {title: \"Entity\", field: \"name\"},\r\n                        {title: \"Subject\", field: \"subject\"},\r\n                        {title: \"Date\", field: \"sendTime\"},\r\n\r\n                    ]}\r\n                    data={threads}\r\n                    actions={[\r\n                        rowData => ({\r\n                            icon: () => <VisibilityIcon />,\r\n                            tooltip: 'View',\r\n                            onClick: (event, rowData) => {\r\n                                if (rowData.id) {\r\n                                 console.log(rowData.id);\r\n                                }\r\n                            }\r\n                        })\r\n                    ]}\r\n                    title=\"Messages\"\r\n                />\r\n            </div>\r\n\r\n\r\n            <div>\r\n                <Modal\r\n                    parentSelector={() => document.querySelector('#messageModal')}\r\n                    isOpen={modalIsOpen}\r\n                    onAfterOpen={afterOpenModal}\r\n                    onRequestClose={closeModal}\r\n                    contentLabel=\"Chat Application\"\r\n                    style={{\r\n                        overlay: {\r\n                            backgroundColor: 'rgba(0, 0, 0, 0.8)'\r\n                        },\r\n                    }}\r\n                >\r\n                    <div className=\"chat-wrapper\">\r\n                        <NewChatPanel/>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default MessageLog;\r\n","import React, {Component} from 'react';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport {Security, SecureRoute, LoginCallback} from '@okta/okta-react';\r\nimport Home from '../okta/Home';\r\nimport Login from '../okta/Login';\r\nimport AddEntity from \"../entity/AddEntity\";\r\nimport Dashboard from '../dashboard/Dashboard';\r\nimport UserContextProvider from '../context/UserContext';\r\nimport EntityDetailedPage from '../entity/EntityDetailedPage';\r\nimport SelfDetailedPage from '../entity/SelfDetailedPage';\r\nimport AddContactForm from \"../contact/AddContactForm\";\r\nimport Attachments from \"../attachment/Attachments\";\r\nimport Contacts from \"../contact/Contacts\";\r\nimport AddAttachmentForm from \"../attachment/AddAttachmentForm\";\r\nimport Privacy from \"../privacy/Privacy\";\r\nimport ExampleTable from \"../entity/ExampleTable\";\r\nimport AdminAddAttachmentForm from \"../attachment/AdminAttachmentForm\";\r\nimport MessageLog from '../message/MessageLog';\r\nexport default withRouter(class AppWithRouterAccess extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onAuthRequired = this.onAuthRequired.bind(this);\r\n    }\r\n\r\n    onAuthRequired() {\r\n        this.props.history.push('/login')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Security\r\n                issuer={process.env.REACT_APP_OKTA_BASE_URL + 'oauth2/default'}\r\n                clientId={process.env.REACT_APP_OKTA_CLIENT_ID}\r\n                redirectUri={window.location.origin + '/implicit/callback/'}\r\n                onAuthRequired={this.onAuthRequired}\r\n                pkce={true}>\r\n                <UserContextProvider>\r\n                    <SecureRoute exact={true} path='/' component={Dashboard}/>\r\n                    <SecureRoute exact={true} path='/home' component={Home}/>\r\n                    <SecureRoute exact={true} path='/entity' component={SelfDetailedPage}/>\r\n                    <SecureRoute exact={true} path='/entity/:id' component={EntityDetailedPage}/>\r\n                    <SecureRoute exact={true} path='/entity/new/add' component={AddEntity}/>\r\n                    <SecureRoute exact={true} path='/contact/form/add' component={AddContactForm}/>\r\n                    <SecureRoute exact={true} path='/contact/form/add/:id'\r\n                                 component={AddContactForm}/>\r\n                    <SecureRoute exact={true} path='/attachments' component={Attachments}/>\r\n                    <SecureRoute exact={true} path='/contacts' component={Contacts}/>\r\n                    <SecureRoute exact={true} path=\"/attachment/form/add\" component={AddAttachmentForm}/>\r\n                    <SecureRoute exact={true} path=\"/attachment/form/add/:id\" component={AddAttachmentForm}/>\r\n                    <SecureRoute exact={true} path=\"/table\" component={ExampleTable}/>\r\n                    <SecureRoute exact={true} path=\"/admin/attachments\" component={AdminAddAttachmentForm}/>\r\n                    <SecureRoute exact={true} path=\"/message/logs\" component={MessageLog}/>\r\n                </UserContextProvider>\r\n                <Route exact={true} path='/login'\r\n                       render={() => <Login baseUrl={process.env.REACT_APP_OKTA_BASE_URL}/>}/>\r\n                <Route exact={true} path='/implicit/callback' component={LoginCallback}/>\r\n                <Route exact={true} path='/privacy-policy' component={Privacy}/>\r\n            </Security>\r\n        );\r\n    }\r\n});\r\n","import React, {Component} from 'react';\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\nimport AppWithRouterAccess from './components/routes/AppWithRouterAccess';\r\nimport './App.css'\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div id=\"messageModal\">\r\n                <Router>\r\n                    <AppWithRouterAccess/>\r\n                </Router>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}